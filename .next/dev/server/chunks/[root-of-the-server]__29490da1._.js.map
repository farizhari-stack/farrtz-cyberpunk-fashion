{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/DownloadChrome/copy-of-farrtz-cyberpunk-fashion-next-update-cap-2/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,gMAAY,EAAC,aAAa"}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file:///D:/DownloadChrome/copy-of-farrtz-cyberpunk-fashion-next-update-cap-2/app/api/coupons/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport { supabase } from '@/lib/supabase';\r\n\r\nexport async function GET() {\r\n    try {\r\n        const { data: coupons, error } = await supabase.from('coupons').select('*');\r\n        if (error) throw error;\r\n\r\n        // Map snake_case to camelCase\r\n        const formatted = coupons.map(c => ({\r\n            ...c,\r\n            discountPercent: c.discount_percent,\r\n            createdDate: c.created_date,\r\n            expiryDate: c.expiry_date,\r\n            isActive: c.is_active,\r\n            usageCount: c.usage_count,\r\n            maxUsage: c.max_usage,\r\n            createdBy: c.created_by,\r\n            usedBy: c.used_by\r\n        }));\r\n\r\n        return NextResponse.json(formatted);\r\n    } catch (error) {\r\n        return NextResponse.json({ error: 'Error fetching coupons' }, { status: 500 });\r\n    }\r\n}\r\n\r\nexport async function POST(request: Request) {\r\n    try {\r\n        const json = await request.json();\r\n        const dbCoupon = {\r\n            code: json.code,\r\n            discount_percent: json.discountPercent,\r\n            created_date: new Date().toISOString(),\r\n            expiry_date: json.expiryDate,\r\n            is_active: json.isActive ?? true,\r\n            max_usage: json.maxUsage,\r\n            created_by: json.createdBy\r\n        };\r\n\r\n        const { data: coupon, error } = await supabase.from('coupons').insert(dbCoupon).select().single();\r\n        if (error) throw error;\r\n\r\n        return NextResponse.json({\r\n            ...coupon,\r\n            discountPercent: coupon.discount_percent,\r\n            createdDate: coupon.created_date,\r\n            expiryDate: coupon.expiry_date,\r\n            isActive: coupon.is_active,\r\n            usageCount: coupon.usage_count,\r\n            maxUsage: coupon.max_usage,\r\n            createdBy: coupon.created_by,\r\n            usedBy: coupon.used_by\r\n        });\r\n\r\n    } catch (error) {\r\n        return NextResponse.json({ error: 'Error creating coupon' }, { status: 500 });\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,eAAe;IAClB,IAAI;QACA,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,6HAAQ,CAAC,IAAI,CAAC,WAAW,MAAM,CAAC;QACvE,IAAI,OAAO,MAAM;QAEjB,8BAA8B;QAC9B,MAAM,YAAY,QAAQ,GAAG,CAAC,CAAA,IAAK,CAAC;gBAChC,GAAG,CAAC;gBACJ,iBAAiB,EAAE,gBAAgB;gBACnC,aAAa,EAAE,YAAY;gBAC3B,YAAY,EAAE,WAAW;gBACzB,UAAU,EAAE,SAAS;gBACrB,YAAY,EAAE,WAAW;gBACzB,UAAU,EAAE,SAAS;gBACrB,WAAW,EAAE,UAAU;gBACvB,QAAQ,EAAE,OAAO;YACrB,CAAC;QAED,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAyB,GAAG;YAAE,QAAQ;QAAI;IAChF;AACJ;AAEO,eAAe,KAAK,OAAgB;IACvC,IAAI;QACA,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,WAAW;YACb,MAAM,KAAK,IAAI;YACf,kBAAkB,KAAK,eAAe;YACtC,cAAc,IAAI,OAAO,WAAW;YACpC,aAAa,KAAK,UAAU;YAC5B,WAAW,KAAK,QAAQ,IAAI;YAC5B,WAAW,KAAK,QAAQ;YACxB,YAAY,KAAK,SAAS;QAC9B;QAEA,MAAM,EAAE,MAAM,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,6HAAQ,CAAC,IAAI,CAAC,WAAW,MAAM,CAAC,UAAU,MAAM,GAAG,MAAM;QAC/F,IAAI,OAAO,MAAM;QAEjB,OAAO,gJAAY,CAAC,IAAI,CAAC;YACrB,GAAG,MAAM;YACT,iBAAiB,OAAO,gBAAgB;YACxC,aAAa,OAAO,YAAY;YAChC,YAAY,OAAO,WAAW;YAC9B,UAAU,OAAO,SAAS;YAC1B,YAAY,OAAO,WAAW;YAC9B,UAAU,OAAO,SAAS;YAC1B,WAAW,OAAO,UAAU;YAC5B,QAAQ,OAAO,OAAO;QAC1B;IAEJ,EAAE,OAAO,OAAO;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACJ"}}]
}