{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/DownloadChrome/copy-of-farrtz-cyberpunk-fashion-next-update-cap-2/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,gMAAY,EAAC,aAAa"}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file:///D:/DownloadChrome/copy-of-farrtz-cyberpunk-fashion-next-update-cap-2/app/api/orders/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport { supabase } from '@/lib/supabase';\r\n\r\nexport async function GET(request: Request) {\r\n    const { data: orders } = await supabase.from('orders').select('*');\r\n\r\n    // Map snake_case to camelCase\r\n    const formattedOrders = orders?.map(o => ({\r\n        ...o,\r\n        userId: o.user_id,\r\n        totalAmount: o.total_amount,\r\n        paymentMethod: o.payment_method,\r\n        paymentProofUrl: o.payment_proof_url,\r\n    })) || [];\r\n\r\n    return NextResponse.json(formattedOrders);\r\n}\r\n\r\nexport async function POST(request: Request) {\r\n    try {\r\n        const json = await request.json();\r\n\r\n        const dbOrder = {\r\n            user_id: json.userId,\r\n            total_amount: json.totalAmount,\r\n            status: json.status,\r\n            date: new Date().toISOString(), // Use ISO string for Supabase\r\n            payment_method: json.paymentMethod,\r\n            items: json.items\r\n        };\r\n\r\n        const { data: order, error } = await supabase.from('orders').insert(dbOrder).select().single();\r\n        if (error) throw error;\r\n\r\n        return NextResponse.json({\r\n            success: true, order: {\r\n                ...order,\r\n                userId: order.user_id,\r\n                totalAmount: order.total_amount,\r\n                paymentMethod: order.payment_method,\r\n            }\r\n        });\r\n    } catch (e) {\r\n        console.error(e);\r\n        return NextResponse.json({ error: 'Order failed' }, { status: 500 });\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,eAAe,IAAI,OAAgB;IACtC,MAAM,EAAE,MAAM,MAAM,EAAE,GAAG,MAAM,6HAAQ,CAAC,IAAI,CAAC,UAAU,MAAM,CAAC;IAE9D,8BAA8B;IAC9B,MAAM,kBAAkB,QAAQ,IAAI,CAAA,IAAK,CAAC;YACtC,GAAG,CAAC;YACJ,QAAQ,EAAE,OAAO;YACjB,aAAa,EAAE,YAAY;YAC3B,eAAe,EAAE,cAAc;YAC/B,iBAAiB,EAAE,iBAAiB;QACxC,CAAC,MAAM,EAAE;IAET,OAAO,gJAAY,CAAC,IAAI,CAAC;AAC7B;AAEO,eAAe,KAAK,OAAgB;IACvC,IAAI;QACA,MAAM,OAAO,MAAM,QAAQ,IAAI;QAE/B,MAAM,UAAU;YACZ,SAAS,KAAK,MAAM;YACpB,cAAc,KAAK,WAAW;YAC9B,QAAQ,KAAK,MAAM;YACnB,MAAM,IAAI,OAAO,WAAW;YAC5B,gBAAgB,KAAK,aAAa;YAClC,OAAO,KAAK,KAAK;QACrB;QAEA,MAAM,EAAE,MAAM,KAAK,EAAE,KAAK,EAAE,GAAG,MAAM,6HAAQ,CAAC,IAAI,CAAC,UAAU,MAAM,CAAC,SAAS,MAAM,GAAG,MAAM;QAC5F,IAAI,OAAO,MAAM;QAEjB,OAAO,gJAAY,CAAC,IAAI,CAAC;YACrB,SAAS;YAAM,OAAO;gBAClB,GAAG,KAAK;gBACR,QAAQ,MAAM,OAAO;gBACrB,aAAa,MAAM,YAAY;gBAC/B,eAAe,MAAM,cAAc;YACvC;QACJ;IACJ,EAAE,OAAO,GAAG;QACR,QAAQ,KAAK,CAAC;QACd,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAe,GAAG;YAAE,QAAQ;QAAI;IACtE;AACJ"}}]
}