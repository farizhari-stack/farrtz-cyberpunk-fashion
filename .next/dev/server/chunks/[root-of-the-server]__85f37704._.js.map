{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///D:/DownloadChrome/copy-of-farrtz-cyberpunk-fashion-next-update-cap-2/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,gMAAY,EAAC,aAAa"}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file:///D:/DownloadChrome/copy-of-farrtz-cyberpunk-fashion-next-update-cap-2/app/api/feedbacks/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport { supabase } from '@/lib/supabase';\r\n\r\nexport async function GET() {\r\n    try {\r\n        const { data: feedbacks, error } = await supabase\r\n            .from('feedbacks')\r\n            .select('*')\r\n            .order('date', { ascending: false });\r\n\r\n        if (error) throw error;\r\n\r\n        // Map snake_case to camelCase\r\n        const formattedFeedbacks = feedbacks.map(f => ({\r\n            ...f,\r\n            userId: f.user_id,\r\n            userName: f.user_name,\r\n            userEmail: f.user_email,\r\n            photoUrl: f.photo_url,\r\n            orderId: f.order_id,\r\n        }));\r\n\r\n        return NextResponse.json(formattedFeedbacks);\r\n    } catch (error) {\r\n        return NextResponse.json({ error: 'Error fetching feedbacks' }, { status: 500 });\r\n    }\r\n}\r\n\r\nexport async function POST(request: Request) {\r\n    try {\r\n        const json = await request.json();\r\n\r\n        const dbFeedback = {\r\n            user_id: json.userId,\r\n            user_name: json.userName,\r\n            user_email: json.userEmail,\r\n            rating: json.rating,\r\n            message: json.message,\r\n            type: json.type,\r\n            photo_url: json.photoUrl,\r\n            order_id: json.orderId,\r\n            status: json.status || 'pending',\r\n            date: new Date().toISOString()\r\n        };\r\n\r\n        const { data: feedback, error } = await supabase.from('feedbacks').insert(dbFeedback).select().single();\r\n        if (error) throw error;\r\n\r\n        return NextResponse.json({\r\n            ...feedback,\r\n            userId: feedback.user_id,\r\n            userName: feedback.user_name,\r\n            userEmail: feedback.user_email,\r\n            photoUrl: feedback.photo_url,\r\n            orderId: feedback.order_id,\r\n        });\r\n    } catch (error) {\r\n        console.error(error);\r\n        return NextResponse.json({ error: 'Error creating feedback' }, { status: 500 });\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,eAAe;IAClB,IAAI;QACA,MAAM,EAAE,MAAM,SAAS,EAAE,KAAK,EAAE,GAAG,MAAM,6HAAQ,CAC5C,IAAI,CAAC,aACL,MAAM,CAAC,KACP,KAAK,CAAC,QAAQ;YAAE,WAAW;QAAM;QAEtC,IAAI,OAAO,MAAM;QAEjB,8BAA8B;QAC9B,MAAM,qBAAqB,UAAU,GAAG,CAAC,CAAA,IAAK,CAAC;gBAC3C,GAAG,CAAC;gBACJ,QAAQ,EAAE,OAAO;gBACjB,UAAU,EAAE,SAAS;gBACrB,WAAW,EAAE,UAAU;gBACvB,UAAU,EAAE,SAAS;gBACrB,SAAS,EAAE,QAAQ;YACvB,CAAC;QAED,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA2B,GAAG;YAAE,QAAQ;QAAI;IAClF;AACJ;AAEO,eAAe,KAAK,OAAgB;IACvC,IAAI;QACA,MAAM,OAAO,MAAM,QAAQ,IAAI;QAE/B,MAAM,aAAa;YACf,SAAS,KAAK,MAAM;YACpB,WAAW,KAAK,QAAQ;YACxB,YAAY,KAAK,SAAS;YAC1B,QAAQ,KAAK,MAAM;YACnB,SAAS,KAAK,OAAO;YACrB,MAAM,KAAK,IAAI;YACf,WAAW,KAAK,QAAQ;YACxB,UAAU,KAAK,OAAO;YACtB,QAAQ,KAAK,MAAM,IAAI;YACvB,MAAM,IAAI,OAAO,WAAW;QAChC;QAEA,MAAM,EAAE,MAAM,QAAQ,EAAE,KAAK,EAAE,GAAG,MAAM,6HAAQ,CAAC,IAAI,CAAC,aAAa,MAAM,CAAC,YAAY,MAAM,GAAG,MAAM;QACrG,IAAI,OAAO,MAAM;QAEjB,OAAO,gJAAY,CAAC,IAAI,CAAC;YACrB,GAAG,QAAQ;YACX,QAAQ,SAAS,OAAO;YACxB,UAAU,SAAS,SAAS;YAC5B,WAAW,SAAS,UAAU;YAC9B,UAAU,SAAS,SAAS;YAC5B,SAAS,SAAS,QAAQ;QAC9B;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC;QACd,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA0B,GAAG;YAAE,QAAQ;QAAI;IACjF;AACJ"}}]
}