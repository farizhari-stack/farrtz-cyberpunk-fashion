{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///D:/DownloadChrome/copy-of-farrtz-cyberpunk-fashion-next-update-cap-2/services/auth.ts"],"sourcesContent":["import { User, Order } from '../types';\n\nconst USER_SESSION_KEY = 'farrtz_user_session';\nconst ADMIN_SESSION_KEY = 'farrtz_admin_session';\n\nexport const authService = {\n  // Login\n  async login(email: string, password: string): Promise<{ success: boolean; message?: string; user?: User }> {\n    try {\n      const res = await fetch('/api/auth/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email, password })\n      });\n      const data = await res.json();\n      if (data.success && data.user) {\n        if (!data.user.isAdmin) {\n          authService.setUserSession(data.user);\n        } else {\n          return { success: false, message: 'Please use admin login page.' };\n        }\n      }\n      return data;\n    } catch (e) {\n      return { success: false, message: 'Network error' };\n    }\n  },\n\n  async adminLogin(email: string, password: string): Promise<{ success: boolean; message?: string; user?: User }> {\n    try {\n      const res = await fetch('/api/auth/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email, password })\n      });\n      const data = await res.json();\n      if (data.success && data.user) {\n        if (data.user.isAdmin) {\n          authService.setAdminSession(data.user);\n        } else {\n          return { success: false, message: 'Not an admin account.' };\n        }\n      }\n      return data;\n    } catch (e) {\n      return { success: false, message: 'Network error' };\n    }\n  },\n\n  async register(firstName: string, lastName: string, email: string, password: string): Promise<{ success: boolean; message?: string; user?: User }> {\n    try {\n      const res = await fetch('/api/auth/register', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          firstName, lastName, email, password,\n          avatar: `https://api.dicebear.com/7.x/bottts/svg?seed=${firstName}`\n        })\n      });\n      const data = await res.json();\n      if (data.success) {\n        authService.setUserSession(data.user);\n      }\n      return data;\n    } catch (e) {\n      return { success: false, message: 'Network error' };\n    }\n  },\n\n  async checkAdminExists(): Promise<boolean> {\n    // Mock true or fetch check\n    return true;\n  },\n\n  async adminRegister(userData: {\n    email: string;\n    password: string;\n    firstName: string;\n    lastName: string;\n    adminCode: string;\n  }): Promise<{ success: boolean; user?: User; message?: string; autoLogin?: boolean }> {\n    try {\n      const res = await fetch('/api/auth/register', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          ...userData,\n          isAdmin: true\n        })\n      });\n      const data = await res.json();\n      if (data.success) {\n        authService.setAdminSession(data.user);\n        return { success: true, user: data.user, autoLogin: true };\n      }\n      return data;\n    } catch (e) {\n      return { success: false, message: 'Network error' };\n    }\n  },\n\n  async adminUpdatePassword(newPassword: string): Promise<{ success: boolean; message?: string }> {\n    // Implement password update logic here (API call)\n    return { success: true, message: 'Password updated' };\n  },\n\n  // User Password Reset Flow\n  async initiatePasswordReset(email: string): Promise<{ success: boolean; message?: string }> {\n    // In a real app, this would trigger an API call to send an email.\n    // For this prototype, we'll confirm if the email exists locally or just simulate success.\n    console.log(`Simulating sending code to ${email}`);\n    return { success: true, message: 'Verification code sent' };\n  },\n\n  async validateResetCode(email: string, code: string): Promise<{ success: boolean; message?: string }> {\n    // In a real app, this would verify the code against a backend record.\n    // We'll simulate validation (e.g., accept any 5-digit code).\n    if (code.length === 5) {\n      return { success: true };\n    }\n    return { success: false, message: 'Invalid code' };\n  },\n\n  async completePasswordReset(email: string, newPassword: string): Promise<{ success: boolean; message?: string }> {\n    try {\n      // We'll call a new API route to actually update the password if possible,\n      // or just simulate success to allow the flow to complete.\n      // Since we migrated to Supabase, we would ideally use Supabase's password update.\n      // However, without a logged-in session, standard Supabase requires the email link flow.\n      // For this \"code\" flow UI, we will simulate the success for the Prototype.\n\n      // TODO: Implement actual backend update via Admin API if needed.\n      console.log(`Simulating password reset for ${email}`);\n      return { success: true, message: 'Password updated successfully' };\n    } catch (e) {\n      return { success: false, message: 'Failed to update password' };\n    }\n  },\n\n  // Orders\n  createOrder: async (order: Order): Promise<{ success: boolean; message?: string }> => {\n    await fetch('/api/orders', { method: 'POST', body: JSON.stringify(order) });\n    return { success: true };\n  },\n\n  getAllOrdersAsync: async (): Promise<Order[]> => {\n    try {\n      const res = await fetch('/api/orders');\n      return res.ok ? res.json() : [];\n    } catch { return []; }\n  },\n\n  getAllOrders: (): Order[] => {\n    // Legacy sync method not supported with API\n    return [];\n  },\n\n  getOrdersByUser: async (userId: string): Promise<Order[]> => {\n    const orders = await authService.getAllOrdersAsync();\n    return orders.filter(o => o.userId === userId);\n  },\n\n  updateOrderStatus: async (orderId: string, status: Order['status']): Promise<boolean> => {\n    return true;\n  },\n\n  // Session methods\n  setUserSession: (user: User) => {\n    const safeUser = { ...user };\n    delete safeUser.password;\n    sessionStorage.setItem(USER_SESSION_KEY, JSON.stringify(safeUser));\n  },\n  setAdminSession: (user: User) => {\n    const safeUser = { ...user };\n    delete safeUser.password;\n    sessionStorage.setItem(ADMIN_SESSION_KEY, JSON.stringify(safeUser));\n  },\n  getCurrentUserSession: (): User | null => {\n    if (typeof window === 'undefined') return null;\n    const data = sessionStorage.getItem(USER_SESSION_KEY);\n    return data ? JSON.parse(data) : null;\n  },\n  getCurrentAdminSession: (): User | null => {\n    if (typeof window === 'undefined') return null;\n    const data = sessionStorage.getItem(ADMIN_SESSION_KEY);\n    return data ? JSON.parse(data) : null;\n  },\n  getCurrentUser: (): User | null => {\n    return authService.getCurrentAdminSession() || authService.getCurrentUserSession();\n  },\n  logout: () => {\n    sessionStorage.removeItem(USER_SESSION_KEY);\n    sessionStorage.removeItem(ADMIN_SESSION_KEY);\n  },\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 258, "column": 0}, "map": {"version":3,"sources":["file:///D:/DownloadChrome/copy-of-farrtz-cyberpunk-fashion-next-update-cap-2/services/productService.ts"],"sourcesContent":["import { Product } from '../types';\n\nexport const productService = {\n  initialize: () => {\n    // No-op\n  },\n\n  getAllProducts: async (): Promise<Product[]> => {\n    try {\n      const res = await fetch('/api/products');\n      if (!res.ok) throw new Error('Failed to fetch');\n      const data = await res.json();\n      return data;\n    } catch (e) {\n      console.error(e);\n      return [];\n    }\n  },\n\n  getAllProductsAsync: async (): Promise<Product[]> => {\n    return productService.getAllProducts();\n  },\n\n  getAllProductsSync: (): Product[] => {\n    console.warn(\"getAllProductsSync is deprecated in Next.js version\");\n    return [];\n  },\n\n  saveProduct: async (product: Product): Promise<{ success: boolean; product?: Product }> => {\n    try {\n      const res = await fetch('/api/products', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(product)\n      });\n      const data = await res.json();\n      return { success: res.ok, product: data };\n    } catch (e) {\n      return { success: false };\n    }\n  },\n\n  deleteProduct: async (id: number): Promise<void> => {\n    // Implement DELETE API if needed\n  },\n\n  getProductById: (id: number): Product | undefined => {\n    // Cannot be sync anymore. Return undefined.\n    return undefined;\n  },\n\n  getProductsByCategory: (category: string): Product[] => {\n    // Cannot be sync.\n    return [];\n  },\n\n  // These synchronous getters used by UI filtering might be broken.\n  // The UI should filter the *loaded* products array.\n  // Home.tsx does exactly that (lines 37-43 load products into state, then useMemo to filter).\n  // So replacing these methods with empty/dummy is fine as long as Home.tsx doesn't use them directly for *fetching*.\n  // It uses `generateProducts` helper via `useEffect` -> `productService.getAllProductsAsync`.\n  // Wait, Home.tsx uses `productService.getAllProductsAsync` ONLY.\n  // It uses `generateProducts` from `utils` if API fails?\n  // It uses `productService` for `getAll`.\n  // It filters `allProducts` state using `useMemo`. It DOES NOT call `productService.getProductsByCategory`.\n  // So we are safe.\n};\n"],"names":[],"mappings":";;;;AAEO,MAAM,iBAAiB;IAC5B,YAAY;IACV,QAAQ;IACV;IAEA,gBAAgB;QACd,IAAI;YACF,MAAM,MAAM,MAAM,MAAM;YACxB,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;YAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,OAAO;QACT,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC;YACd,OAAO,EAAE;QACX;IACF;IAEA,qBAAqB;QACnB,OAAO,eAAe,cAAc;IACtC;IAEA,oBAAoB;QAClB,QAAQ,IAAI,CAAC;QACb,OAAO,EAAE;IACX;IAEA,aAAa,OAAO;QAClB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,iBAAiB;gBACvC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YACA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,OAAO;gBAAE,SAAS,IAAI,EAAE;gBAAE,SAAS;YAAK;QAC1C,EAAE,OAAO,GAAG;YACV,OAAO;gBAAE,SAAS;YAAM;QAC1B;IACF;IAEA,eAAe,OAAO;IACpB,iCAAiC;IACnC;IAEA,gBAAgB,CAAC;QACf,4CAA4C;QAC5C,OAAO;IACT;IAEA,uBAAuB,CAAC;QACtB,kBAAkB;QAClB,OAAO,EAAE;IACX;AAYF"}},
    {"offset": {"line": 320, "column": 0}, "map": {"version":3,"sources":["file:///D:/DownloadChrome/copy-of-farrtz-cyberpunk-fashion-next-update-cap-2/components/AdminFeedbackChat.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { motion as framerMotion } from 'framer-motion';\r\nimport { Star, MessageSquare, AlertCircle, Check, Eye, MessageCircle, Send, Image as ImageIcon } from 'lucide-react';\r\nimport { Feedback, ChatConversation, ChatMessage } from '../types';\r\n\r\nconst motion = framerMotion as any;\r\n\r\ninterface AdminFeedbackChatProps {\r\n    feedbacks: Feedback[];\r\n    conversations: ChatConversation[];\r\n    onUpdateFeedbackStatus: (feedbackId: string, status: Feedback['status']) => void;\r\n    onSendMessage: (userId: string, message: string) => void;\r\n}\r\n\r\nconst AdminFeedbackChat: React.FC<AdminFeedbackChatProps> = ({\r\n    feedbacks,\r\n    conversations,\r\n    onUpdateFeedbackStatus,\r\n    onSendMessage,\r\n}) => {\r\n    const [activeTab, setActiveTab] = useState<'feedback' | 'complaint' | 'chat'>('feedback');\r\n    const [selectedConversation, setSelectedConversation] = useState<string | null>(null);\r\n    const [replyMessage, setReplyMessage] = useState('');\r\n\r\n    // Separate feedbacks and complaints\r\n    const feedbackList = feedbacks.filter(f => f.type === 'feedback');\r\n    const complaintList = feedbacks.filter(f => f.type === 'complaint');\r\n\r\n    const getAverageRating = (list: Feedback[]) => {\r\n        if (list.length === 0) return 0;\r\n        const sum = list.reduce((acc, f) => acc + f.rating, 0);\r\n        return (sum / list.length).toFixed(1);\r\n    };\r\n\r\n    const getRatingCounts = (list: Feedback[]) => {\r\n        const counts = { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 };\r\n        list.forEach((f) => {\r\n            counts[f.rating as keyof typeof counts]++;\r\n        });\r\n        return counts;\r\n    };\r\n\r\n    const handleSendReply = (userId: string) => {\r\n        if (replyMessage.trim()) {\r\n            onSendMessage(userId, replyMessage.trim());\r\n            setReplyMessage('');\r\n        }\r\n    };\r\n\r\n    const handleChatFromComplaint = (complaint: Feedback) => {\r\n        setActiveTab('chat');\r\n        setSelectedConversation(complaint.userId);\r\n    };\r\n\r\n    const selectedConv = conversations.find((c) => c.userId === selectedConversation);\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Header Stats */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n                <div className=\"bg-gradient-to-br  from-cyan-900/40 to-cyan-800/40 border border-cyan-500/30 rounded-lg p-6\">\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                        <MessageSquare className=\"text-cyan-400\" size={24} />\r\n                    </div>\r\n                    <h3 className=\"text-3xl font-bold text-white\">{feedbackList.length}</h3>\r\n                    <p className=\"text-sm text-gray-400\">Total Feedbacks</p>\r\n                </div>\r\n\r\n                <div className=\"bg-gradient-to-br from-orange-900/40 to-orange-800/40 border border-orange-500/30 rounded-lg p-6\">\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                        <AlertCircle className=\"text-orange-400\" size={24} />\r\n                    </div>\r\n                    <h3 className=\"text-3xl font-bold text-white\">{complaintList.length}</h3>\r\n                    <p className=\"text-sm text-gray-400\">Total Complaints</p>\r\n                </div>\r\n\r\n                <div className=\"bg-gradient-to-br from-purple-900/40 to-purple-800/40 border border-purple-500/30 rounded-lg p-6\">\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                        <Star className=\"text-yellow-400\" size={24} />\r\n                    </div>\r\n                    <h3 className=\"text-3xl font-bold text-white\">{getAverageRating(feedbacks)}</h3>\r\n                    <p className=\"text-sm text-gray-400\">Average Rating</p>\r\n                </div>\r\n\r\n                <div className=\"bg-gradient-to-br from-green-900/40 to-green-800/40 border border-green-500/30 rounded-lg p-6\">\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                        <MessageCircle className=\"text-green-400\" size={24} />\r\n                    </div>\r\n                    <h3 className=\"text-3xl font-bold text-white\">{conversations.length}</h3>\r\n                    <p className=\"text-sm text-gray-400\">Active Chats</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Tabs */}\r\n            <div className=\"flex gap-4 border-b border-purple-500/30\">\r\n                <button\r\n                    onClick={() => setActiveTab('feedback')}\r\n                    className={`px-6 py-3 font-bold transition-all ${activeTab === 'feedback'\r\n                            ? 'text-cyan-400 border-b-2 border-cyan-400'\r\n                            : 'text-gray-400 hover:text-white'\r\n                        }`}\r\n                >\r\n                    <MessageSquare className=\"inline mr-2\" size={18} />\r\n                    Feedbacks ({feedbackList.length})\r\n                </button>\r\n                <button\r\n                    onClick={() => setActiveTab('complaint')}\r\n                    className={`px-6 py-3 font-bold transition-all relative ${activeTab === 'complaint'\r\n                            ? 'text-orange-400 border-b-2 border-orange-400'\r\n                            : 'text-gray-400 hover:text-white'\r\n                        }`}\r\n                >\r\n                    <AlertCircle className=\"inline mr-2\" size={18} />\r\n                    Complaints ({complaintList.length})\r\n                    {complaintList.filter(c => c.status === 'pending').length > 0 && (\r\n                        <span className=\"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-xs flex items-center justify-center text-white\">\r\n                            {complaintList.filter(c => c.status === 'pending').length}\r\n                        </span>\r\n                    )}\r\n                </button>\r\n                <button\r\n                    onClick={() => setActiveTab('chat')}\r\n                    className={`px-6 py-3 font-bold transition-all relative ${activeTab === 'chat'\r\n                            ? 'text-cyan-400 border-b-2 border-cyan-400'\r\n                            : 'text-gray-400 hover:text-white'\r\n                        }`}\r\n                >\r\n                    <MessageCircle className=\"inline mr-2\" size={18} />\r\n                    User Chats\r\n                    {conversations.filter((c) => c.unreadCount > 0).length > 0 && (\r\n                        <span className=\"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-xs flex items-center justify-center text-white\">\r\n                            {conversations.filter((c) => c.unreadCount > 0).length}\r\n                        </span>\r\n                    )}\r\n                </button>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            {activeTab === 'feedback' && (\r\n                <div className=\"space-y-4\">\r\n                    {/* Rating Distribution for Feedbacks */}\r\n                    <div className=\"bg-gradient-to-br from-purple-900/20 to-cyan-900/20 border border-purple-500/30 rounded-lg p-6\">\r\n                        <h3 className=\"text-xl font-bold text-white mb-4\">Feedback Rating Distribution</h3>\r\n                        {Object.entries(getRatingCounts(feedbackList))\r\n                            .reverse()\r\n                            .map(([rating, count]) => {\r\n                                const percentage = feedbackList.length > 0 ? (count / feedbackList.length) * 100 : 0;\r\n                                return (\r\n                                    <div key={rating} className=\"flex items-center gap-4 mb-3\">\r\n                                        <div className=\"flex items-center gap-1 w-20\">\r\n                                            <span className=\"text-white font-bold\">{rating}</span>\r\n                                            <Star size={16} className=\"fill-yellow-400 text-yellow-400\" />\r\n                                        </div>\r\n                                        <div className=\"flex-1 h-3 bg-gray-800 rounded-full overflow-hidden\">\r\n                                            <div\r\n                                                className=\"h-full bg-gradient-to-r from-cyan-500 to-blue-500\"\r\n                                                style={{ width: `${percentage}%` }}\r\n                                            ></div>\r\n                                        </div>\r\n                                        <span className=\"text-gray-400 w-16 text-right\">{count}</span>\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                    </div>\r\n\r\n                    {/* Feedback List */}\r\n                    <div className=\"space-y-4\">\r\n                        {feedbackList.length === 0 ? (\r\n                            <div className=\"text-center py-12 text-gray-400\">\r\n                                <MessageSquare size={48} className=\"mx-auto mb-4 opacity-50\" />\r\n                                <p>No feedbacks yet</p>\r\n                            </div>\r\n                        ) : (\r\n                            feedbackList.map((feedback) => (\r\n                                <FeedbackCard\r\n                                    key={feedback.id}\r\n                                    feedback={feedback}\r\n                                    onUpdateStatus={onUpdateFeedbackStatus}\r\n                                />\r\n                            ))\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {activeTab === 'complaint' && (\r\n                <div className=\"space-y-4\">\r\n                    {/* Rating Distribution for Complaints */}\r\n                    <div className=\"bg-gradient-to-br from-orange-900/20 to-red-900/20 border border-orange-500/30 rounded-lg p-6\">\r\n                        <h3 className=\"text-xl font-bold text-white mb-4\">Complaint Rating Distribution</h3>\r\n                        {Object.entries(getRatingCounts(complaintList))\r\n                            .reverse()\r\n                            .map(([rating, count]) => {\r\n                                const percentage = complaintList.length > 0 ? (count / complaintList.length) * 100 : 0;\r\n                                return (\r\n                                    <div key={rating} className=\"flex items-center gap-4 mb-3\">\r\n                                        <div className=\"flex items-center gap-1 w-20\">\r\n                                            <span className=\"text-white font-bold\">{rating}</span>\r\n                                            <Star size={16} className=\"fill-yellow-400 text-yellow-400\" />\r\n                                        </div>\r\n                                        <div className=\"flex-1 h-3 bg-gray-800 rounded-full overflow-hidden\">\r\n                                            <div\r\n                                                className=\"h-full bg-gradient-to-r from-orange-500 to-red-500\"\r\n                                                style={{ width: `${percentage}%` }}\r\n                                            ></div>\r\n                                        </div>\r\n                                        <span className=\"text-gray-400 w-16 text-right\">{count}</span>\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                    </div>\r\n\r\n                    {/* Complaint List */}\r\n                    <div className=\"space-y-4\">\r\n                        {complaintList.length === 0 ? (\r\n                            <div className=\"text-center py-12 text-gray-400\">\r\n                                <AlertCircle size={48} className=\"mx-auto mb-4 opacity-50\" />\r\n                                <p>No complaints yet</p>\r\n                            </div>\r\n                        ) : (\r\n                            complaintList.map((complaint) => (\r\n                                <ComplaintCard\r\n                                    key={complaint.id}\r\n                                    complaint={complaint}\r\n                                    onUpdateStatus={onUpdateFeedbackStatus}\r\n                                    onChatWithUser={() => handleChatFromComplaint(complaint)}\r\n                                />\r\n                            ))\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {activeTab === 'chat' && (\r\n                <div className=\"grid grid-cols-3 gap-4 h-[600px]\">\r\n                    {/* Conversations List */}\r\n                    <div className=\"col-span-1 bg-gradient-to-br from-purple-900/20 to-cyan-900/20 border border-purple-500/30 rounded-lg overflow-hidden\">\r\n                        <div className=\"p-4 border-b border-purple-500/30\">\r\n                            <h3 className=\"text-white font-bold\">Conversations</h3>\r\n                        </div>\r\n                        <div className=\"overflow-y-auto h-[calc(100%-60px)]\">\r\n                            {conversations.length === 0 ? (\r\n                                <div className=\"text-center py-12 text-gray-400\">\r\n                                    <MessageCircle size={48} className=\"mx-auto mb-4 opacity-50\" />\r\n                                    <p className=\"text-sm\">No conversations yet</p>\r\n                                </div>\r\n                            ) : (\r\n                                conversations.map((conv) => (\r\n                                    <button\r\n                                        key={conv.userId}\r\n                                        onClick={() => setSelectedConversation(conv.userId)}\r\n                                        className={`w-full p-4 border-b border-purple-500/20 hover:bg-white/5 transition-colors text-left ${selectedConversation === conv.userId ? 'bg-white/10' : ''\r\n                                            }`}\r\n                                    >\r\n                                        <div className=\"flex items-center justify-between mb-1\">\r\n                                            <h4 className=\"text-white font-bold text-sm\">{conv.userName}</h4>\r\n                                            {conv.unreadCount > 0 && (\r\n                                                <span className=\"w-5 h-5 bg-red-500 rounded-full text-xs flex items-center justify-center text-white\">\r\n                                                    {conv.unreadCount}\r\n                                                </span>\r\n                                            )}\r\n                                        </div>\r\n                                        <p className=\"text-xs text-gray-400 truncate\">\r\n                                            {conv.messages[conv.messages.length - 1]?.message || 'No messages'}\r\n                                        </p>\r\n                                        <p className=\"text-xs text-gray-500 mt-1\">\r\n                                            {new Date(conv.lastMessageTime).toLocaleTimeString()}\r\n                                        </p>\r\n                                    </button>\r\n                                ))\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Chat Window */}\r\n                    <div className=\"col-span-2 bg-gradient-to-br from-purple-900/20 to-cyan-900/20 border border-purple-500/30 rounded-lg flex flex-col overflow-hidden\">\r\n                        {selectedConv ? (\r\n                            <>\r\n                                <div className=\"p-4 border-b border-purple-500/30\">\r\n                                    <h3 className=\"text-white font-bold\">{selectedConv.userName}</h3>\r\n                                    <p className=\"text-sm text-gray-400\">{selectedConv.userEmail}</p>\r\n                                </div>\r\n                                <div className=\"flex-1 overflow-y-auto p-4 space-y-3\">\r\n                                    {selectedConv.messages.map((msg) => (\r\n                                        <div\r\n                                            key={msg.id}\r\n                                            className={`flex ${msg.sender === 'admin' ? 'justify-end' : 'justify-start'}`}\r\n                                        >\r\n                                            <div\r\n                                                className={`max-w-[75%] rounded-lg p-3 ${msg.sender === 'admin'\r\n                                                        ? 'bg-gradient-to-br from-purple-500 to-cyan-500 text-white'\r\n                                                        : 'bg-white/10 text-white border border-purple-500/30'\r\n                                                    }`}\r\n                                            >\r\n                                                <p className=\"text-sm break-words\">{msg.message}</p>\r\n                                                <p className=\"text-xs opacity-70 mt-1\">\r\n                                                    {new Date(msg.timestamp).toLocaleTimeString()}\r\n                                                </p>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                                <div className=\"p-4 border-t border-purple-500/30\">\r\n                                    <div className=\"flex gap-2\">\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={replyMessage}\r\n                                            onChange={(e) => setReplyMessage(e.target.value)}\r\n                                            onKeyPress={(e) => e.key === 'Enter' && handleSendReply(selectedConv.userId)}\r\n                                            placeholder=\"Type a reply...\"\r\n                                            className=\"flex-1 bg-black/40 border border-purple-500/30 rounded-lg px-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500\"\r\n                                        />\r\n                                        <button\r\n                                            onClick={() => handleSendReply(selectedConv.userId)}\r\n                                            disabled={!replyMessage.trim()}\r\n                                            className=\"bg-gradient-to-r from-purple-500 to-cyan-500 text-white px-6 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                                        >\r\n                                            <Send size={20} />\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </>\r\n                        ) : (\r\n                            <div className=\"flex-1 flex items-center justify-center text-gray-400\">\r\n                                <div className=\"text-center\">\r\n                                    <MessageCircle size={64} className=\"mx-auto mb-4 opacity-50\" />\r\n                                    <p>Select a conversation to start chatting</p>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\n// Feedback Card Component\r\nconst FeedbackCard: React.FC<{ feedback: Feedback; onUpdateStatus: (id: string, status: Feedback['status']) => void }> = ({ feedback, onUpdateStatus }) => {\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"bg-gradient-to-br from-cyan-900/20 to-blue-900/20 border border-cyan-500/30 rounded-lg p-6\"\r\n        >\r\n            <div className=\"flex items-start justify-between mb-4\">\r\n                <div>\r\n                    <div className=\"flex items-center gap-3 mb-2\">\r\n                        <h4 className=\"text-white font-bold\">{feedback.userName}</h4>\r\n                        <span className=\"px-3 py-1 rounded-full text-xs font-bold bg-cyan-500/20 text-cyan-400\">\r\n                            Feedback\r\n                        </span>\r\n                    </div>\r\n                    <p className=\"text-sm text-gray-400\">{feedback.userEmail}</p>\r\n                    <div className=\"flex gap-1 mt-2\">\r\n                        {Array.from({ length: 5 }).map((_, i) => (\r\n                            <Star\r\n                                key={i}\r\n                                size={16}\r\n                                className={i < feedback.rating ? 'fill-yellow-400 text-yellow-400' : 'text-gray-600'}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                    <select\r\n                        value={feedback.status}\r\n                        onChange={(e) => onUpdateStatus(feedback.id, e.target.value as Feedback['status'])}\r\n                        className=\"bg-black/40 border border-purple-500/30 text-white rounded px-3 py-1 text-sm\"\r\n                    >\r\n                        <option value=\"pending\">Pending</option>\r\n                        <option value=\"reviewed\">Reviewed</option>\r\n                        <option value=\"resolved\">Resolved</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <p className=\"text-white mb-3\">{feedback.message}</p>\r\n            <p className=\"text-xs text-gray-500\">{new Date(feedback.date).toLocaleString()}</p>\r\n        </motion.div>\r\n    );\r\n};\r\n\r\n// Complaint Card Component\r\nconst ComplaintCard: React.FC<{\r\n    complaint: Feedback;\r\n    onUpdateStatus: (id: string, status: Feedback['status']) => void;\r\n    onChatWithUser: () => void;\r\n}> = ({ complaint, onUpdateStatus, onChatWithUser }) => {\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className=\"bg-gradient-to-br from-orange-900/20 to-red-900/20 border border-orange-500/30 rounded-lg p-6\"\r\n        >\r\n            <div className=\"flex items-start justify-between mb-4\">\r\n                <div>\r\n                    <div className=\"flex items-center gap-3 mb-2\">\r\n                        <h4 className=\"text-white font-bold\">{complaint.userName}</h4>\r\n                        <span className=\"px-3 py-1 rounded-full text-xs font-bold bg-orange-500/20 text-orange-400\">\r\n                            Complaint\r\n                        </span>\r\n                    </div>\r\n                    <p className=\"text-sm text-gray-400\">{complaint.userEmail}</p>\r\n                    <div className=\"flex gap-1 mt-2\">\r\n                        {Array.from({ length: 5 }).map((_, i) => (\r\n                            <Star\r\n                                key={i}\r\n                                size={16}\r\n                                className={i < complaint.rating ? 'fill-yellow-400 text-yellow-400' : 'text-gray-600'}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                    <select\r\n                        value={complaint.status}\r\n                        onChange={(e) => onUpdateStatus(complaint.id, e.target.value as Feedback['status'])}\r\n                        className=\"bg-black/40 border border-orange-500/30 text-white rounded px-3 py-1 text-sm\"\r\n                    >\r\n                        <option value=\"pending\">Pending</option>\r\n                        <option value=\"reviewed\">Reviewed</option>\r\n                        <option value=\"resolved\">Resolved</option>\r\n                    </select>\r\n                    <button\r\n                        onClick={onChatWithUser}\r\n                        className=\"bg-gradient-to-r from-purple-500 to-cyan-500 text-white px-4 py-1 rounded text-sm font-bold flex items-center gap-2 hover:from-purple-600 hover:to-cyan-600 transition-all\"\r\n                    >\r\n                        <MessageCircle size={16} />\r\n                        Chat\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <p className=\"text-white mb-3\">{complaint.message}</p>\r\n            {complaint.photoUrl && (\r\n                <div className=\"mb-3\">\r\n                    <div className=\"flex items-center gap-2 text-orange-400 mb-2\">\r\n                        <ImageIcon size={16} />\r\n                        <span className=\"text-sm font-bold\">Attached Photo:</span>\r\n                    </div>\r\n                    <img\r\n                        src={complaint.photoUrl}\r\n                        alt=\"Complaint photo\"\r\n                        className=\"max-w-md max-h-64 rounded-lg border-2 border-orange-500/30 cursor-pointer hover:border-orange-500/60 transition-colors\"\r\n                        onClick={() => window.open(complaint.photoUrl, '_blank')}\r\n                    />\r\n                </div>\r\n            )}\r\n            <p className=\"text-xs text-gray-500\">{new Date(complaint.date).toLocaleString()}</p>\r\n        </motion.div>\r\n    );\r\n};\r\n\r\nexport default AdminFeedbackChat;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;AAGA,MAAM,SAAS,oMAAY;AAS3B,MAAM,oBAAsD,CAAC,EACzD,SAAS,EACT,aAAa,EACb,sBAAsB,EACtB,aAAa,EAChB;IACG,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAoC;IAC9E,MAAM,CAAC,sBAAsB,wBAAwB,GAAG,IAAA,iNAAQ,EAAgB;IAChF,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,oCAAoC;IACpC,MAAM,eAAe,UAAU,MAAM,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;IACtD,MAAM,gBAAgB,UAAU,MAAM,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;IAEvD,MAAM,mBAAmB,CAAC;QACtB,IAAI,KAAK,MAAM,KAAK,GAAG,OAAO;QAC9B,MAAM,MAAM,KAAK,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,MAAM,EAAE;QACpD,OAAO,CAAC,MAAM,KAAK,MAAM,EAAE,OAAO,CAAC;IACvC;IAEA,MAAM,kBAAkB,CAAC;QACrB,MAAM,SAAS;YAAE,GAAG;YAAG,GAAG;YAAG,GAAG;YAAG,GAAG;YAAG,GAAG;QAAE;QAC9C,KAAK,OAAO,CAAC,CAAC;YACV,MAAM,CAAC,EAAE,MAAM,CAAwB;QAC3C;QACA,OAAO;IACX;IAEA,MAAM,kBAAkB,CAAC;QACrB,IAAI,aAAa,IAAI,IAAI;YACrB,cAAc,QAAQ,aAAa,IAAI;YACvC,gBAAgB;QACpB;IACJ;IAEA,MAAM,0BAA0B,CAAC;QAC7B,aAAa;QACb,wBAAwB,UAAU,MAAM;IAC5C;IAEA,MAAM,eAAe,cAAc,IAAI,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK;IAE5D,qBACI,8OAAC;QAAI,WAAU;;0BAEX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC,yOAAa;oCAAC,WAAU;oCAAgB,MAAM;;;;;;;;;;;0CAEnD,8OAAC;gCAAG,WAAU;0CAAiC,aAAa,MAAM;;;;;;0CAClE,8OAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;kCAGzC,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC,mOAAW;oCAAC,WAAU;oCAAkB,MAAM;;;;;;;;;;;0CAEnD,8OAAC;gCAAG,WAAU;0CAAiC,cAAc,MAAM;;;;;;0CACnE,8OAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;kCAGzC,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC,0MAAI;oCAAC,WAAU;oCAAkB,MAAM;;;;;;;;;;;0CAE5C,8OAAC;gCAAG,WAAU;0CAAiC,iBAAiB;;;;;;0CAChE,8OAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;kCAGzC,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC,yOAAa;oCAAC,WAAU;oCAAiB,MAAM;;;;;;;;;;;0CAEpD,8OAAC;gCAAG,WAAU;0CAAiC,cAAc,MAAM;;;;;;0CACnE,8OAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;;;;;;;0BAK7C,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBACG,SAAS,IAAM,aAAa;wBAC5B,WAAW,CAAC,mCAAmC,EAAE,cAAc,aACrD,6CACA,kCACJ;;0CAEN,8OAAC,yOAAa;gCAAC,WAAU;gCAAc,MAAM;;;;;;4BAAM;4BACvC,aAAa,MAAM;4BAAC;;;;;;;kCAEpC,8OAAC;wBACG,SAAS,IAAM,aAAa;wBAC5B,WAAW,CAAC,4CAA4C,EAAE,cAAc,cAC9D,iDACA,kCACJ;;0CAEN,8OAAC,mOAAW;gCAAC,WAAU;gCAAc,MAAM;;;;;;4BAAM;4BACpC,cAAc,MAAM;4BAAC;4BACjC,cAAc,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,WAAW,MAAM,GAAG,mBACxD,8OAAC;gCAAK,WAAU;0CACX,cAAc,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,WAAW,MAAM;;;;;;;;;;;;kCAIrE,8OAAC;wBACG,SAAS,IAAM,aAAa;wBAC5B,WAAW,CAAC,4CAA4C,EAAE,cAAc,SAC9D,6CACA,kCACJ;;0CAEN,8OAAC,yOAAa;gCAAC,WAAU;gCAAc,MAAM;;;;;;4BAAM;4BAElD,cAAc,MAAM,CAAC,CAAC,IAAM,EAAE,WAAW,GAAG,GAAG,MAAM,GAAG,mBACrD,8OAAC;gCAAK,WAAU;0CACX,cAAc,MAAM,CAAC,CAAC,IAAM,EAAE,WAAW,GAAG,GAAG,MAAM;;;;;;;;;;;;;;;;;;YAOrE,cAAc,4BACX,8OAAC;gBAAI,WAAU;;kCAEX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAG,WAAU;0CAAoC;;;;;;4BACjD,OAAO,OAAO,CAAC,gBAAgB,eAC3B,OAAO,GACP,GAAG,CAAC,CAAC,CAAC,QAAQ,MAAM;gCACjB,MAAM,aAAa,aAAa,MAAM,GAAG,IAAI,AAAC,QAAQ,aAAa,MAAM,GAAI,MAAM;gCACnF,qBACI,8OAAC;oCAAiB,WAAU;;sDACxB,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAK,WAAU;8DAAwB;;;;;;8DACxC,8OAAC,0MAAI;oDAAC,MAAM;oDAAI,WAAU;;;;;;;;;;;;sDAE9B,8OAAC;4CAAI,WAAU;sDACX,cAAA,8OAAC;gDACG,WAAU;gDACV,OAAO;oDAAE,OAAO,GAAG,WAAW,CAAC,CAAC;gDAAC;;;;;;;;;;;sDAGzC,8OAAC;4CAAK,WAAU;sDAAiC;;;;;;;mCAX3C;;;;;4BAclB;;;;;;;kCAIR,8OAAC;wBAAI,WAAU;kCACV,aAAa,MAAM,KAAK,kBACrB,8OAAC;4BAAI,WAAU;;8CACX,8OAAC,yOAAa;oCAAC,MAAM;oCAAI,WAAU;;;;;;8CACnC,8OAAC;8CAAE;;;;;;;;;;;uEAGP,aAAa,GAAG,CAAC,CAAC,yBACd,8OAAC;gCAEG,UAAU;gCACV,gBAAgB;+BAFX,SAAS,EAAE;;;;;;;;;;;;;;;;YAUvC,cAAc,6BACX,8OAAC;gBAAI,WAAU;;kCAEX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAG,WAAU;0CAAoC;;;;;;4BACjD,OAAO,OAAO,CAAC,gBAAgB,gBAC3B,OAAO,GACP,GAAG,CAAC,CAAC,CAAC,QAAQ,MAAM;gCACjB,MAAM,aAAa,cAAc,MAAM,GAAG,IAAI,AAAC,QAAQ,cAAc,MAAM,GAAI,MAAM;gCACrF,qBACI,8OAAC;oCAAiB,WAAU;;sDACxB,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAK,WAAU;8DAAwB;;;;;;8DACxC,8OAAC,0MAAI;oDAAC,MAAM;oDAAI,WAAU;;;;;;;;;;;;sDAE9B,8OAAC;4CAAI,WAAU;sDACX,cAAA,8OAAC;gDACG,WAAU;gDACV,OAAO;oDAAE,OAAO,GAAG,WAAW,CAAC,CAAC;gDAAC;;;;;;;;;;;sDAGzC,8OAAC;4CAAK,WAAU;sDAAiC;;;;;;;mCAX3C;;;;;4BAclB;;;;;;;kCAIR,8OAAC;wBAAI,WAAU;kCACV,cAAc,MAAM,KAAK,kBACtB,8OAAC;4BAAI,WAAU;;8CACX,8OAAC,mOAAW;oCAAC,MAAM;oCAAI,WAAU;;;;;;8CACjC,8OAAC;8CAAE;;;;;;;;;;;uEAGP,cAAc,GAAG,CAAC,CAAC,0BACf,8OAAC;gCAEG,WAAW;gCACX,gBAAgB;gCAChB,gBAAgB,IAAM,wBAAwB;+BAHzC,UAAU,EAAE;;;;;;;;;;;;;;;;YAWxC,cAAc,wBACX,8OAAC;gBAAI,WAAU;;kCAEX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC;oCAAG,WAAU;8CAAuB;;;;;;;;;;;0CAEzC,8OAAC;gCAAI,WAAU;0CACV,cAAc,MAAM,KAAK,kBACtB,8OAAC;oCAAI,WAAU;;sDACX,8OAAC,yOAAa;4CAAC,MAAM;4CAAI,WAAU;;;;;;sDACnC,8OAAC;4CAAE,WAAU;sDAAU;;;;;;;;;;;+EAG3B,cAAc,GAAG,CAAC,CAAC,qBACf,8OAAC;wCAEG,SAAS,IAAM,wBAAwB,KAAK,MAAM;wCAClD,WAAW,CAAC,sFAAsF,EAAE,yBAAyB,KAAK,MAAM,GAAG,gBAAgB,IACrJ;;0DAEN,8OAAC;gDAAI,WAAU;;kEACX,8OAAC;wDAAG,WAAU;kEAAgC,KAAK,QAAQ;;;;;;oDAC1D,KAAK,WAAW,GAAG,mBAChB,8OAAC;wDAAK,WAAU;kEACX,KAAK,WAAW;;;;;;;;;;;;0DAI7B,8OAAC;gDAAE,WAAU;0DACR,KAAK,QAAQ,CAAC,KAAK,QAAQ,CAAC,MAAM,GAAG,EAAE,EAAE,WAAW;;;;;;0DAEzD,8OAAC;gDAAE,WAAU;0DACR,IAAI,KAAK,KAAK,eAAe,EAAE,kBAAkB;;;;;;;uCAjBjD,KAAK,MAAM;;;;;;;;;;;;;;;;kCA0BpC,8OAAC;wBAAI,WAAU;kCACV,6BACG;;8CACI,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAG,WAAU;sDAAwB,aAAa,QAAQ;;;;;;sDAC3D,8OAAC;4CAAE,WAAU;sDAAyB,aAAa,SAAS;;;;;;;;;;;;8CAEhE,8OAAC;oCAAI,WAAU;8CACV,aAAa,QAAQ,CAAC,GAAG,CAAC,CAAC,oBACxB,8OAAC;4CAEG,WAAW,CAAC,KAAK,EAAE,IAAI,MAAM,KAAK,UAAU,gBAAgB,iBAAiB;sDAE7E,cAAA,8OAAC;gDACG,WAAW,CAAC,2BAA2B,EAAE,IAAI,MAAM,KAAK,UAC9C,6DACA,sDACJ;;kEAEN,8OAAC;wDAAE,WAAU;kEAAuB,IAAI,OAAO;;;;;;kEAC/C,8OAAC;wDAAE,WAAU;kEACR,IAAI,KAAK,IAAI,SAAS,EAAE,kBAAkB;;;;;;;;;;;;2CAX9C,IAAI,EAAE;;;;;;;;;;8CAiBvB,8OAAC;oCAAI,WAAU;8CACX,cAAA,8OAAC;wCAAI,WAAU;;0DACX,8OAAC;gDACG,MAAK;gDACL,OAAO;gDACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;gDAC/C,YAAY,CAAC,IAAM,EAAE,GAAG,KAAK,WAAW,gBAAgB,aAAa,MAAM;gDAC3E,aAAY;gDACZ,WAAU;;;;;;0DAEd,8OAAC;gDACG,SAAS,IAAM,gBAAgB,aAAa,MAAM;gDAClD,UAAU,CAAC,aAAa,IAAI;gDAC5B,WAAU;0DAEV,cAAA,8OAAC,0MAAI;oDAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;yDAM5B,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCAAI,WAAU;;kDACX,8OAAC,yOAAa;wCAAC,MAAM;wCAAI,WAAU;;;;;;kDACnC,8OAAC;kDAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASvC;AAEA,0BAA0B;AAC1B,MAAM,eAAmH,CAAC,EAAE,QAAQ,EAAE,cAAc,EAAE;IAClJ,qBACI,8OAAC,OAAO,GAAG;QACP,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,WAAU;;0BAEV,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;;0CACG,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAG,WAAU;kDAAwB,SAAS,QAAQ;;;;;;kDACvD,8OAAC;wCAAK,WAAU;kDAAwE;;;;;;;;;;;;0CAI5F,8OAAC;gCAAE,WAAU;0CAAyB,SAAS,SAAS;;;;;;0CACxD,8OAAC;gCAAI,WAAU;0CACV,MAAM,IAAI,CAAC;oCAAE,QAAQ;gCAAE,GAAG,GAAG,CAAC,CAAC,GAAG,kBAC/B,8OAAC,0MAAI;wCAED,MAAM;wCACN,WAAW,IAAI,SAAS,MAAM,GAAG,oCAAoC;uCAFhE;;;;;;;;;;;;;;;;kCAOrB,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC;4BACG,OAAO,SAAS,MAAM;4BACtB,UAAU,CAAC,IAAM,eAAe,SAAS,EAAE,EAAE,EAAE,MAAM,CAAC,KAAK;4BAC3D,WAAU;;8CAEV,8OAAC;oCAAO,OAAM;8CAAU;;;;;;8CACxB,8OAAC;oCAAO,OAAM;8CAAW;;;;;;8CACzB,8OAAC;oCAAO,OAAM;8CAAW;;;;;;;;;;;;;;;;;;;;;;;0BAIrC,8OAAC;gBAAE,WAAU;0BAAmB,SAAS,OAAO;;;;;;0BAChD,8OAAC;gBAAE,WAAU;0BAAyB,IAAI,KAAK,SAAS,IAAI,EAAE,cAAc;;;;;;;;;;;;AAGxF;AAEA,2BAA2B;AAC3B,MAAM,gBAID,CAAC,EAAE,SAAS,EAAE,cAAc,EAAE,cAAc,EAAE;IAC/C,qBACI,8OAAC,OAAO,GAAG;QACP,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,WAAU;;0BAEV,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;;0CACG,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAG,WAAU;kDAAwB,UAAU,QAAQ;;;;;;kDACxD,8OAAC;wCAAK,WAAU;kDAA4E;;;;;;;;;;;;0CAIhG,8OAAC;gCAAE,WAAU;0CAAyB,UAAU,SAAS;;;;;;0CACzD,8OAAC;gCAAI,WAAU;0CACV,MAAM,IAAI,CAAC;oCAAE,QAAQ;gCAAE,GAAG,GAAG,CAAC,CAAC,GAAG,kBAC/B,8OAAC,0MAAI;wCAED,MAAM;wCACN,WAAW,IAAI,UAAU,MAAM,GAAG,oCAAoC;uCAFjE;;;;;;;;;;;;;;;;kCAOrB,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCACG,OAAO,UAAU,MAAM;gCACvB,UAAU,CAAC,IAAM,eAAe,UAAU,EAAE,EAAE,EAAE,MAAM,CAAC,KAAK;gCAC5D,WAAU;;kDAEV,8OAAC;wCAAO,OAAM;kDAAU;;;;;;kDACxB,8OAAC;wCAAO,OAAM;kDAAW;;;;;;kDACzB,8OAAC;wCAAO,OAAM;kDAAW;;;;;;;;;;;;0CAE7B,8OAAC;gCACG,SAAS;gCACT,WAAU;;kDAEV,8OAAC,yOAAa;wCAAC,MAAM;;;;;;oCAAM;;;;;;;;;;;;;;;;;;;0BAKvC,8OAAC;gBAAE,WAAU;0BAAmB,UAAU,OAAO;;;;;;YAChD,UAAU,QAAQ,kBACf,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,6MAAS;gCAAC,MAAM;;;;;;0CACjB,8OAAC;gCAAK,WAAU;0CAAoB;;;;;;;;;;;;kCAExC,8OAAC;wBACG,KAAK,UAAU,QAAQ;wBACvB,KAAI;wBACJ,WAAU;wBACV,SAAS,IAAM,OAAO,IAAI,CAAC,UAAU,QAAQ,EAAE;;;;;;;;;;;;0BAI3D,8OAAC;gBAAE,WAAU;0BAAyB,IAAI,KAAK,UAAU,IAAI,EAAE,cAAc;;;;;;;;;;;;AAGzF;uCAEe"}},
    {"offset": {"line": 1514, "column": 0}, "map": {"version":3,"sources":["file:///D:/DownloadChrome/copy-of-farrtz-cyberpunk-fashion-next-update-cap-2/utils/couponUtils.ts"],"sourcesContent":["import { Coupon } from '../types';\r\n\r\n/**\r\n * Generate a random coupon code\r\n * @param length - Length of the code (default: 8)\r\n * @returns Random uppercase alphanumeric code\r\n */\r\nexport const generateCouponCode = (length: number = 8): string => {\r\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n    let code = '';\r\n    for (let i = 0; i < length; i++) {\r\n        code += characters.charAt(Math.floor(Math.random() * characters.length));\r\n    }\r\n    return code;\r\n};\r\n\r\n/**\r\n * Validate a coupon code\r\n * @param code - Coupon code to validate\r\n * @param coupons - Array of all coupons\r\n * @param userId - Current user ID (optional, for checking duplicate usage)\r\n * @returns Validation result with coupon if valid\r\n */\r\nexport const validateCoupon = (\r\n    code: string,\r\n    coupons: Coupon[],\r\n    userId?: string\r\n): { valid: boolean; coupon?: Coupon; error?: string } => {\r\n    if (!code || code.trim() === '') {\r\n        return { valid: false, error: 'Please enter a coupon code' };\r\n    }\r\n\r\n    // Find coupon (case-insensitive)\r\n    const coupon = coupons.find(\r\n        (c) => c.code.toUpperCase() === code.trim().toUpperCase()\r\n    );\r\n\r\n    if (!coupon) {\r\n        return { valid: false, error: 'Invalid coupon code' };\r\n    }\r\n\r\n    if (!coupon.isActive) {\r\n        return { valid: false, error: 'This coupon is no longer active' };\r\n    }\r\n\r\n    if (isCouponExpired(coupon)) {\r\n        return { valid: false, error: 'This coupon has expired' };\r\n    }\r\n\r\n    if (coupon.maxUsage && coupon.usageCount >= coupon.maxUsage) {\r\n        return { valid: false, error: 'This coupon has reached its usage limit' };\r\n    }\r\n\r\n    // Check if user has already used this coupon\r\n    if (userId && coupon.usedBy && coupon.usedBy.includes(userId)) {\r\n        return { valid: false, error: 'You have already used this coupon' };\r\n    }\r\n\r\n    return { valid: true, coupon };\r\n};\r\n\r\n/**\r\n * Calculate discount amount\r\n * @param subtotal - Subtotal before discount\r\n * @param coupon - Applied coupon\r\n * @returns Discount amount\r\n */\r\nexport const calculateDiscount = (subtotal: number, coupon: Coupon): number => {\r\n    return Math.floor((subtotal * coupon.discountPercent) / 100);\r\n};\r\n\r\n/**\r\n * Check if coupon is expired\r\n * @param coupon - Coupon to check\r\n * @returns True if expired\r\n */\r\nexport const isCouponExpired = (coupon: Coupon): boolean => {\r\n    if (!coupon.expiryDate) return false;\r\n    return new Date(coupon.expiryDate) < new Date();\r\n};\r\n\r\n/**\r\n * Format coupon discount display\r\n * @param coupon - Coupon object\r\n * @returns Formatted string (e.g., \"-20%\")\r\n */\r\nexport const formatCouponDiscount = (coupon: Coupon): string => {\r\n    return `-${coupon.discountPercent}%`;\r\n};\r\n\r\n/**\r\n * Generate unique coupon code (check against existing)\r\n * @param existingCoupons - Array of existing coupons\r\n * @returns Unique code\r\n */\r\nexport const generateUniqueCouponCode = (existingCoupons: Coupon[]): string => {\r\n    let code = generateCouponCode();\r\n    let attempts = 0;\r\n\r\n    // Ensure uniqueness\r\n    while (existingCoupons.some(c => c.code === code) && attempts < 10) {\r\n        code = generateCouponCode();\r\n        attempts++;\r\n    }\r\n\r\n    return code;\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAOO,MAAM,qBAAqB,CAAC,SAAiB,CAAC;IACjD,MAAM,aAAa;IACnB,IAAI,OAAO;IACX,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,IAAK;QAC7B,QAAQ,WAAW,MAAM,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,WAAW,MAAM;IAC1E;IACA,OAAO;AACX;AASO,MAAM,iBAAiB,CAC1B,MACA,SACA;IAEA,IAAI,CAAC,QAAQ,KAAK,IAAI,OAAO,IAAI;QAC7B,OAAO;YAAE,OAAO;YAAO,OAAO;QAA6B;IAC/D;IAEA,iCAAiC;IACjC,MAAM,SAAS,QAAQ,IAAI,CACvB,CAAC,IAAM,EAAE,IAAI,CAAC,WAAW,OAAO,KAAK,IAAI,GAAG,WAAW;IAG3D,IAAI,CAAC,QAAQ;QACT,OAAO;YAAE,OAAO;YAAO,OAAO;QAAsB;IACxD;IAEA,IAAI,CAAC,OAAO,QAAQ,EAAE;QAClB,OAAO;YAAE,OAAO;YAAO,OAAO;QAAkC;IACpE;IAEA,IAAI,gBAAgB,SAAS;QACzB,OAAO;YAAE,OAAO;YAAO,OAAO;QAA0B;IAC5D;IAEA,IAAI,OAAO,QAAQ,IAAI,OAAO,UAAU,IAAI,OAAO,QAAQ,EAAE;QACzD,OAAO;YAAE,OAAO;YAAO,OAAO;QAA0C;IAC5E;IAEA,6CAA6C;IAC7C,IAAI,UAAU,OAAO,MAAM,IAAI,OAAO,MAAM,CAAC,QAAQ,CAAC,SAAS;QAC3D,OAAO;YAAE,OAAO;YAAO,OAAO;QAAoC;IACtE;IAEA,OAAO;QAAE,OAAO;QAAM;IAAO;AACjC;AAQO,MAAM,oBAAoB,CAAC,UAAkB;IAChD,OAAO,KAAK,KAAK,CAAC,AAAC,WAAW,OAAO,eAAe,GAAI;AAC5D;AAOO,MAAM,kBAAkB,CAAC;IAC5B,IAAI,CAAC,OAAO,UAAU,EAAE,OAAO;IAC/B,OAAO,IAAI,KAAK,OAAO,UAAU,IAAI,IAAI;AAC7C;AAOO,MAAM,uBAAuB,CAAC;IACjC,OAAO,CAAC,CAAC,EAAE,OAAO,eAAe,CAAC,CAAC,CAAC;AACxC;AAOO,MAAM,2BAA2B,CAAC;IACrC,IAAI,OAAO;IACX,IAAI,WAAW;IAEf,oBAAoB;IACpB,MAAO,gBAAgB,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,SAAS,WAAW,GAAI;QAChE,OAAO;QACP;IACJ;IAEA,OAAO;AACX"}},
    {"offset": {"line": 1605, "column": 0}, "map": {"version":3,"sources":["file:///D:/DownloadChrome/copy-of-farrtz-cyberpunk-fashion-next-update-cap-2/components/AdminCouponManager.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { motion as framerMotion } from 'framer-motion';\r\nimport { Ticket, Plus, Trash2, ToggleLeft, ToggleRight, RefreshCw, Calendar, Users } from 'lucide-react';\r\nimport { Coupon } from '../types';\r\nimport { generateUniqueCouponCode } from '../utils/couponUtils';\r\n\r\nconst motion = framerMotion as any;\r\n\r\ninterface AdminCouponManagerProps {\r\n    coupons: Coupon[];\r\n    onCreateCoupon: (coupon: Omit<Coupon, 'id' | 'createdDate' | 'usageCount'>) => void;\r\n    onToggleStatus: (couponId: string) => void;\r\n    onDeleteCoupon: (couponId: string) => void;\r\n    adminId: string;\r\n}\r\n\r\nconst AdminCouponManager: React.FC<AdminCouponManagerProps> = ({\r\n    coupons,\r\n    onCreateCoupon,\r\n    onToggleStatus,\r\n    onDeleteCoupon,\r\n    adminId,\r\n}) => {\r\n    const [discountPercent, setDiscountPercent] = useState(10);\r\n    const [generatedCode, setGeneratedCode] = useState('');\r\n    const [expiryDate, setExpiryDate] = useState('');\r\n    const [maxUsage, setMaxUsage] = useState('');\r\n\r\n    const handleGenerateCode = () => {\r\n        const code = generateUniqueCouponCode(coupons);\r\n        setGeneratedCode(code);\r\n    };\r\n\r\n    const handleCreateCoupon = () => {\r\n        if (!generatedCode) {\r\n            alert('Please generate a coupon code first');\r\n            return;\r\n        }\r\n\r\n        if (discountPercent < 1 || discountPercent > 100) {\r\n            alert('Discount must be between 1% and 100%');\r\n            return;\r\n        }\r\n\r\n        const coupon: Omit<Coupon, 'id' | 'createdDate' | 'usageCount'> = {\r\n            code: generatedCode,\r\n            discountPercent,\r\n            expiryDate: expiryDate || undefined,\r\n            isActive: true,\r\n            maxUsage: maxUsage ? parseInt(maxUsage) : undefined,\r\n            createdBy: adminId,\r\n            usedBy: [], // Initialize as empty array for new coupons\r\n        };\r\n\r\n        onCreateCoupon(coupon);\r\n\r\n        // Reset form\r\n        setGeneratedCode('');\r\n        setDiscountPercent(10);\r\n        setExpiryDate('');\r\n        setMaxUsage('');\r\n    };\r\n\r\n    const activeCoupons = coupons.filter(c => c.isActive);\r\n    const inactiveCoupons = coupons.filter(c => !c.isActive);\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Stats */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <div className=\"bg-gradient-to-br from-purple-900/40 to-purple-800/40 border border-purple-500/30 rounded-lg p-6\">\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                        <Ticket className=\"text-purple-400\" size={24} />\r\n                    </div>\r\n                    <h3 className=\"text-3xl font-bold text-white\">{coupons.length}</h3>\r\n                    <p className=\"text-sm text-gray-400\">Total Coupons</p>\r\n                </div>\r\n\r\n                <div className=\"bg-gradient-to-br from-green-900/40 to-green-800/40 border border-green-500/30 rounded-lg p-6\">\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                        <ToggleRight className=\"text-green-400\" size={24} />\r\n                    </div>\r\n                    <h3 className=\"text-3xl font-bold text-white\">{activeCoupons.length}</h3>\r\n                    <p className=\"text-sm text-gray-400\">Active Coupons</p>\r\n                </div>\r\n\r\n                <div className=\"bg-gradient-to-br from-cyan-900/40 to-cyan-800/40 border border-cyan-500/30 rounded-lg p-6\">\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                        <Users className=\"text-cyan-400\" size={24} />\r\n                    </div>\r\n                    <h3 className=\"text-3xl font-bold text-white\">\r\n                        {coupons.reduce((sum, c) => sum + c.usageCount, 0)}\r\n                    </h3>\r\n                    <p className=\"text-sm text-gray-400\">Total Usage</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Create Coupon Form */}\r\n            <div className=\"bg-gradient-to-br from-purple-900/20 to-cyan-900/20 border border-purple-500/30 rounded-lg p-6\">\r\n                <h2 className=\"text-2xl font-bold text-white mb-6 flex items-center gap-3\">\r\n                    <Plus size={24} className=\"text-cyan-400\" />\r\n                    Generate New Coupon\r\n                </h2>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    {/* Discount Percent */}\r\n                    <div>\r\n                        <label className=\"block text-white font-bold mb-2\">Discount Percentage</label>\r\n                        <div className=\"flex items-center gap-4\">\r\n                            <input\r\n                                type=\"range\"\r\n                                min=\"1\"\r\n                                max=\"100\"\r\n                                value={discountPercent}\r\n                                onChange={(e) => setDiscountPercent(parseInt(e.target.value))}\r\n                                className=\"flex-1\"\r\n                            />\r\n                            <span className=\"text-3xl font-bold text-cyan-400 w-20 text-center\">\r\n                                {discountPercent}%\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Generated Code */}\r\n                    <div>\r\n                        <label className=\"block text-white font-bold mb-2\">Coupon Code</label>\r\n                        <div className=\"flex gap-2\">\r\n                            <input\r\n                                type=\"text\"\r\n                                value={generatedCode}\r\n                                readOnly\r\n                                placeholder=\"Click generate\"\r\n                                className=\"flex-1 bg-black/40 border border-purple-500/30 rounded-lg px-4 py-2 text-white placeholder-gray-500 font-mono text-lg\"\r\n                            />\r\n                            <button\r\n                                onClick={handleGenerateCode}\r\n                                className=\"bg-gradient-to-r from-purple-500 to-cyan-500 text-white px-4 py-2 rounded-lg hover:from-purple-600 hover:to-cyan-600 transition-all\"\r\n                            >\r\n                                <RefreshCw size={20} />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Expiry Date */}\r\n                    <div>\r\n                        <label className=\"block text-white font-bold mb-2\">\r\n                            <Calendar className=\"inline mr-2\" size={16} />\r\n                            Expiry Date (Optional)\r\n                        </label>\r\n                        <input\r\n                            type=\"date\"\r\n                            value={expiryDate}\r\n                            onChange={(e) => setExpiryDate(e.target.value)}\r\n                            className=\"w-full bg-black/40 border border-purple-500/30 rounded-lg px-4 py-2 text-white\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Max Usage */}\r\n                    <div>\r\n                        <label className=\"block text-white font-bold mb-2\">\r\n                            <Users className=\"inline mr-2\" size={16} />\r\n                            Max Usage (Optional)\r\n                        </label>\r\n                        <input\r\n                            type=\"number\"\r\n                            value={maxUsage}\r\n                            onChange={(e) => setMaxUsage(e.target.value)}\r\n                            placeholder=\"Unlimited\"\r\n                            min=\"1\"\r\n                            className=\"w-full bg-black/40 border border-purple-500/30 rounded-lg px-4 py-2 text-white placeholder-gray-500\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Create Button */}\r\n                <motion.button\r\n                    whileHover={{ scale: 1.02 }}\r\n                    whileTap={{ scale: 0.98 }}\r\n                    onClick={handleCreateCoupon}\r\n                    className=\"mt-6 w-full bg-gradient-to-r from-purple-500 to-cyan-500 text-white font-bold py-4 px-8 rounded-lg flex items-center justify-center gap-3 hover:from-purple-600 hover:to-cyan-600 transition-all shadow-lg shadow-purple-500/50\"\r\n                >\r\n                    <Plus size={20} />\r\n                    Generate Coupon\r\n                </motion.button>\r\n            </div>\r\n\r\n            {/* Coupon List */}\r\n            <div className=\"bg-gradient-to-br from-purple-900/20 to-cyan-900/20 border border-purple-500/30 rounded-lg p-6\">\r\n                <h2 className=\"text-2xl font-bold text-white mb-6 flex items-center gap-3\">\r\n                    <Ticket size={24} className=\"text-cyan-400\" />\r\n                    All Coupons ({coupons.length})\r\n                </h2>\r\n\r\n                {coupons.length === 0 ? (\r\n                    <div className=\"text-center py-12 text-gray-400\">\r\n                        <Ticket size={48} className=\"mx-auto mb-4 opacity-50\" />\r\n                        <p>No coupons created yet</p>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"space-y-3\">\r\n                        {coupons.map((coupon) => (\r\n                            <CouponCard\r\n                                key={coupon.id}\r\n                                coupon={coupon}\r\n                                onToggleStatus={onToggleStatus}\r\n                                onDelete={onDeleteCoupon}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Coupon Card Component\r\nconst CouponCard: React.FC<{\r\n    coupon: Coupon;\r\n    onToggleStatus: (id: string) => void;\r\n    onDelete: (id: string) => void;\r\n}> = ({ coupon, onToggleStatus, onDelete }) => {\r\n    const isExpired = coupon.expiryDate && new Date(coupon.expiryDate) < new Date();\r\n    const usagePercent = coupon.maxUsage\r\n        ? (coupon.usageCount / coupon.maxUsage) * 100\r\n        : 0;\r\n\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, y: 10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            className={`bg-gradient-to-br ${coupon.isActive\r\n                ? 'from-green-900/20 to-cyan-900/20 border-green-500/30'\r\n                : 'from-gray-900/20 to-gray-800/20 border-gray-500/30'\r\n                } border rounded-lg p-4 flex items-center gap-4`}\r\n        >\r\n            {/* Code */}\r\n            <div className=\"flex-shrink-0\">\r\n                <div className=\"bg-black/40 border-2 border-purple-500/50 rounded-lg px-4 py-2\">\r\n                    <p className=\"text-2xl font-mono font-bold text-cyan-400\">{coupon.code}</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Info */}\r\n            <div className=\"flex-1\">\r\n                <div className=\"flex items-center gap-3 mb-1\">\r\n                    <span className=\"text-3xl font-bold text-white\">{coupon.discountPercent}%</span>\r\n                    <span className=\"text-sm text-gray-400\">discount</span>\r\n                    {isExpired && (\r\n                        <span className=\"px-2 py-1 bg-red-500/20 text-red-400 text-xs font-bold rounded\">\r\n                            EXPIRED\r\n                        </span>\r\n                    )}\r\n                </div>\r\n                <div className=\"flex items-center gap-4 text-sm text-gray-400\">\r\n                    <span>\r\n                        Used: {coupon.usageCount}\r\n                        {coupon.maxUsage && ` / ${coupon.maxUsage}`}\r\n                    </span>\r\n                    {coupon.expiryDate && (\r\n                        <span>Expires: {new Date(coupon.expiryDate).toLocaleDateString()}</span>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Usage Progress Bar */}\r\n                {coupon.maxUsage && (\r\n                    <div className=\"mt-2 h-2 bg-gray-800 rounded-full overflow-hidden\">\r\n                        <div\r\n                            className=\"h-full bg-gradient-to-r from-purple-500 to-cyan-500\"\r\n                            style={{ width: `${Math.min(usagePercent, 100)}%` }}\r\n                        ></div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Actions */}\r\n            <div className=\"flex items-center gap-2\">\r\n                <button\r\n                    onClick={() => onToggleStatus(coupon.id)}\r\n                    className={`p-2 rounded-lg transition-all ${coupon.isActive\r\n                        ? 'bg-green-500/20 text-green-400 hover:bg-green-500/30'\r\n                        : 'bg-gray-500/20 text-gray-400 hover:bg-gray-500/30'\r\n                        }`}\r\n                    title={coupon.isActive ? 'Deactivate' : 'Activate'}\r\n                >\r\n                    {coupon.isActive ? <ToggleRight size={20} /> : <ToggleLeft size={20} />}\r\n                </button>\r\n                <button\r\n                    onClick={() => {\r\n                        if (confirm(`Delete coupon \"${coupon.code}\"?`)) {\r\n                            onDelete(coupon.id);\r\n                        }\r\n                    }}\r\n                    className=\"p-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-all\"\r\n                    title=\"Delete\"\r\n                >\r\n                    <Trash2 size={20} />\r\n                </button>\r\n            </div>\r\n        </motion.div>\r\n    );\r\n};\r\n\r\nexport default AdminCouponManager;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2295, "column": 0}, "map": {"version":3,"sources":["file:///D:/DownloadChrome/copy-of-farrtz-cyberpunk-fashion-next-update-cap-2/components/AdminDashboard.tsx"],"sourcesContent":["\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { motion as framerMotion, AnimatePresence } from 'framer-motion';\r\nimport {\r\n    LayoutDashboard, ShoppingBag, Package, Users, Settings, LogOut,\r\n    TrendingUp, DollarSign, Clock, CheckCircle, Search, Plus, Edit3, Trash2, X, Upload,\r\n    Calendar, CreditCard, ChevronDown, Filter, Truck, Box, Eye, Zap, Image as ImageIcon, MessageSquare, Ticket, Link\r\n} from 'lucide-react';\r\nimport { User, Order, Product, PageType, Feedback, ChatConversation, Coupon } from '../types';\r\nimport { authService } from '../services/auth';\r\nimport { productService } from '../services/productService';\r\nimport AdminFeedbackChat from './AdminFeedbackChat';\r\nimport AdminCouponManager from './AdminCouponManager';\r\n\r\nconst motion = framerMotion as any;\r\n\r\ninterface AdminDashboardProps {\r\n    user: User;\r\n    onLogout: () => void;\r\n    onNavigate: (page: PageType) => void;\r\n    feedbacks?: Feedback[];\r\n    conversations?: ChatConversation[];\r\n    coupons?: Coupon[];\r\n    onUpdateFeedbackStatus?: (feedbackId: string, status: Feedback['status']) => void;\r\n    onSendMessage?: (userId: string, message: string) => void;\r\n    onCreateCoupon?: (coupon: Omit<Coupon, 'id' | 'createdDate' | 'usageCount'>) => void;\r\n    onToggleCouponStatus?: (couponId: string) => void;\r\n    onDeleteCoupon?: (couponId: string) => void;\r\n}\r\n\r\ntype Tab = 'overview' | 'orders' | 'products' | 'finance' | 'flash-sale' | 'feedback-chat' | 'coupons';\r\ntype TimeFilter = 'today' | 'week' | 'month' | 'all';\r\n\r\nconst AdminDashboard: React.FC<AdminDashboardProps> = ({\r\n    user,\r\n    onLogout,\r\n    onNavigate,\r\n    feedbacks = [],\r\n    conversations = [],\r\n    coupons = [],\r\n    onUpdateFeedbackStatus = () => { },\r\n    onSendMessage = () => { },\r\n    onCreateCoupon = () => { },\r\n    onToggleCouponStatus = () => { },\r\n    onDeleteCoupon = () => { },\r\n}) => {\r\n    const [activeTab, setActiveTab] = useState<Tab>('overview');\r\n    const [orders, setOrders] = useState<Order[]>([]);\r\n    const [products, setProducts] = useState<Product[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n\r\n    // Stats\r\n    const [stats, setStats] = useState({ revenue: 0, totalOrders: 0, pending: 0, totalProducts: 0 });\r\n\r\n    // Product Modal State\r\n    const [showProductModal, setShowProductModal] = useState(false);\r\n    const [editingProduct, setEditingProduct] = useState<Product | null>(null);\r\n\r\n    // Payment Proof Modal\r\n    const [showProofModal, setShowProofModal] = useState(false);\r\n    const [selectedProofUrl, setSelectedProofUrl] = useState<string>('');\r\n\r\n    // Form States for Product Logic\r\n    const [productImageFile, setProductImageFile] = useState<string>('');\r\n    const [isDiscounted, setIsDiscounted] = useState(false);\r\n    const [basePrice, setBasePrice] = useState<number>(0);\r\n    const [discountPercent, setDiscountPercent] = useState<number>(0);\r\n    const [imageInputMode, setImageInputMode] = useState<'upload' | 'url'>('upload');\r\n    const [imageUrl, setImageUrl] = useState<string>('');\r\n\r\n    // Load Data\r\n    useEffect(() => {\r\n        loadData();\r\n    }, []);\r\n\r\n    const loadData = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const allOrders = await authService.getAllOrdersAsync();\r\n            const allProducts = await productService.getAllProductsAsync();\r\n\r\n            setOrders(allOrders.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime()));\r\n            setProducts(allProducts);\r\n\r\n            // Calc Stats\r\n            const revenue = allOrders.reduce((acc, curr) => acc + curr.totalAmount, 0);\r\n            const pending = allOrders.filter(o => o.status === 'pending' || o.status === 'confirmed' || o.status === 'packing').length;\r\n\r\n            setStats({\r\n                revenue,\r\n                totalOrders: allOrders.length,\r\n                pending,\r\n                totalProducts: allProducts.length\r\n            });\r\n        } catch (error) {\r\n            console.error(\"Failed to load dashboard data\", error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // --- ORDER WORKFLOW LOGIC ---\r\n    const handleStatusUpdate = async (orderId: string, currentStatus: Order['status']) => {\r\n        let nextStatus: Order['status'] | null = null;\r\n\r\n        // Defined Workflow\r\n        switch (currentStatus) {\r\n            case 'pending':\r\n                nextStatus = 'confirmed'; // Admin accepts order\r\n                break;\r\n            case 'confirmed':\r\n                nextStatus = 'packing'; // Admin starts packing\r\n                break;\r\n            case 'packing':\r\n                nextStatus = 'shipped'; // Admin hands to courier\r\n                break;\r\n            case 'shipped':\r\n                nextStatus = 'delivered'; // Delivered to user\r\n                break;\r\n            default:\r\n                nextStatus = null;\r\n        }\r\n\r\n        if (nextStatus) {\r\n            await authService.updateOrderStatus(orderId, nextStatus);\r\n            loadData(); // Realtime refresh for Admin View\r\n        }\r\n    };\r\n\r\n    const handleDeleteProduct = (id: number) => {\r\n        if (window.confirm('Are you sure you want to delete this product?')) {\r\n            productService.deleteProduct(id);\r\n            loadData();\r\n        }\r\n    };\r\n\r\n    const handleOpenProof = (url: string) => {\r\n        setSelectedProofUrl(url);\r\n        setShowProofModal(true);\r\n    };\r\n\r\n    // --- PRODUCT IMAGE HANDLING ---\r\n    const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (file) {\r\n            const reader = new FileReader();\r\n            reader.onloadend = () => {\r\n                setProductImageFile(reader.result as string);\r\n            };\r\n            reader.readAsDataURL(file);\r\n        }\r\n    };\r\n\r\n    const handleOpenProductModal = (product?: Product) => {\r\n        if (product) {\r\n            setEditingProduct(product);\r\n            setProductImageFile(product.imageUrl);\r\n            setBasePrice(product.originalPrice || product.price);\r\n            setIsDiscounted(!!product.isSale);\r\n            setDiscountPercent(product.discountPercentage || 0);\r\n            // Detect if existing image is a URL or base64\r\n            if (product.imageUrl && !product.imageUrl.startsWith('data:')) {\r\n                setImageInputMode('url');\r\n                setImageUrl(product.imageUrl);\r\n            } else {\r\n                setImageInputMode('upload');\r\n                setImageUrl('');\r\n            }\r\n        } else {\r\n            setEditingProduct(null);\r\n            setProductImageFile('');\r\n            setBasePrice(0);\r\n            setIsDiscounted(false);\r\n            setDiscountPercent(0);\r\n            setImageInputMode('upload');\r\n            setImageUrl('');\r\n        }\r\n        setShowProductModal(true);\r\n    };\r\n\r\n    const handleSaveProduct = async (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        const formData = new FormData(e.currentTarget);\r\n\r\n        // Calculate Final Price Logic\r\n        const originalPrice = Number(formData.get('originalPrice'));\r\n        let finalPrice = originalPrice;\r\n        let discount = 0;\r\n\r\n        if (isDiscounted) {\r\n            discount = Number(formData.get('discountPercentage'));\r\n            finalPrice = originalPrice - (originalPrice * (discount / 100));\r\n        }\r\n\r\n        // Determine which image source to use\r\n        const finalImageUrl = imageInputMode === 'url' ? imageUrl : productImageFile;\r\n\r\n        const newProduct: Product = {\r\n            id: editingProduct ? editingProduct.id : 0, // Use 0 for new products so API assigns ID\r\n            title: formData.get('title') as string,\r\n            price: finalPrice,\r\n            originalPrice: originalPrice,\r\n            discountPercentage: isDiscounted ? discount : 0,\r\n            category: formData.get('category') as string,\r\n            imageUrl: finalImageUrl, // Use URL or Base64 string depending on mode\r\n            description: formData.get('description') as string || '', // Add description\r\n            isSale: isDiscounted,\r\n            isNew: formData.get('isNew') === 'on',\r\n            // Preserve discountEndTime if it exists and we're just editing\r\n            discountEndTime: editingProduct?.discountEndTime\r\n        };\r\n\r\n        const result = await productService.saveProduct(newProduct);\r\n\r\n        if (result.success) {\r\n            setShowProductModal(false);\r\n            setEditingProduct(null);\r\n            await loadData(); // Refresh data from API\r\n        } else {\r\n            alert('Failed to save product to database. Please try again.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#050505] text-white font-sans flex overflow-hidden\">\r\n\r\n            {/* Sidebar */}\r\n            <motion.aside\r\n                initial={{ x: -100 }}\r\n                animate={{ x: 0 }}\r\n                className=\"w-64 bg-[#0a0a0a] border-r border-white/5 flex flex-col z-20\"\r\n            >\r\n                {/* Brand */}\r\n                <div className=\"h-20 flex items-center gap-3 px-6 border-b border-white/5\">\r\n                    <div className=\"w-8 h-8 bg-gradient-to-br from-cyan-500 to-purple-600 rounded-lg flex items-center justify-center text-black font-bold\">\r\n                        A\r\n                    </div>\r\n                    <span className=\"text-xl font-bold brand-font tracking-wider\">ADMIN</span>\r\n                </div>\r\n\r\n                {/* Nav */}\r\n                <nav className=\"flex-1 py-6 px-3 space-y-1\">\r\n                    {[\r\n                        { id: 'overview', icon: LayoutDashboard, label: 'Overview' },\r\n                        { id: 'finance', icon: DollarSign, label: 'Keuangan' },\r\n                        { id: 'orders', icon: ShoppingBag, label: 'Orders' },\r\n                        { id: 'products', icon: Package, label: 'Products' },\r\n                        { id: 'flash-sale', icon: Zap, label: 'Flash Sale' },\r\n                        { id: 'coupons', icon: Ticket, label: 'Coupons' },\r\n                        { id: 'feedback-chat', icon: MessageSquare, label: 'Feedback & Chat' },\r\n                    ].map((item) => (\r\n                        <button\r\n                            key={item.id}\r\n                            onClick={() => setActiveTab(item.id as Tab)}\r\n                            className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all font-medium text-sm ${activeTab === item.id\r\n                                ? 'bg-purple-600/20 text-purple-400 border border-purple-500/20 shadow-[0_0_15px_rgba(147,51,234,0.15)]'\r\n                                : 'text-gray-400 hover:text-white hover:bg-white/5'\r\n                                }`}\r\n                        >\r\n                            <item.icon size={18} />\r\n                            {item.label}\r\n                        </button>\r\n                    ))}\r\n                </nav>\r\n\r\n                {/* User Footer */}\r\n                <div className=\"p-4 border-t border-white/5\">\r\n                    <div className=\"flex items-center gap-3 mb-4\">\r\n                        <img src={user.avatar} alt=\"Admin\" className=\"w-10 h-10 rounded-full bg-gray-800\" />\r\n                        <div className=\"overflow-hidden\">\r\n                            <p className=\"text-sm font-bold text-white truncate\">System Admin</p>\r\n                            <p className=\"text-xs text-gray-500 truncate\">admin@farrtz.com</p>\r\n                        </div>\r\n                    </div>\r\n                    <button\r\n                        onClick={onLogout}\r\n                        className=\"w-full py-2 flex items-center justify-center gap-2 text-red-400 bg-red-500/10 rounded-lg hover:bg-red-500/20 transition-colors text-xs font-bold uppercase tracking-wider\"\r\n                    >\r\n                        <LogOut size={14} /> Logout\r\n                    </button>\r\n                </div>\r\n            </motion.aside>\r\n\r\n            {/* Main Content */}\r\n            <main className=\"flex-1 flex flex-col relative overflow-hidden\">\r\n                {/* Background Elements */}\r\n                <div className=\"absolute top-0 right-0 w-[500px] h-[500px] bg-purple-900/10 rounded-full blur-[120px] pointer-events-none\"></div>\r\n                <div className=\"absolute bottom-0 left-0 w-[500px] h-[500px] bg-cyan-900/10 rounded-full blur-[120px] pointer-events-none\"></div>\r\n\r\n                {/* Header */}\r\n                <header className=\"h-20 border-b border-white/5 flex items-center justify-between px-8 bg-[#050505]/80 backdrop-blur-md sticky top-0 z-10\">\r\n                    <h2 className=\"text-2xl font-bold brand-font capitalize\">{activeTab.replace('-', ' ')}</h2>\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <div className=\"flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-full border border-white/5 text-xs text-green-400\">\r\n                            <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\r\n                            System Online\r\n                        </div>\r\n                        <button onClick={() => onNavigate('home')} className=\"text-sm text-gray-400 hover:text-white transition-colors\">\r\n                            View Storefront\r\n                        </button>\r\n                    </div>\r\n                </header>\r\n\r\n                {/* Content Body */}\r\n                <div className=\"flex-1 overflow-y-auto p-8 custom-scrollbar\">\r\n                    <AnimatePresence mode=\"wait\">\r\n                        {activeTab === 'overview' && (\r\n                            <OverviewTab stats={stats} orders={orders} />\r\n                        )}\r\n                        {activeTab === 'finance' && (\r\n                            <FinanceTab orders={orders} />\r\n                        )}\r\n                        {activeTab === 'orders' && (\r\n                            <OrdersTab orders={orders} onStatusUpdate={handleStatusUpdate} onViewProof={handleOpenProof} />\r\n                        )}\r\n                        {activeTab === 'products' && (\r\n                            <ProductsTab\r\n                                products={products}\r\n                                onDelete={handleDeleteProduct}\r\n                                onEdit={handleOpenProductModal}\r\n                                onAdd={() => handleOpenProductModal()}\r\n                            />\r\n                        )}\r\n                        {activeTab === 'flash-sale' && (\r\n                            <FlashSaleTab\r\n                                products={products}\r\n                                refreshData={loadData}\r\n                            />\r\n                        )}\r\n                        {activeTab === 'coupons' && (\r\n                            <AdminCouponManager\r\n                                coupons={coupons}\r\n                                onCreateCoupon={onCreateCoupon}\r\n                                onToggleStatus={onToggleCouponStatus}\r\n                                onDeleteCoupon={onDeleteCoupon}\r\n                                adminId={user.id}\r\n                            />\r\n                        )}\r\n                        {activeTab === 'feedback-chat' && (\r\n                            <AdminFeedbackChat\r\n                                feedbacks={feedbacks}\r\n                                conversations={conversations}\r\n                                onUpdateFeedbackStatus={onUpdateFeedbackStatus}\r\n                                onSendMessage={onSendMessage}\r\n                            />\r\n                        )}\r\n                    </AnimatePresence>\r\n                </div>\r\n            </main>\r\n\r\n            {/* Payment Proof Modal */}\r\n            <AnimatePresence>\r\n                {showProofModal && (\r\n                    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm p-4\">\r\n                        <motion.div\r\n                            initial={{ scale: 0.9, opacity: 0 }}\r\n                            animate={{ scale: 1, opacity: 1 }}\r\n                            exit={{ scale: 0.9, opacity: 0 }}\r\n                            className=\"relative max-w-2xl w-full\"\r\n                        >\r\n                            <button\r\n                                onClick={() => setShowProofModal(false)}\r\n                                className=\"absolute -top-12 right-0 text-white hover:text-gray-300\"\r\n                            >\r\n                                <X size={32} />\r\n                            </button>\r\n                            <img src={selectedProofUrl} alt=\"Payment Proof\" className=\"w-full h-auto rounded-lg shadow-2xl border border-white/20\" />\r\n                        </motion.div>\r\n                    </div>\r\n                )}\r\n            </AnimatePresence>\r\n\r\n            {/* Product Modal */}\r\n            <AnimatePresence>\r\n                {showProductModal && (\r\n                    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 overflow-y-auto\">\r\n                        <motion.div\r\n                            initial={{ scale: 0.9, opacity: 0 }}\r\n                            animate={{ scale: 1, opacity: 1 }}\r\n                            exit={{ scale: 0.9, opacity: 0 }}\r\n                            className=\"bg-[#121212] border border-white/10 rounded-2xl w-full max-w-lg p-6 shadow-2xl my-auto\"\r\n                        >\r\n                            <div className=\"flex justify-between items-center mb-6\">\r\n                                <h3 className=\"text-xl font-bold\">{editingProduct ? 'Edit Product' : 'Add New Product'}</h3>\r\n                                <button onClick={() => setShowProductModal(false)} className=\"p-2 hover:bg-white/10 rounded-full\"><X size={20} /></button>\r\n                            </div>\r\n\r\n                            <form onSubmit={handleSaveProduct} className=\"space-y-4 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2\">\r\n                                {/* Image Input Section */}\r\n                                <div className=\"mb-4\">\r\n                                    {/* Toggle Buttons */}\r\n                                    <div className=\"flex justify-center gap-2 mb-4\">\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            onClick={() => setImageInputMode('upload')}\r\n                                            className={`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${imageInputMode === 'upload'\r\n                                                ? 'bg-purple-600 text-white'\r\n                                                : 'bg-white/5 text-gray-400 hover:bg-white/10 hover:text-white'\r\n                                                }`}\r\n                                        >\r\n                                            <Upload size={16} />\r\n                                            Upload File\r\n                                        </button>\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            onClick={() => setImageInputMode('url')}\r\n                                            className={`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${imageInputMode === 'url'\r\n                                                ? 'bg-purple-600 text-white'\r\n                                                : 'bg-white/5 text-gray-400 hover:bg-white/10 hover:text-white'\r\n                                                }`}\r\n                                        >\r\n                                            <Link size={16} />\r\n                                            Image URL\r\n                                        </button>\r\n                                    </div>\r\n\r\n                                    {/* Upload Mode */}\r\n                                    {imageInputMode === 'upload' && (\r\n                                        <div className=\"flex justify-center\">\r\n                                            <label className=\"cursor-pointer group relative\">\r\n                                                <div className=\"w-32 h-32 rounded-xl bg-gray-800 border-2 border-dashed border-gray-600 flex items-center justify-center overflow-hidden\">\r\n                                                    {productImageFile ? (\r\n                                                        <img src={productImageFile} alt=\"Preview\" className=\"w-full h-full object-cover\" />\r\n                                                    ) : (\r\n                                                        <div className=\"text-center\">\r\n                                                            <Upload className=\"mx-auto text-gray-400 mb-1\" size={24} />\r\n                                                            <span className=\"text-[10px] text-gray-400\">Upload Image</span>\r\n                                                        </div>\r\n                                                    )}\r\n                                                </div>\r\n                                                <div className=\"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-xl\">\r\n                                                    <span className=\"text-xs font-bold\">Change</span>\r\n                                                </div>\r\n                                                <input type=\"file\" accept=\"image/*\" onChange={handleImageUpload} className=\"hidden\" />\r\n                                            </label>\r\n                                        </div>\r\n                                    )}\r\n\r\n                                    {/* URL Mode */}\r\n                                    {imageInputMode === 'url' && (\r\n                                        <div className=\"space-y-3\">\r\n                                            <div>\r\n                                                <label className=\"block text-xs text-gray-400 uppercase font-bold mb-1\">Image URL</label>\r\n                                                <div className=\"flex items-center gap-2\">\r\n                                                    <div className=\"flex-1 relative\">\r\n                                                        <Link className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" size={16} />\r\n                                                        <input\r\n                                                            type=\"url\"\r\n                                                            value={imageUrl}\r\n                                                            onChange={(e) => setImageUrl(e.target.value)}\r\n                                                            placeholder=\"https://example.com/image.jpg\"\r\n                                                            className=\"w-full bg-white/5 border border-white/10 rounded-lg p-3 pl-10 text-white focus:border-purple-500 outline-none text-sm\"\r\n                                                        />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            {/* URL Preview */}\r\n                                            {imageUrl && (\r\n                                                <div className=\"flex justify-center\">\r\n                                                    <div className=\"w-32 h-32 rounded-xl bg-gray-800 border-2 border-gray-600 flex items-center justify-center overflow-hidden\">\r\n                                                        <img\r\n                                                            src={imageUrl}\r\n                                                            alt=\"URL Preview\"\r\n                                                            className=\"w-full h-full object-cover\"\r\n                                                            onError={(e) => {\r\n                                                                (e.target as HTMLImageElement).style.display = 'none';\r\n                                                                (e.target as HTMLImageElement).nextElementSibling?.classList.remove('hidden');\r\n                                                            }}\r\n                                                        />\r\n                                                        <div className=\"hidden text-center p-2\">\r\n                                                            <ImageIcon className=\"mx-auto text-red-400 mb-1\" size={24} />\r\n                                                            <span className=\"text-[10px] text-red-400\">Invalid URL</span>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <label className=\"block text-xs text-gray-400 uppercase font-bold mb-1\">Product Title</label>\r\n                                    <input name=\"title\" defaultValue={editingProduct?.title} required className=\"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white focus:border-purple-500 outline-none\" />\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <label className=\"block text-xs text-gray-400 uppercase font-bold mb-1\">Product Description</label>\r\n                                    <textarea\r\n                                        name=\"description\"\r\n                                        defaultValue={editingProduct?.description || ''}\r\n                                        rows={4}\r\n                                        placeholder=\"Enter product description, features, specifications...\"\r\n                                        className=\"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white focus:border-purple-500 outline-none resize-none\"\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"grid grid-cols-2 gap-4\">\r\n                                    <div>\r\n                                        <label className=\"block text-xs text-gray-400 uppercase font-bold mb-1\">Category</label>\r\n                                        <select name=\"category\" defaultValue={editingProduct?.category || 'T-shirt'} className=\"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white focus:border-purple-500 outline-none\">\r\n                                            <option value=\"T-shirt\">T-shirt</option>\r\n                                            <option value=\"Hoodies\">Hoodies</option>\r\n                                            <option value=\"Hats\">Hats</option>\r\n                                            <option value=\"Bags\">Bags</option>\r\n                                            <option value=\"Tank Tops\">Tank Tops</option>\r\n                                            <option value=\"Shorts\">Shorts</option>\r\n                                            <option value=\"Kids\">Kids</option>\r\n                                        </select>\r\n                                    </div>\r\n                                    <div>\r\n                                        <label className=\"block text-xs text-gray-400 uppercase font-bold mb-1\">Base Price (Rp)</label>\r\n                                        <input\r\n                                            name=\"originalPrice\"\r\n                                            type=\"number\"\r\n                                            value={basePrice}\r\n                                            onChange={(e) => setBasePrice(Number(e.target.value))}\r\n                                            required\r\n                                            className=\"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white focus:border-purple-500 outline-none\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Basic Discount Checkbox (For quick edits, Flash Sale tab handles advanced) */}\r\n                                {!editingProduct?.discountEndTime && (\r\n                                    <div className=\"bg-white/5 p-4 rounded-xl border border-white/10\">\r\n                                        <label className=\"flex items-center gap-2 cursor-pointer mb-3\">\r\n                                            <input\r\n                                                name=\"isSale\"\r\n                                                type=\"checkbox\"\r\n                                                checked={isDiscounted}\r\n                                                onChange={(e) => setIsDiscounted(e.target.checked)}\r\n                                                className=\"w-4 h-4 accent-purple-500\"\r\n                                            />\r\n                                            <span className=\"text-sm font-bold text-white\">Activate Discount</span>\r\n                                        </label>\r\n\r\n                                        {isDiscounted && (\r\n                                            <div className=\"space-y-3\">\r\n                                                <div>\r\n                                                    <label className=\"block text-xs text-gray-400 uppercase font-bold mb-1\">Discount Percentage (%)</label>\r\n                                                    <input\r\n                                                        name=\"discountPercentage\"\r\n                                                        type=\"number\"\r\n                                                        min=\"1\" max=\"99\"\r\n                                                        value={discountPercent}\r\n                                                        onChange={(e) => setDiscountPercent(Number(e.target.value))}\r\n                                                        className=\"w-full bg-black/30 border border-white/10 rounded-lg p-3 text-white focus:border-purple-500 outline-none\"\r\n                                                    />\r\n                                                </div>\r\n                                                <div className=\"flex justify-between items-center text-sm p-2 bg-green-500/10 rounded border border-green-500/20\">\r\n                                                    <span className=\"text-gray-300\">Final Price:</span>\r\n                                                    <span className=\"font-bold text-green-400 font-mono\">\r\n                                                        Rp. {(basePrice - (basePrice * (discountPercent / 100))).toLocaleString()}\r\n                                                    </span>\r\n                                                </div>\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                )}\r\n\r\n                                <div className=\"pt-2\">\r\n                                    <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                                        <input name=\"isNew\" type=\"checkbox\" defaultChecked={editingProduct?.isNew} className=\"w-4 h-4 accent-purple-500\" />\r\n                                        <span className=\"text-sm\">Mark as New Arrival</span>\r\n                                    </label>\r\n                                </div>\r\n\r\n                                <button type=\"submit\" className=\"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 rounded-lg mt-4 transition-colors\">\r\n                                    {editingProduct ? 'Update Product' : 'Create Product'}\r\n                                </button>\r\n                            </form>\r\n                        </motion.div>\r\n                    </div>\r\n                )\r\n                }\r\n            </AnimatePresence >\r\n        </div >\r\n    );\r\n};\r\n\r\n// --- Sub Components ---\r\n\r\nconst FlashSaleTab = ({ products, refreshData }: { products: Product[], refreshData: () => void }) => {\r\n    const [selectedProductId, setSelectedProductId] = useState<number | ''>('');\r\n    const [discount, setDiscount] = useState(20);\r\n    const [endDate, setEndDate] = useState('');\r\n    const [endTime, setEndTime] = useState('23:59');\r\n\r\n    // Filter out products currently on flash sale\r\n    const availableProducts = products.filter(p => !p.discountEndTime);\r\n    const activeFlashSales = products.filter(p => p.isSale && p.discountEndTime);\r\n\r\n    const handleAddFlashSale = () => {\r\n        if (!selectedProductId || !endDate || !endTime) {\r\n            alert(\"Please fill all fields\");\r\n            return;\r\n        }\r\n\r\n        const product = products.find(p => p.id === Number(selectedProductId));\r\n        if (!product) return;\r\n\r\n        const discountTime = new Date(`${endDate}T${endTime}`).toISOString();\r\n        const basePrice = product.originalPrice || product.price;\r\n        const finalPrice = basePrice - (basePrice * (discount / 100));\r\n\r\n        const updatedProduct: Product = {\r\n            ...product,\r\n            price: finalPrice,\r\n            originalPrice: basePrice,\r\n            discountPercentage: discount,\r\n            discountEndTime: discountTime,\r\n            isSale: true\r\n        };\r\n\r\n        productService.saveProduct(updatedProduct);\r\n        refreshData();\r\n        setSelectedProductId('');\r\n        setEndDate('');\r\n    };\r\n\r\n    const handleStopSale = (product: Product) => {\r\n        const updatedProduct: Product = {\r\n            ...product,\r\n            price: product.originalPrice || product.price,\r\n            originalPrice: product.originalPrice, // Keep original price reference or unset it? usually keep\r\n            discountPercentage: 0,\r\n            discountEndTime: undefined,\r\n            isSale: false\r\n        };\r\n        productService.saveProduct(updatedProduct);\r\n        refreshData();\r\n    };\r\n\r\n    return (\r\n        <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className=\"space-y-8\">\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n                {/* Add New Flash Sale */}\r\n                <div className=\"bg-[#121212] border border-white/5 rounded-2xl p-6\">\r\n                    <h3 className=\"text-xl font-bold mb-4 flex items-center gap-2\"><Zap className=\"text-yellow-400\" /> Create Flash Sale</h3>\r\n                    <div className=\"space-y-4\">\r\n                        <div>\r\n                            <label className=\"block text-xs text-gray-400 uppercase font-bold mb-1\">Select Product</label>\r\n                            <select\r\n                                value={selectedProductId}\r\n                                onChange={(e) => setSelectedProductId(Number(e.target.value))}\r\n                                className=\"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none\"\r\n                            >\r\n                                <option value=\"\">-- Choose Product --</option>\r\n                                {availableProducts.map(p => (\r\n                                    <option key={p.id} value={p.id}>{p.title}</option>\r\n                                ))}\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div className=\"grid grid-cols-2 gap-4\">\r\n                            <div>\r\n                                <label className=\"block text-xs text-gray-400 uppercase font-bold mb-1\">Discount (%)</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    min=\"1\" max=\"99\"\r\n                                    value={discount}\r\n                                    onChange={(e) => setDiscount(Number(e.target.value))}\r\n                                    className=\"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none\"\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-xs text-gray-400 uppercase font-bold mb-1\">End Date</label>\r\n                                <input\r\n                                    type=\"date\"\r\n                                    value={endDate}\r\n                                    onChange={(e) => setEndDate(e.target.value)}\r\n                                    className=\"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none\"\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-xs text-gray-400 uppercase font-bold mb-1\">End Time</label>\r\n                                <input\r\n                                    type=\"time\"\r\n                                    value={endTime}\r\n                                    onChange={(e) => setEndTime(e.target.value)}\r\n                                    className=\"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button\r\n                            onClick={handleAddFlashSale}\r\n                            className=\"w-full bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-500 hover:to-orange-500 text-white font-bold py-3 rounded-lg mt-2\"\r\n                        >\r\n                            Launch Sale\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Info Card */}\r\n                <div className=\"bg-gradient-to-br from-purple-900/20 to-blue-900/20 border border-white/5 rounded-2xl p-6 flex flex-col justify-center text-center\">\r\n                    <Clock size={48} className=\"mx-auto text-cyan-400 mb-4\" />\r\n                    <h3 className=\"text-xl font-bold mb-2\">Automated Timer</h3>\r\n                    <p className=\"text-gray-400 text-sm\">Products added here will automatically appear in the \"Flash Sale\" section on the homepage with a countdown timer. When the timer expires, the discount is automatically removed.</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Active Flash Sales List */}\r\n            <div className=\"bg-[#121212] border border-white/5 rounded-2xl overflow-hidden\">\r\n                <div className=\"p-6 border-b border-white/5\">\r\n                    <h3 className=\"text-lg font-bold\">Active Flash Sales</h3>\r\n                </div>\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"w-full text-left\">\r\n                        <thead className=\"bg-white/5 text-xs uppercase text-gray-400\">\r\n                            <tr>\r\n                                <th className=\"p-4\">Product</th>\r\n                                <th className=\"p-4\">Discount</th>\r\n                                <th className=\"p-4\">Price Info</th>\r\n                                <th className=\"p-4\">Ends In</th>\r\n                                <th className=\"p-4 text-right\">Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-white/5\">\r\n                            {activeFlashSales.length > 0 ? activeFlashSales.map(p => {\r\n                                const expiry = new Date(p.discountEndTime!);\r\n                                const now = new Date();\r\n                                const isExpired = now > expiry;\r\n\r\n                                return (\r\n                                    <tr key={p.id} className=\"hover:bg-white/5\">\r\n                                        <td className=\"p-4\">\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                <img src={p.imageUrl} alt=\"\" className=\"w-10 h-10 rounded-md bg-gray-800 object-cover\" />\r\n                                                <span className=\"font-bold text-sm\">{p.title}</span>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"p-4\">\r\n                                            <span className=\"bg-red-500/20 text-red-400 px-2 py-1 rounded text-xs font-bold\">-{p.discountPercentage}%</span>\r\n                                        </td>\r\n                                        <td className=\"p-4\">\r\n                                            <div className=\"flex flex-col text-xs\">\r\n                                                <span className=\"line-through text-gray-500\">Rp {p.originalPrice?.toLocaleString()}</span>\r\n                                                <span className=\"text-green-400 font-bold\">Rp {p.price.toLocaleString()}</span>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"p-4 text-sm text-gray-300\">\r\n                                            {isExpired ? (\r\n                                                <span className=\"text-red-500 font-bold\">Expired</span>\r\n                                            ) : (\r\n                                                <span>{expiry.toLocaleString()}</span>\r\n                                            )}\r\n                                        </td>\r\n                                        <td className=\"p-4 text-right\">\r\n                                            <button\r\n                                                onClick={() => handleStopSale(p)}\r\n                                                className=\"px-3 py-1 bg-gray-800 hover:bg-gray-700 text-white rounded text-xs font-bold\"\r\n                                            >\r\n                                                Stop Sale\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                );\r\n                            }) : (\r\n                                <tr><td colSpan={5} className=\"p-8 text-center text-gray-500\">No active flash sales.</td></tr>\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </motion.div>\r\n    );\r\n};\r\n\r\nconst FinanceTab = ({ orders }: { orders: Order[] }) => {\r\n    const [filter, setFilter] = useState<TimeFilter>('today');\r\n\r\n    // Filter Logic\r\n    const filteredOrders = orders.filter(order => {\r\n        const orderDate = new Date(order.date);\r\n        const now = new Date();\r\n\r\n        // Reset times to start of day for accurate comparison\r\n        const today = new Date(now.getFullYear(), now.getMonth(), now.getDate()).getTime();\r\n        const oDate = new Date(orderDate.getFullYear(), orderDate.getMonth(), orderDate.getDate()).getTime();\r\n\r\n        if (filter === 'today') {\r\n            return oDate === today;\r\n        } else if (filter === 'week') {\r\n            const sevenDaysAgo = today - (7 * 24 * 60 * 60 * 1000);\r\n            return oDate >= sevenDaysAgo;\r\n        } else if (filter === 'month') {\r\n            const thirtyDaysAgo = today - (30 * 24 * 60 * 60 * 1000);\r\n            return oDate >= thirtyDaysAgo;\r\n        }\r\n        return true; // 'all'\r\n    });\r\n\r\n    const totalIncome = filteredOrders.reduce((acc, o) => acc + o.totalAmount, 0);\r\n    const avgOrder = filteredOrders.length > 0 ? totalIncome / filteredOrders.length : 0;\r\n\r\n    return (\r\n        <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className=\"space-y-6\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n                <h3 className=\"text-xl font-bold\">Laporan Keuangan</h3>\r\n                <div className=\"bg-[#121212] border border-white/10 rounded-lg p-1 flex gap-1\">\r\n                    {[\r\n                        { id: 'today', label: 'Hari Ini' },\r\n                        { id: 'week', label: '7 Hari' },\r\n                        { id: 'month', label: '30 Hari' },\r\n                        { id: 'all', label: 'Semua' },\r\n                    ].map((f) => (\r\n                        <button\r\n                            key={f.id}\r\n                            onClick={() => setFilter(f.id as TimeFilter)}\r\n                            className={`px-4 py-2 rounded-md text-xs font-bold transition-all ${filter === f.id ? 'bg-purple-600 text-white shadow-lg' : 'text-gray-400 hover:text-white'\r\n                                }`}\r\n                        >\r\n                            {f.label}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Financial Summary Cards */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                <div className=\"bg-[#121212] border border-white/5 p-6 rounded-2xl relative overflow-hidden group\">\r\n                    <div className=\"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity\">\r\n                        <DollarSign size={80} />\r\n                    </div>\r\n                    <p className=\"text-gray-400 text-xs font-bold uppercase mb-2\">Total Pendapatan</p>\r\n                    <h3 className=\"text-3xl font-black text-green-400 font-mono\">Rp {totalIncome.toLocaleString()}</h3>\r\n                    <p className=\"text-xs text-gray-500 mt-2\">{filter === 'today' ? 'Pendapatan hari ini' : filter === 'all' ? 'Total seluruh waktu' : `${filter} terakhir`}</p>\r\n                </div>\r\n\r\n                <div className=\"bg-[#121212] border border-white/5 p-6 rounded-2xl relative overflow-hidden\">\r\n                    <p className=\"text-gray-400 text-xs font-bold uppercase mb-2\">Total Transaksi</p>\r\n                    <h3 className=\"text-3xl font-black text-white\">{filteredOrders.length}</h3>\r\n                    <p className=\"text-xs text-gray-500 mt-2\">Pesanan berhasil</p>\r\n                </div>\r\n\r\n                <div className=\"bg-[#121212] border border-white/5 p-6 rounded-2xl relative overflow-hidden\">\r\n                    <p className=\"text-gray-400 text-xs font-bold uppercase mb-2\">Rata-rata Order</p>\r\n                    <h3 className=\"text-3xl font-black text-cyan-400 font-mono\">Rp {avgOrder.toLocaleString(undefined, { maximumFractionDigits: 0 })}</h3>\r\n                    <p className=\"text-xs text-gray-500 mt-2\">Per transaksi</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Detailed Transaction List */}\r\n            <div className=\"bg-[#121212] border border-white/5 rounded-2xl overflow-hidden mt-8\">\r\n                <div className=\"p-6 border-b border-white/5\">\r\n                    <h4 className=\"font-bold text-lg\">Riwayat Transaksi</h4>\r\n                </div>\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"w-full text-left\">\r\n                        <thead className=\"bg-white/5 text-xs uppercase text-gray-400\">\r\n                            <tr>\r\n                                <th className=\"p-4\">Waktu</th>\r\n                                <th className=\"p-4\">Order ID</th>\r\n                                <th className=\"p-4\">Pelanggan</th>\r\n                                <th className=\"p-4\">Status</th>\r\n                                <th className=\"p-4 text-right\">Jumlah</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-white/5\">\r\n                            {filteredOrders.length > 0 ? (\r\n                                filteredOrders.map((order) => (\r\n                                    <tr key={order.id} className=\"hover:bg-white/5 transition-colors\">\r\n                                        <td className=\"p-4 text-xs text-gray-400\">\r\n                                            {new Date(order.date).toLocaleDateString()} {new Date(order.date).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                                        </td>\r\n                                        <td className=\"p-4 text-sm font-mono text-gray-300\">{order.id}</td>\r\n                                        <td className=\"p-4 text-sm font-bold\">{order.shippingDetails.firstName}</td>\r\n                                        <td className=\"p-4\">\r\n                                            <span className=\"px-2 py-1 rounded-md bg-green-900/30 text-green-400 text-[10px] font-bold uppercase border border-green-500/20\">\r\n                                                {order.status}\r\n                                            </span>\r\n                                        </td>\r\n                                        <td className=\"p-4 text-right font-mono text-green-400 font-bold\">\r\n                                            + Rp {order.totalAmount.toLocaleString()}\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            ) : (\r\n                                <tr>\r\n                                    <td colSpan={5} className=\"p-8 text-center text-gray-500\">Tidak ada data transaksi pada periode ini.</td>\r\n                                </tr>\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </motion.div>\r\n    );\r\n};\r\n\r\nconst OverviewTab = ({ stats, orders }: { stats: any, orders: Order[] }) => (\r\n    <motion.div initial={{ opacity: 0, y: 10 }} animate={{ opacity: 1, y: 0 }} className=\"space-y-6\">\r\n        {/* Stat Cards */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n            <StatCard title=\"Total Revenue\" value={`Rp ${stats.revenue.toLocaleString()}`} icon={DollarSign} color=\"text-green-400\" />\r\n            <StatCard title=\"Total Orders\" value={stats.totalOrders} icon={ShoppingBag} color=\"text-blue-400\" />\r\n            <StatCard title=\"Pending Process\" value={stats.pending} icon={Clock} color=\"text-yellow-400\" />\r\n            <StatCard title=\"Total Products\" value={stats.totalProducts} icon={Package} color=\"text-purple-400\" />\r\n        </div>\r\n\r\n        {/* Charts/Graph Placeholder (Visual) */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n            <div className=\"lg:col-span-2 bg-[#121212] border border-white/5 rounded-2xl p-6\">\r\n                <h3 className=\"text-lg font-bold mb-6\">Sales Analytics (Yearly)</h3>\r\n                <div className=\"h-64 flex items-end justify-between gap-2\">\r\n                    {[40, 65, 30, 80, 55, 90, 45, 70, 60, 85, 50, 95].map((h, i) => (\r\n                        <div key={i} className=\"w-full bg-white/5 rounded-t-lg hover:bg-purple-600/50 transition-colors relative group\" style={{ height: `${h}%` }}>\r\n                            <div className=\"absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                                {h}%\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n                <div className=\"flex justify-between mt-4 text-xs text-gray-500 font-mono\">\r\n                    <span>JAN</span><span>FEB</span><span>MAR</span><span>APR</span><span>MAY</span><span>JUN</span>\r\n                    <span>JUL</span><span>AUG</span><span>SEP</span><span>OCT</span><span>NOV</span><span>DEC</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"bg-[#121212] border border-white/5 rounded-2xl p-6\">\r\n                <h3 className=\"text-lg font-bold mb-4\">Recent Activity</h3>\r\n                <div className=\"space-y-4\">\r\n                    {orders.slice(0, 5).map(order => (\r\n                        <div key={order.id} className=\"flex items-center gap-3 p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors\">\r\n                            <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-gray-800 to-black flex items-center justify-center font-bold text-xs\">\r\n                                {order.shippingDetails.firstName.charAt(0)}\r\n                            </div>\r\n                            <div className=\"flex-1 overflow-hidden\">\r\n                                <p className=\"text-sm font-bold truncate\">New Order #{order.id}</p>\r\n                                <p className=\"text-xs text-gray-500 truncate\">{new Date(order.date).toLocaleDateString()}</p>\r\n                            </div>\r\n                            <span className=\"text-xs font-bold text-green-400\">+Rp {(order.totalAmount / 1000).toFixed(0)}k</span>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </motion.div>\r\n);\r\n\r\nconst OrdersTab = ({ orders, onStatusUpdate, onViewProof }: { orders: Order[], onStatusUpdate: (id: string, status: Order['status']) => void, onViewProof: (url: string) => void }) => {\r\n    // Helper to get action label\r\n    const getActionLabel = (status: Order['status']) => {\r\n        switch (status) {\r\n            case 'pending': return 'Terima Pesanan';\r\n            case 'confirmed': return 'Mulai Kemas';\r\n            case 'packing': return 'Kirim Pesanan';\r\n            case 'shipped': return 'Pesanan Selesai';\r\n            default: return null;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }}>\r\n            <div className=\"bg-[#121212] border border-white/5 rounded-2xl overflow-hidden\">\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"w-full text-left\">\r\n                        <thead className=\"bg-white/5 text-xs uppercase text-gray-400\">\r\n                            <tr>\r\n                                <th className=\"p-4 font-bold\">Order ID</th>\r\n                                <th className=\"p-4 font-bold\">Customer</th>\r\n                                <th className=\"p-4 font-bold\">Items</th>\r\n                                <th className=\"p-4 font-bold\">Total</th>\r\n                                <th className=\"p-4 font-bold\">Payment</th>\r\n                                <th className=\"p-4 font-bold\">Status</th>\r\n                                <th className=\"p-4 font-bold text-right\">Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-white/5\">\r\n                            {orders.map((order) => {\r\n                                const actionLabel = getActionLabel(order.status);\r\n                                return (\r\n                                    <tr key={order.id} className=\"hover:bg-white/5 transition-colors\">\r\n                                        <td className=\"p-4 text-sm font-mono text-gray-300\">{order.id}</td>\r\n                                        <td className=\"p-4\">\r\n                                            <div className=\"font-bold text-sm\">{order.shippingDetails.firstName} {order.shippingDetails.lastName}</div>\r\n                                            <div className=\"text-xs text-gray-500\">{order.shippingDetails.email}</div>\r\n                                        </td>\r\n                                        <td className=\"p-4 text-sm text-gray-300\">\r\n                                            {order.items.length} items\r\n                                        </td>\r\n                                        <td className=\"p-4 font-mono text-cyan-400 font-bold\">\r\n                                            Rp {order.totalAmount.toLocaleString()}\r\n                                        </td>\r\n                                        <td className=\"p-4\">\r\n                                            <div className=\"flex flex-col gap-1\">\r\n                                                <span className={`text-[10px] uppercase font-bold px-2 py-0.5 rounded w-max ${order.paymentMethod === 'cod' ? 'bg-orange-500/20 text-orange-400' : 'bg-blue-500/20 text-blue-400'}`}>\r\n                                                    {order.paymentMethod === 'cod' ? 'COD' : 'Bank Transfer'}\r\n                                                </span>\r\n                                                {order.paymentMethod === 'bank' && order.paymentProofUrl && (\r\n                                                    <button\r\n                                                        onClick={() => onViewProof(order.paymentProofUrl!)}\r\n                                                        className=\"text-xs flex items-center gap-1 text-gray-400 hover:text-white transition-colors\"\r\n                                                    >\r\n                                                        <ImageIcon size={12} /> Check Proof\r\n                                                    </button>\r\n                                                )}\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"p-4\">\r\n                                            <span className={`px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${order.status === 'delivered' ? 'bg-green-500/20 text-green-400' :\r\n                                                order.status === 'shipped' ? 'bg-blue-500/20 text-blue-400' :\r\n                                                    order.status === 'packing' ? 'bg-orange-500/20 text-orange-400' :\r\n                                                        order.status === 'confirmed' ? 'bg-indigo-500/20 text-indigo-400' :\r\n                                                            'bg-yellow-500/20 text-yellow-400'\r\n                                                }`}>\r\n                                                {order.status}\r\n                                            </span>\r\n                                        </td>\r\n                                        <td className=\"p-4 text-right\">\r\n                                            {actionLabel ? (\r\n                                                <button\r\n                                                    onClick={() => onStatusUpdate(order.id, order.status)}\r\n                                                    className={`px-4 py-2 rounded-lg text-xs font-bold transition-colors shadow-lg ${order.status === 'pending' ? 'bg-green-600 hover:bg-green-500 text-white' :\r\n                                                        order.status === 'confirmed' ? 'bg-indigo-600 hover:bg-indigo-500 text-white' :\r\n                                                            order.status === 'packing' ? 'bg-blue-600 hover:bg-blue-500 text-white' :\r\n                                                                order.status === 'shipped' ? 'bg-gray-700 hover:bg-gray-600 text-white' : ''\r\n                                                        }`}\r\n                                                >\r\n                                                    {actionLabel}\r\n                                                </button>\r\n                                            ) : (\r\n                                                <span className=\"text-xs text-gray-500 font-bold\">Completed</span>\r\n                                            )}\r\n                                        </td>\r\n                                    </tr>\r\n                                );\r\n                            })}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                {orders.length === 0 && <div className=\"p-8 text-center text-gray-500\">No orders found.</div>}\r\n            </div>\r\n        </motion.div>\r\n    );\r\n};\r\n\r\nconst ProductsTab = ({ products, onDelete, onEdit, onAdd }: { products: Product[], onDelete: any, onEdit: any, onAdd: any }) => (\r\n    <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }}>\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n            <h3 className=\"text-xl font-bold\">Inventory Management</h3>\r\n            <button onClick={onAdd} className=\"flex items-center gap-2 bg-purple-600 hover:bg-purple-500 px-4 py-2 rounded-lg font-bold text-sm transition-colors\">\r\n                <Plus size={16} /> Add Product\r\n            </button>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4\">\r\n            {products.map((product) => (\r\n                <div key={product.id} className=\"bg-[#121212] border border-white/5 rounded-xl overflow-hidden group\">\r\n                    <div className=\"aspect-square bg-gray-900 relative\">\r\n                        {product.imageUrl ? (\r\n                            <img src={product.imageUrl} alt={product.title} className=\"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity\" />\r\n                        ) : (\r\n                            <div className=\"w-full h-full flex items-center justify-center text-gray-700 text-xs\">No Image</div>\r\n                        )}\r\n                        <div className=\"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                            <button onClick={() => onEdit(product)} className=\"p-1.5 bg-white text-black rounded-full hover:scale-110 transition-transform\"><Edit3 size={14} /></button>\r\n                            <button onClick={() => onDelete(product.id)} className=\"p-1.5 bg-red-500 text-white rounded-full hover:scale-110 transition-transform\"><Trash2 size={14} /></button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"p-3\">\r\n                        <p className=\"text-xs text-gray-500 uppercase font-bold mb-1\">{product.category}</p>\r\n                        <h4 className=\"font-bold text-sm truncate mb-1\">{product.title}</h4>\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <div className=\"flex flex-col\">\r\n                                {product.isSale && <span className=\"text-[10px] text-gray-500 line-through\">Rp {product.originalPrice?.toLocaleString()}</span>}\r\n                                <span className={`font-mono text-sm ${product.isSale ? 'text-green-400 font-bold' : 'text-cyan-400'}`}>Rp {product.price.toLocaleString()}</span>\r\n                            </div>\r\n                            {product.isSale && (\r\n                                <span className=\"text-[10px] bg-red-500 px-1.5 rounded text-white font-bold\">\r\n                                    -{product.discountPercentage}%\r\n                                </span>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    </motion.div>\r\n);\r\n\r\nconst StatCard = ({ title, value, icon: Icon, color }: any) => (\r\n    <div className=\"bg-[#121212] border border-white/5 p-6 rounded-2xl flex items-center justify-between group hover:border-white/10 transition-colors\">\r\n        <div>\r\n            <p className=\"text-gray-400 text-xs font-bold uppercase tracking-wider mb-2\">{title}</p>\r\n            <h3 className=\"text-2xl font-black font-mono text-white\">{value}</h3>\r\n        </div>\r\n        <div className={`w-12 h-12 rounded-xl bg-white/5 flex items-center justify-center ${color} group-hover:scale-110 transition-transform`}>\r\n            <Icon size={24} />\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default AdminDashboard;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5321, "column": 0}, "map": {"version":3,"sources":["file:///D:/DownloadChrome/copy-of-farrtz-cyberpunk-fashion-next-update-cap-2/components/AdminLoginPage.tsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { motion as framerMotion } from 'framer-motion';\r\nimport { User } from '../types';\r\nimport { authService } from '../services/auth';\r\n\r\nconst motion = framerMotion as any;\r\n\r\ninterface AdminLoginPageProps {\r\n    onLoginSuccess: (user: User) => void;\r\n}\r\n\r\nconst AdminLoginPage: React.FC<AdminLoginPageProps> = ({ onLoginSuccess }) => {\r\n    // Login state only\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const handleLogin = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            const result = await authService.adminLogin(email, password);\r\n\r\n            if (result.success && result.user) {\r\n                onLoginSuccess(result.user);\r\n            } else {\r\n                setError(result.message || 'Invalid credentials');\r\n            }\r\n        } catch (err: any) {\r\n            setError(err.message || 'Invalid credentials or unauthorized access');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen w-full flex bg-gradient-to-br from-red-950 via-purple-950 to-gray-900\">\r\n            {/* Left Side - Image */}\r\n            <div className=\"hidden lg:block w-1/2 relative overflow-hidden bg-black\">\r\n                <motion.img\r\n                    initial={{ scale: 1.1, opacity: 0 }}\r\n                    animate={{ scale: 1, opacity: 1 }}\r\n                    transition={{ duration: 1.5 }}\r\n                    src=\"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=2070&auto=format&fit=crop\"\r\n                    alt=\"Admin Dashboard\"\r\n                    className=\"object-cover w-full h-full opacity-70\"\r\n                />\r\n                <div className=\"absolute inset-0 bg-gradient-to-r from-transparent to-purple-950\"></div>\r\n                <div className=\"absolute bottom-10 left-10 text-white z-10\">\r\n                    <div className=\"h-1 w-20 bg-red-500 mb-4\"></div>\r\n                    <h2 className=\"text-4xl font-bold brand-font mb-2\">ADMIN ACCESS</h2>\r\n                    <p className=\"tech-font text-gray-300\">Management & Control Center</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Right Side - Form */}\r\n            <div className=\"w-full lg:w-1/2 flex flex-col justify-center items-center p-8 lg:p-16 relative\">\r\n                <motion.div\r\n                    initial={{ opacity: 0, x: 50 }}\r\n                    animate={{ opacity: 1, x: 0 }}\r\n                    className=\"w-full max-w-md space-y-8\"\r\n                >\r\n                    <div className=\"flex items-center gap-2 mb-8\">\r\n                        <div className=\"w-8 h-8 bg-gradient-to-br from-red-600 to-purple-700 rounded-lg flex items-center justify-center text-white font-bold\">\r\n                            <span role=\"img\" aria-label=\"shield\" className=\"text-sm\"></span>\r\n                        </div>\r\n                        <span className=\"text-xl font-black brand-font text-white italic\">FARRTZ ADMIN</span>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <h2 className=\"text-3xl font-bold text-white brand-font tracking-wide\">Admin Login</h2>\r\n                        <p className=\"mt-2 text-sm text-gray-400 tech-font\">Enter admin credentials to access dashboard.</p>\r\n                    </div>\r\n\r\n                    <form className=\"mt-8 space-y-6\" onSubmit={handleLogin}>\r\n                        {error && (\r\n                            <div className=\"bg-red-500/20 border border-red-500 text-red-200 text-sm px-4 py-2 rounded\">\r\n                                {error}\r\n                            </div>\r\n                        )}\r\n\r\n                        <div className=\"space-y-4\">\r\n                            <div>\r\n                                <label htmlFor=\"admin-email\" className=\"block text-xs font-medium text-gray-300 uppercase tracking-wider tech-font mb-1\">\r\n                                    Admin Email *\r\n                                </label>\r\n                                <input\r\n                                    id=\"admin-email\"\r\n                                    name=\"email\"\r\n                                    type=\"email\"\r\n                                    required\r\n                                    value={email}\r\n                                    onChange={(e) => setEmail(e.target.value)}\r\n                                    className=\"appearance-none block w-full px-4 py-3 bg-white border border-red-700 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all\"\r\n                                    placeholder=\"admin@gmail.com\"\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label htmlFor=\"admin-password\" className=\"block text-xs font-medium text-gray-300 uppercase tracking-wider tech-font mb-1\">\r\n                                    Admin Password *\r\n                                </label>\r\n                                <input\r\n                                    id=\"admin-password\"\r\n                                    name=\"password\"\r\n                                    type=\"password\"\r\n                                    required\r\n                                    value={password}\r\n                                    onChange={(e) => setPassword(e.target.value)}\r\n                                    className=\"appearance-none block w-full px-4 py-3 bg-white border border-red-700 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all\"\r\n                                    placeholder=\"\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={isLoading}\r\n                            className={`group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-lg text-white bg-gradient-to-r from-red-600 to-purple-700 hover:from-red-700 hover:to-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all uppercase tracking-widest shadow-[0_0_15px_rgba(220,38,38,0.5)] ${isLoading ? 'opacity-70 cursor-wait' : ''}`}\r\n                        >\r\n                            {isLoading ? 'Authenticating...' : 'Access Dashboard'}\r\n                        </button>\r\n\r\n                        <div className=\"text-center\">\r\n                            <p className=\"text-xs text-gray-500 tech-font\">\r\n                                 Secure admin-only access\r\n                            </p>\r\n                            <p className=\"text-xs text-gray-600 tech-font mt-2\">\r\n                                Default: admin@gmail.com / admin123\r\n                            </p>\r\n                        </div>\r\n                    </form>\r\n                </motion.div>\r\n\r\n                {/* Background Gradients */}\r\n                <div className=\"absolute top-0 right-0 -mr-20 -mt-20 w-80 h-80 rounded-full bg-red-600/20 blur-[100px] pointer-events-none\"></div>\r\n                <div className=\"absolute bottom-0 left-0 -ml-20 -mb-20 w-80 h-80 rounded-full bg-purple-600/10 blur-[100px] pointer-events-none\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdminLoginPage;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5662, "column": 0}, "map": {"version":3,"sources":["file:///D:/DownloadChrome/copy-of-farrtz-cyberpunk-fashion-next-update-cap-2/services/localServices.ts"],"sourcesContent":["import { Feedback, ChatConversation, ChatMessage, Coupon, Product } from '../types';\r\n\r\nexport const feedbackService = {\r\n    getAllFeedback: async (): Promise<Feedback[]> => {\r\n        try {\r\n            const res = await fetch('/api/feedbacks');\r\n            return res.ok ? res.json() : [];\r\n        } catch { return []; }\r\n    },\r\n\r\n    createFeedback: async (feedback: Omit<Feedback, 'id'>): Promise<Feedback | null> => {\r\n        try {\r\n            const res = await fetch('/api/feedbacks', {\r\n                method: 'POST',\r\n                body: JSON.stringify(feedback)\r\n            });\r\n            return res.json();\r\n        } catch { return null; }\r\n    },\r\n\r\n    updateFeedbackStatus: async (id: string, status: Feedback['status']): Promise<Feedback | null> => {\r\n        return null;\r\n    }\r\n};\r\n\r\nexport const messagesService = {\r\n    getAllMessages: async (): Promise<ChatConversation[]> => {\r\n        try {\r\n            const res = await fetch('/api/messages');\r\n            return res.ok ? res.json() : [];\r\n        } catch { return []; }\r\n    },\r\n\r\n    sendMessage: async (messageData: {\r\n        userId: string;\r\n        userName?: string;\r\n        message: string;\r\n        sender: 'user' | 'admin';\r\n    }): Promise<boolean> => {\r\n        try {\r\n            const res = await fetch('/api/messages', {\r\n                method: 'POST',\r\n                body: JSON.stringify(messageData)\r\n            });\r\n            return res.ok;\r\n        } catch { return false; }\r\n    },\r\n\r\n    markAsRead: async (userId: string): Promise<boolean> => {\r\n        return true;\r\n    }\r\n};\r\n\r\nexport const couponsService = {\r\n    getAllCoupons: async (): Promise<Coupon[]> => {\r\n        try {\r\n            const res = await fetch('/api/coupons');\r\n            return res.ok ? res.json() : [];\r\n        } catch { return []; }\r\n    },\r\n\r\n    createCoupon: async (coupon: Omit<Coupon, 'id' | 'createdDate' | 'usageCount' | 'usedBy'>): Promise<Coupon | null> => {\r\n        try {\r\n            const res = await fetch('/api/coupons', {\r\n                method: 'POST',\r\n                body: JSON.stringify(coupon)\r\n            });\r\n            return res.json();\r\n        } catch { return null; }\r\n    },\r\n\r\n    toggleCouponStatus: async (id: string): Promise<Coupon | null> => {\r\n        return null;\r\n    },\r\n\r\n    deleteCoupon: async (id: string): Promise<boolean> => {\r\n        return true;\r\n    },\r\n\r\n    useCoupon: async (couponId: string): Promise<boolean> => {\r\n        return true;\r\n    }\r\n};\r\n\r\nexport const productsApiService = {\r\n    getAll: async (): Promise<{ success: boolean; products?: Product[] }> => {\r\n        return { success: true, products: [] };\r\n    },\r\n    create: async (product: Omit<Product, 'id'>): Promise<{ success: boolean; product?: Product }> => {\r\n        // Could redirect to productService\r\n        return { success: false };\r\n    },\r\n    update: async (id: number, product: Partial<Product>): Promise<{ success: boolean; product?: Product }> => {\r\n        return { success: false };\r\n    },\r\n    delete: async (id: number): Promise<{ success: boolean }> => {\r\n        return { success: false };\r\n    }\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;AAEO,MAAM,kBAAkB;IAC3B,gBAAgB;QACZ,IAAI;YACA,MAAM,MAAM,MAAM,MAAM;YACxB,OAAO,IAAI,EAAE,GAAG,IAAI,IAAI,KAAK,EAAE;QACnC,EAAE,OAAM;YAAE,OAAO,EAAE;QAAE;IACzB;IAEA,gBAAgB,OAAO;QACnB,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,kBAAkB;gBACtC,QAAQ;gBACR,MAAM,KAAK,SAAS,CAAC;YACzB;YACA,OAAO,IAAI,IAAI;QACnB,EAAE,OAAM;YAAE,OAAO;QAAM;IAC3B;IAEA,sBAAsB,OAAO,IAAY;QACrC,OAAO;IACX;AACJ;AAEO,MAAM,kBAAkB;IAC3B,gBAAgB;QACZ,IAAI;YACA,MAAM,MAAM,MAAM,MAAM;YACxB,OAAO,IAAI,EAAE,GAAG,IAAI,IAAI,KAAK,EAAE;QACnC,EAAE,OAAM;YAAE,OAAO,EAAE;QAAE;IACzB;IAEA,aAAa,OAAO;QAMhB,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,iBAAiB;gBACrC,QAAQ;gBACR,MAAM,KAAK,SAAS,CAAC;YACzB;YACA,OAAO,IAAI,EAAE;QACjB,EAAE,OAAM;YAAE,OAAO;QAAO;IAC5B;IAEA,YAAY,OAAO;QACf,OAAO;IACX;AACJ;AAEO,MAAM,iBAAiB;IAC1B,eAAe;QACX,IAAI;YACA,MAAM,MAAM,MAAM,MAAM;YACxB,OAAO,IAAI,EAAE,GAAG,IAAI,IAAI,KAAK,EAAE;QACnC,EAAE,OAAM;YAAE,OAAO,EAAE;QAAE;IACzB;IAEA,cAAc,OAAO;QACjB,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,gBAAgB;gBACpC,QAAQ;gBACR,MAAM,KAAK,SAAS,CAAC;YACzB;YACA,OAAO,IAAI,IAAI;QACnB,EAAE,OAAM;YAAE,OAAO;QAAM;IAC3B;IAEA,oBAAoB,OAAO;QACvB,OAAO;IACX;IAEA,cAAc,OAAO;QACjB,OAAO;IACX;IAEA,WAAW,OAAO;QACd,OAAO;IACX;AACJ;AAEO,MAAM,qBAAqB;IAC9B,QAAQ;QACJ,OAAO;YAAE,SAAS;YAAM,UAAU,EAAE;QAAC;IACzC;IACA,QAAQ,OAAO;QACX,mCAAmC;QACnC,OAAO;YAAE,SAAS;QAAM;IAC5B;IACA,QAAQ,OAAO,IAAY;QACvB,OAAO;YAAE,SAAS;QAAM;IAC5B;IACA,QAAQ,OAAO;QACX,OAAO;YAAE,SAAS;QAAM;IAC5B;AACJ"}},
    {"offset": {"line": 5778, "column": 0}, "map": {"version":3,"sources":["file:///D:/DownloadChrome/copy-of-farrtz-cyberpunk-fashion-next-update-cap-2/components/AdminSPA.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useEffect } from 'react';\r\nimport AdminDashboard from './AdminDashboard';\r\nimport AdminLoginPage from './AdminLoginPage';\r\nimport { User, Feedback, ChatConversation, Coupon } from '../types';\r\nimport { authService } from '../services/auth';\r\nimport { feedbackService, messagesService, couponsService } from '../services/localServices';\r\n\r\nexport default function AdminSPA() {\r\n    const [adminUser, setAdminUser] = useState<User | null>(null);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    // Admin Data\r\n    const [feedbacks, setFeedbacks] = useState<Feedback[]>([]);\r\n    const [conversations, setConversations] = useState<ChatConversation[]>([]);\r\n    const [coupons, setCoupons] = useState<Coupon[]>([]);\r\n\r\n    const loadData = async () => {\r\n        const [fbRes, msgRes, cpnRes] = await Promise.all([\r\n            feedbackService.getAllFeedback(),\r\n            messagesService.getAllMessages(),\r\n            couponsService.getAllCoupons()\r\n        ]);\r\n        setFeedbacks(fbRes || []);\r\n        setConversations(msgRes || []);\r\n        setCoupons(cpnRes || []);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const currentAdmin = authService.getCurrentUser();\r\n        if (currentAdmin?.isAdmin) {\r\n            setAdminUser(currentAdmin);\r\n        }\r\n        loadData();\r\n        setIsLoading(false);\r\n    }, []);\r\n\r\n    const handleAdminLoginSuccess = (user: User) => {\r\n        setAdminUser(user);\r\n        loadData();\r\n    };\r\n\r\n    const handleAdminLogout = async () => {\r\n        await authService.logout();\r\n        setAdminUser(null);\r\n    };\r\n\r\n    const handleUpdateFeedbackStatus = async (feedbackId: string, status: Feedback['status']) => {\r\n        try {\r\n            const feedback = await feedbackService.updateFeedbackStatus(feedbackId, status);\r\n            if (feedback) {\r\n                setFeedbacks((prev) =>\r\n                    prev.map((f) => (f.id === feedbackId ? { ...f, status } : f))\r\n                );\r\n            }\r\n        } catch (e) { console.error(e); }\r\n    };\r\n\r\n    const handleAdminSendMessage = async (userId: string, message: string) => {\r\n        const messageData = {\r\n            userId,\r\n            message,\r\n            sender: 'admin' as const,\r\n        };\r\n\r\n        try {\r\n            const result = await messagesService.sendMessage(messageData);\r\n            if (result) {\r\n                const messages = await messagesService.getAllMessages();\r\n                if (messages) setConversations(messages);\r\n            }\r\n        } catch (e) { console.error(e); }\r\n    };\r\n\r\n    const handleCreateCoupon = async (newCoupon: Omit<Coupon, 'id' | 'createdDate' | 'usageCount' | 'usedBy'>) => {\r\n        try {\r\n            const coupon = await couponsService.createCoupon(newCoupon);\r\n            if (coupon) {\r\n                setCoupons((prev) => [coupon, ...prev]);\r\n                console.log(' Coupon created via API:', coupon);\r\n            }\r\n        } catch (e) { console.error(e); }\r\n    };\r\n\r\n    const handleToggleCouponStatus = async (couponId: string) => {\r\n        try {\r\n            const coupon = await couponsService.toggleCouponStatus(couponId);\r\n            if (coupon) {\r\n                setCoupons((prev) =>\r\n                    prev.map((c) => (c.id === couponId ? { ...c, isActive: !c.isActive } : c))\r\n                );\r\n            }\r\n        } catch (e) { console.error(e); }\r\n    };\r\n\r\n    const handleDeleteCoupon = async (couponId: string) => {\r\n        try {\r\n            if (confirm('Delete this coupon?')) {\r\n                await couponsService.deleteCoupon(couponId);\r\n                setCoupons((prev) => prev.filter((c) => c.id !== couponId));\r\n            }\r\n        } catch (e) { console.error(e); }\r\n    };\r\n\r\n\r\n    if (isLoading) return <div className=\"min-h-screen bg-black flex items-center justify-center text-red-400 brand-font\">LOADING ADMIN PANEL...</div>;\r\n\r\n    return (\r\n        <>\r\n            {!adminUser ? (\r\n                <AdminLoginPage onLoginSuccess={handleAdminLoginSuccess} />\r\n            ) : (\r\n                <AdminDashboard\r\n                    user={adminUser}\r\n                    onNavigate={() => { }}\r\n                    onLogout={handleAdminLogout}\r\n                    feedbacks={feedbacks}\r\n                    conversations={conversations}\r\n                    coupons={coupons}\r\n                    onUpdateFeedbackStatus={handleUpdateFeedbackStatus}\r\n                    onSendMessage={handleAdminSendMessage}\r\n                    onCreateCoupon={handleCreateCoupon}\r\n                    onToggleCouponStatus={handleToggleCouponStatus}\r\n                    onDeleteCoupon={handleDeleteCoupon}\r\n                />\r\n            )}\r\n        </>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}