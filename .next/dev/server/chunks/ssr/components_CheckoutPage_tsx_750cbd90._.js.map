{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/DownloadChrome/copy-of-farrtz-cyberpunk-fashion-next-update-cap-2/components/CheckoutPage.tsx"],"sourcesContent":["\r\nimport React, { useState, useRef } from 'react';\r\nimport { motion as framerMotion, AnimatePresence } from 'framer-motion';\r\nimport { ShoppingCart, Menu, ArrowLeft, Tag, Plus, CheckCircle, CreditCard, Banknote, Upload, Copy, Edit2, AlertTriangle, Loader } from 'lucide-react';\r\nimport { PageType, CartItem, User, Order, Coupon } from '../types';\r\nimport { authService } from '../services/auth';\r\nimport { calculateDiscount } from '../utils/couponUtils';\r\n\r\nconst motion = framerMotion as any;\r\n\r\ninterface CheckoutPageProps {\r\n    onNavigate: (page: PageType) => void;\r\n    cartItems: CartItem[];\r\n    user: User | null;\r\n    onClearCart: () => void;\r\n    appliedCoupon?: Coupon | null;\r\n    onIncrementCouponUsage?: (couponId: string, userId: string) => void;  // ADD THIS\r\n}\r\n\r\nconst CheckoutPage: React.FC<CheckoutPageProps> = ({ onNavigate, cartItems, user, onClearCart, appliedCoupon, onIncrementCouponUsage }) => {\r\n    console.log('üîç CheckoutPage rendered:', { cartItems, user, appliedCoupon });\r\n\r\n    // Checkout State\r\n    const [step, setStep] = useState(1); // 1 = Shipping Info, 2 = Payment\r\n    const [error, setError] = useState('');\r\n    const [isProcessing, setIsProcessing] = useState(false);\r\n\r\n    // Form Data State\r\n    const [formData, setFormData] = useState({\r\n        email: user?.email || '',\r\n        phone: '',\r\n        firstName: user?.firstName || '',\r\n        lastName: user?.lastName || '',\r\n        address: '',\r\n        city: '',\r\n        district: '', // Kabupaten\r\n        subdistrict: '', // Kecamatan\r\n        zipCode: ''\r\n    });\r\n\r\n    // Payment State\r\n    const [shippingMethod, setShippingMethod] = useState('standard');\r\n    const [saveInfo, setSaveInfo] = useState(false);\r\n    const [paymentMethod, setPaymentMethod] = useState<'bank' | 'cod'>('bank');\r\n    const [selectedBank, setSelectedBank] = useState('bca');\r\n    const [paymentProofFile, setPaymentProofFile] = useState<File | null>(null);\r\n    const [paymentProofUrl, setPaymentProofUrl] = useState<string>(''); // For preview and saving\r\n    const [showSuccessModal, setShowSuccessModal] = useState(false);\r\n\r\n    const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n    // Calculations\r\n    const selectedItems = cartItems.filter(item => item.selected);\r\n\r\n    // Calculate Gross Subtotal (Using Original Price if available, otherwise regular price)\r\n    const grossSubtotal = selectedItems.reduce((acc, item) => {\r\n        const itemPrice = (item.isSale && item.originalPrice) ? item.originalPrice : item.price;\r\n        return acc + (itemPrice * item.quantity);\r\n    }, 0);\r\n\r\n    // Calculate Savings (Discount)\r\n    const totalSavings = selectedItems.reduce((acc, item) => {\r\n        if (item.isSale && item.originalPrice && item.originalPrice > item.price) {\r\n            return acc + ((item.originalPrice - item.price) * item.quantity);\r\n        }\r\n        return acc;\r\n    }, 0);\r\n\r\n    let shippingCost = 25000;\r\n    if (shippingMethod === 'regular') shippingCost = 35000;\r\n    if (shippingMethod === 'express') shippingCost = 50000;\r\n\r\n    const tax = 2000;\r\n\r\n    // Coupon discount calculation with safe checks\r\n    let couponDiscount = 0;\r\n    try {\r\n        if (appliedCoupon && appliedCoupon.discountPercent) {\r\n            couponDiscount = calculateDiscount(grossSubtotal - totalSavings, appliedCoupon);\r\n        }\r\n    } catch (error) {\r\n        console.error('Error calculating coupon discount:', error);\r\n        couponDiscount = 0;\r\n    }\r\n\r\n    // Net Total to Pay\r\n    const total = grossSubtotal - totalSavings - couponDiscount + shippingCost + tax;\r\n\r\n    // Handlers\r\n    const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const { name, value } = e.target;\r\n        setFormData(prev => ({ ...prev, [name]: value }));\r\n        setError(''); // Clear error on type\r\n    };\r\n\r\n    const validateShippingForm = () => {\r\n        const requiredFields = ['email', 'phone', 'firstName', 'lastName', 'address', 'city', 'district', 'subdistrict', 'zipCode'];\r\n        for (const field of requiredFields) {\r\n            if (!formData[field as keyof typeof formData]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n\r\n    const handleContinueToPayment = () => {\r\n        if (!validateShippingForm()) {\r\n            setError('Please fill in all shipping details before continuing.');\r\n            window.scrollTo({ top: 0, behavior: 'smooth' });\r\n            return;\r\n        }\r\n        window.scrollTo({ top: 0, behavior: 'smooth' });\r\n        setStep(2);\r\n    };\r\n\r\n    const handleEditShipping = () => {\r\n        setStep(1);\r\n    };\r\n\r\n    const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files && e.target.files[0]) {\r\n            const file = e.target.files[0];\r\n            setPaymentProofFile(file);\r\n\r\n            // Create Base64 string immediately\r\n            const reader = new FileReader();\r\n            reader.onloadend = () => {\r\n                setPaymentProofUrl(reader.result as string);\r\n            };\r\n            reader.readAsDataURL(file);\r\n        }\r\n    };\r\n\r\n    const handlePlaceOrder = async () => {\r\n        // Validation\r\n        if (paymentMethod === 'bank' && !paymentProofFile) {\r\n            alert(\"Please upload payment proof first.\");\r\n            return;\r\n        }\r\n\r\n        setIsProcessing(true);\r\n\r\n        // Create Order Object\r\n        const newOrder: Order = {\r\n            id: `ORD-${Date.now()}`,\r\n            userId: user?.id || 'guest',\r\n            items: selectedItems,\r\n            shippingDetails: {\r\n                ...formData,\r\n                method: shippingMethod,\r\n            },\r\n            totalAmount: Math.max(0, total),\r\n            status: 'pending', // Default starting status\r\n            date: new Date().toISOString(),\r\n            paymentMethod: paymentMethod,\r\n            paymentProofUrl: paymentMethod === 'bank' ? paymentProofUrl : undefined\r\n        };\r\n\r\n        // Save to Simulated Database\r\n        const result = await authService.createOrder(newOrder);\r\n\r\n        setIsProcessing(false);\r\n        if (result.success) {\r\n            // Increment coupon usage if coupon was applied\r\n            if (appliedCoupon && user && onIncrementCouponUsage) {\r\n                onIncrementCouponUsage(appliedCoupon.id, user.id);\r\n                console.log('‚úÖ Coupon usage incremented:', appliedCoupon.code);\r\n            }\r\n\r\n            setShowSuccessModal(true);\r\n        } else {\r\n            alert(\"Failed to place order. Please try again.\");\r\n        }\r\n    };\r\n\r\n    const handleFinish = () => {\r\n        setShowSuccessModal(false);\r\n        onClearCart();\r\n        onNavigate('home');\r\n    };\r\n\r\n    const handleViewHistory = () => {\r\n        setShowSuccessModal(false);\r\n        onClearCart();\r\n        onNavigate('order-history');\r\n    };\r\n\r\n    // Bank Data\r\n    const banks = [\r\n        { id: 'bca', name: 'BCA', number: '8830-1234-5678', holder: 'PT FARRTZ INDO', color: 'bg-blue-600' },\r\n        { id: 'mandiri', name: 'Mandiri', number: '123-00-9876543-2', holder: 'PT FARRTZ INDO', color: 'bg-yellow-600' },\r\n        { id: 'bri', name: 'BRI', number: '0341-01-001234-50-1', holder: 'PT FARRTZ INDO', color: 'bg-blue-700' },\r\n        { id: 'bni', name: 'BNI', number: '098-765-4321', holder: 'PT FARRTZ INDO', color: 'bg-orange-600' },\r\n    ];\r\n\r\n    const currentBank = banks.find(b => b.id === selectedBank);\r\n    const firstItem = selectedItems.length > 0 ? selectedItems[0] : null;\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-[#2e1065] to-[#0f0c29] text-white font-sans selection:bg-purple-500 selection:text-white flex flex-col relative\">\r\n\r\n            {/* Success Modal */}\r\n            <AnimatePresence>\r\n                {showSuccessModal && (\r\n                    <div className=\"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md p-4\">\r\n                        <motion.div\r\n                            initial={{ scale: 0.9, opacity: 0 }}\r\n                            animate={{ scale: 1, opacity: 1 }}\r\n                            exit={{ scale: 0.9, opacity: 0 }}\r\n                            className=\"bg-white rounded-[32px] p-10 max-w-[500px] w-full text-center text-black relative shadow-2xl\"\r\n                        >\r\n                            <h2 className=\"text-4xl font-extrabold mb-2 tracking-tight\">Succesful</h2>\r\n                            <p className=\"text-[10px] text-gray-500 uppercase tracking-widest mb-8\">\r\n                                Congrats your Order succes.<br />Check History order\r\n                            </p>\r\n\r\n                            {/* Product Preview Card in Modal */}\r\n                            {firstItem && (\r\n                                <div className=\"flex items-start gap-4 mb-8 bg-gray-50 p-4 rounded-xl text-left border border-gray-100 shadow-inner\">\r\n                                    <div className=\"w-20 h-20 bg-black rounded-lg flex items-center justify-center flex-shrink-0 overflow-hidden border border-gray-200\">\r\n                                        <img src={firstItem.imageUrl} alt={firstItem.title} className=\"w-full h-full object-cover\" />\r\n                                    </div>\r\n                                    <div className=\"flex-1\">\r\n                                        <h3 className=\"font-bold text-sm mb-1 leading-tight\">{firstItem.title}</h3>\r\n                                        <div className=\"text-[10px] text-gray-500 space-y-0.5 font-medium\">\r\n                                            <p>‚Ä¢ Fit: Male Fit</p>\r\n                                            <p>‚Ä¢ Style: Classic T-Shirt</p>\r\n                                            <p>‚Ä¢ Size: {firstItem.details.size || 'M'}</p>\r\n                                            <p>‚Ä¢ Color: {firstItem.details.color || 'Black'}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            <div className=\"w-full h-px bg-gray-200 mb-6\"></div>\r\n\r\n                            <div className=\"flex justify-between items-center mb-8 px-2\">\r\n                                <span className=\"font-bold text-xl\">Total Order</span>\r\n                                <span className=\"font-bold text-xl font-mono\">Rp. {Math.max(0, total).toLocaleString()}</span>\r\n                            </div>\r\n\r\n                            <button\r\n                                onClick={handleFinish}\r\n                                className=\"w-full py-4 bg-[#4f1bf7] hover:bg-[#3f15c5] text-white font-bold text-lg rounded-xl shadow-lg shadow-indigo-200 transition-all active:scale-95\"\r\n                            >\r\n                                Confirm\r\n                            </button>\r\n\r\n                            <div className=\"mt-6\">\r\n                                <span className=\"text-sm font-bold text-gray-800\">Cek order </span>\r\n                                <button onClick={handleViewHistory} className=\"text-sm font-bold text-[#4f1bf7] hover:underline\">history</button>\r\n                            </div>\r\n                        </motion.div>\r\n                    </div>\r\n                )}\r\n            </AnimatePresence>\r\n\r\n            {/* Header */}\r\n            <header className=\"py-6 px-8 border-b border-white/10 flex items-center gap-4 bg-[#1a0b2e]/50 backdrop-blur-md sticky top-0 z-40\">\r\n                <button onClick={() => onNavigate('home')} className=\"p-2 hover:bg-white/10 rounded-lg transition-colors\">\r\n                    <Menu className=\"text-white\" />\r\n                </button>\r\n                <div className=\"flex items-center gap-2\">\r\n                    <span className=\"font-bold text-xl brand-font\">Checkout</span>\r\n                    <span className=\"w-8 h-8 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg flex items-center justify-center text-black font-bold text-xs\">ü¶ä</span>\r\n                    <span className=\"font-black brand-font italic\">FARRTZ</span>\r\n                </div>\r\n\r\n                {/* Steps Indicator */}\r\n                <div className=\"ml-auto hidden sm:flex items-center gap-4 text-sm font-bold tech-font\">\r\n                    <div className={`flex items-center gap-2 ${step === 1 ? 'text-cyan-400' : 'text-gray-500'}`}>\r\n                        <div className={`w-6 h-6 rounded-full border-2 flex items-center justify-center ${step === 1 ? 'border-cyan-400 bg-cyan-400 text-black' : 'border-gray-600'}`}>1</div>\r\n                        <span>Shipping</span>\r\n                    </div>\r\n                    <div className=\"w-8 h-[2px] bg-gray-700\"></div>\r\n                    <div className={`flex items-center gap-2 ${step === 2 ? 'text-cyan-400' : 'text-gray-500'}`}>\r\n                        <div className={`w-6 h-6 rounded-full border-2 flex items-center justify-center ${step === 2 ? 'border-cyan-400 bg-cyan-400 text-black' : 'border-gray-600'}`}>2</div>\r\n                        <span>Payment</span>\r\n                    </div>\r\n                </div>\r\n            </header>\r\n\r\n            <div className=\"flex-1 max-w-7xl mx-auto w-full p-4 lg:p-12 flex flex-col lg:flex-row gap-12\">\r\n\r\n                {/* Left Column: Form / Payment */}\r\n                <div className=\"w-full lg:w-3/5 space-y-8\">\r\n\r\n                    {/* Error Message */}\r\n                    {error && (\r\n                        <div className=\"bg-red-500/20 border border-red-500 text-red-200 p-4 rounded-xl flex items-center gap-3\">\r\n                            <AlertTriangle size={20} />\r\n                            <span className=\"font-bold text-sm\">{error}</span>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* STEP 1: SHIPPING INFORMATION */}\r\n                    {step === 1 && (\r\n                        <motion.div\r\n                            initial={{ opacity: 0, x: -20 }}\r\n                            animate={{ opacity: 1, x: 0 }}\r\n                            className=\"space-y-8\"\r\n                        >\r\n                            {/* Contact Info */}\r\n                            <section>\r\n                                <h3 className=\"text-lg font-medium mb-4 flex items-center gap-2 text-cyan-400 brand-font\">\r\n                                    Contact Info\r\n                                </h3>\r\n                                <div className=\"space-y-4\">\r\n                                    <div>\r\n                                        <label className=\"block text-xs font-medium text-gray-300 mb-1\">Email Address *</label>\r\n                                        <input\r\n                                            name=\"email\"\r\n                                            value={formData.email}\r\n                                            onChange={handleInputChange}\r\n                                            type=\"email\"\r\n                                            className=\"w-full bg-white text-black rounded-full px-5 py-3 outline-none focus:ring-2 focus:ring-purple-500 shadow-lg placeholder:text-gray-400\"\r\n                                            placeholder=\"example@email.com\"\r\n                                        />\r\n                                    </div>\r\n                                    <div>\r\n                                        <label className=\"block text-xs font-medium text-gray-300 mb-1\">Phone Number *</label>\r\n                                        <input\r\n                                            name=\"phone\"\r\n                                            value={formData.phone}\r\n                                            onChange={handleInputChange}\r\n                                            type=\"tel\"\r\n                                            className=\"w-full bg-white text-black rounded-full px-5 py-3 outline-none focus:ring-2 focus:ring-purple-500 shadow-lg placeholder:text-gray-400\"\r\n                                            placeholder=\"+62 ...\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </section>\r\n\r\n                            <div className=\"h-px bg-gradient-to-r from-transparent via-white/20 to-transparent w-full\"></div>\r\n\r\n                            {/* Shipping Address */}\r\n                            <section>\r\n                                <h3 className=\"text-lg font-medium mb-4 flex items-center gap-2 text-cyan-400 brand-font\">\r\n                                    Shipping Address\r\n                                </h3>\r\n                                <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n                                    <div>\r\n                                        <label className=\"block text-xs font-medium text-gray-300 mb-1\">First Name *</label>\r\n                                        <input\r\n                                            name=\"firstName\"\r\n                                            value={formData.firstName}\r\n                                            onChange={handleInputChange}\r\n                                            type=\"text\"\r\n                                            className=\"w-full bg-white text-black rounded-xl px-5 py-3 outline-none focus:ring-2 focus:ring-purple-500 shadow-lg\"\r\n                                        />\r\n                                    </div>\r\n                                    <div>\r\n                                        <label className=\"block text-xs font-medium text-gray-300 mb-1\">Last Name *</label>\r\n                                        <input\r\n                                            name=\"lastName\"\r\n                                            value={formData.lastName}\r\n                                            onChange={handleInputChange}\r\n                                            type=\"text\"\r\n                                            className=\"w-full bg-white text-black rounded-xl px-5 py-3 outline-none focus:ring-2 focus:ring-purple-500 shadow-lg\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"mb-4\">\r\n                                    <label className=\"block text-xs font-medium text-gray-300 mb-1\">Address Line 1 *</label>\r\n                                    <input\r\n                                        name=\"address\"\r\n                                        value={formData.address}\r\n                                        onChange={handleInputChange}\r\n                                        type=\"text\"\r\n                                        className=\"w-full bg-white text-black rounded-xl px-5 py-3 outline-none focus:ring-2 focus:ring-purple-500 shadow-lg\"\r\n                                        placeholder=\"Street address, P.O. box\"\r\n                                    />\r\n                                </div>\r\n                                <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n                                    <div>\r\n                                        <label className=\"block text-xs font-medium text-gray-300 mb-1\">Kota *</label>\r\n                                        <input\r\n                                            name=\"city\"\r\n                                            value={formData.city}\r\n                                            onChange={handleInputChange}\r\n                                            type=\"text\"\r\n                                            className=\"w-full bg-white text-black rounded-xl px-5 py-3 outline-none focus:ring-2 focus:ring-purple-500 shadow-lg\"\r\n                                        />\r\n                                    </div>\r\n                                    <div>\r\n                                        <label className=\"block text-xs font-medium text-gray-300 mb-1\">Kabupaten *</label>\r\n                                        <input\r\n                                            name=\"district\"\r\n                                            value={formData.district}\r\n                                            onChange={handleInputChange}\r\n                                            type=\"text\"\r\n                                            className=\"w-full bg-white text-black rounded-xl px-5 py-3 outline-none focus:ring-2 focus:ring-purple-500 shadow-lg\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"grid grid-cols-2 gap-4\">\r\n                                    <div>\r\n                                        <label className=\"block text-xs font-medium text-gray-300 mb-1\">Kecamatan *</label>\r\n                                        <input\r\n                                            name=\"subdistrict\"\r\n                                            value={formData.subdistrict}\r\n                                            onChange={handleInputChange}\r\n                                            type=\"text\"\r\n                                            className=\"w-full bg-white text-black rounded-xl px-5 py-3 outline-none focus:ring-2 focus:ring-purple-500 shadow-lg\"\r\n                                        />\r\n                                    </div>\r\n                                    <div>\r\n                                        <label className=\"block text-xs font-medium text-gray-300 mb-1\">Kode Pos *</label>\r\n                                        <input\r\n                                            name=\"zipCode\"\r\n                                            value={formData.zipCode}\r\n                                            onChange={handleInputChange}\r\n                                            type=\"text\"\r\n                                            className=\"w-full bg-white text-black rounded-xl px-5 py-3 outline-none focus:ring-2 focus:ring-purple-500 shadow-lg\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"mt-4 flex items-center gap-2\">\r\n                                    <button\r\n                                        onClick={() => setSaveInfo(!saveInfo)}\r\n                                        className={`w-5 h-5 rounded bg-white flex items-center justify-center transition-colors ${saveInfo ? 'bg-purple-500' : ''}`}\r\n                                    >\r\n                                        {saveInfo && <div className=\"w-3 h-3 bg-purple-600 rounded-sm\"></div>}\r\n                                    </button>\r\n                                    <span className=\"text-sm text-gray-300\">Save my shipping address for next time.</span>\r\n                                </div>\r\n                            </section>\r\n\r\n                            <div className=\"h-px bg-gradient-to-r from-transparent via-white/20 to-transparent w-full\"></div>\r\n\r\n                            {/* Shipping Method */}\r\n                            <section>\r\n                                <h3 className=\"text-lg font-medium mb-4 flex items-center gap-2 text-cyan-400 brand-font\">\r\n                                    Shipping Method\r\n                                </h3>\r\n                                <div className=\"space-y-3\">\r\n                                    {[\r\n                                        { id: 'standard', label: 'Standard', sub: '6-8 Hari', price: 'Rp. 25.000' },\r\n                                        { id: 'regular', label: 'Reguler', sub: '4-5 Hari', price: 'Rp. 35.000' },\r\n                                        { id: 'express', label: 'Express', sub: '2-3 Hari', price: 'Rp. 50.000' },\r\n                                    ].map((method) => (\r\n                                        <div\r\n                                            key={method.id}\r\n                                            onClick={() => setShippingMethod(method.id)}\r\n                                            className={`bg-white rounded-xl p-4 flex items-center justify-between cursor-pointer transition-transform hover:scale-[1.01] shadow-lg ${shippingMethod === method.id ? 'ring-2 ring-purple-500 scale-[1.01]' : 'opacity-90 hover:opacity-100'}`}\r\n                                        >\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                <div className={`w-5 h-5 rounded-full border-2 border-gray-300 flex items-center justify-center`}>\r\n                                                    {shippingMethod === method.id && <div className=\"w-3 h-3 bg-purple-600 rounded-full\"></div>}\r\n                                                </div>\r\n                                                <div>\r\n                                                    <p className=\"font-bold text-gray-900 text-sm\">{method.label}</p>\r\n                                                    <p className=\"text-[10px] text-gray-500\">{method.sub}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                            <p className=\"font-bold text-gray-900 text-sm\">{method.price}</p>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </section>\r\n\r\n                            <button\r\n                                onClick={handleContinueToPayment}\r\n                                className=\"w-full py-4 bg-[#2b35bc] hover:bg-[#1e258a] text-white font-bold rounded-xl shadow-[0_0_20px_rgba(43,53,188,0.4)] transition-all mt-6 uppercase tracking-wider flex items-center justify-center gap-2 group\"\r\n                            >\r\n                                Continue Payment <ArrowLeft className=\"rotate-180 group-hover:translate-x-1 transition-transform\" size={20} />\r\n                            </button>\r\n                        </motion.div>\r\n                    )}\r\n\r\n                    {/* STEP 2: PAYMENT */}\r\n                    {step === 2 && (\r\n                        <motion.div\r\n                            initial={{ opacity: 0, x: 20 }}\r\n                            animate={{ opacity: 1, x: 0 }}\r\n                            className=\"space-y-8\"\r\n                        >\r\n                            {/* Information Summary */}\r\n                            <div className=\"bg-[#1a0b2e] border border-white/10 rounded-2xl p-6\">\r\n                                <div className=\"flex justify-between items-start mb-4\">\r\n                                    <h3 className=\"text-gray-400 text-xs font-bold uppercase tracking-widest\">Ship To</h3>\r\n                                    <button\r\n                                        onClick={handleEditShipping}\r\n                                        className=\"text-cyan-400 text-xs flex items-center gap-1 hover:text-white transition-colors\"\r\n                                    >\r\n                                        <Edit2 size={12} /> Edit\r\n                                    </button>\r\n                                </div>\r\n                                <div className=\"space-y-1\">\r\n                                    <p className=\"text-white font-bold text-lg\">{formData.firstName} {formData.lastName}</p>\r\n                                    <p className=\"text-gray-300 text-sm\">{formData.address}</p>\r\n                                    <p className=\"text-gray-300 text-sm\">{formData.city}, {formData.district}, {formData.zipCode}</p>\r\n                                    <div className=\"pt-2 mt-2 border-t border-white/5 flex gap-4 text-xs text-gray-500\">\r\n                                        <span>{formData.email}</span>\r\n                                        <span>‚Ä¢</span>\r\n                                        <span>{formData.phone}</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Payment Method Selection */}\r\n                            <section>\r\n                                <h3 className=\"text-lg font-medium mb-4 flex items-center gap-2 text-cyan-400 brand-font\">\r\n                                    Metode Pembayaran\r\n                                </h3>\r\n                                <div className=\"grid grid-cols-2 gap-4\">\r\n                                    <button\r\n                                        onClick={() => setPaymentMethod('bank')}\r\n                                        className={`p-4 rounded-xl border flex flex-col items-center justify-center gap-2 transition-all ${paymentMethod === 'bank'\r\n                                            ? 'bg-purple-900/50 border-purple-500 shadow-[0_0_15px_rgba(168,85,247,0.3)]'\r\n                                            : 'bg-[#1a1a2e] border-white/10 hover:bg-[#252540]'\r\n                                            }`}\r\n                                    >\r\n                                        <CreditCard size={32} className={paymentMethod === 'bank' ? 'text-purple-400' : 'text-gray-400'} />\r\n                                        <span className={`font-bold ${paymentMethod === 'bank' ? 'text-white' : 'text-gray-400'}`}>Bank Transfer</span>\r\n                                    </button>\r\n\r\n                                    <button\r\n                                        onClick={() => setPaymentMethod('cod')}\r\n                                        className={`p-4 rounded-xl border flex flex-col items-center justify-center gap-2 transition-all ${paymentMethod === 'cod'\r\n                                            ? 'bg-purple-900/50 border-purple-500 shadow-[0_0_15px_rgba(168,85,247,0.3)]'\r\n                                            : 'bg-[#1a1a2e] border-white/10 hover:bg-[#252540]'\r\n                                            }`}\r\n                                    >\r\n                                        <Banknote size={32} className={paymentMethod === 'cod' ? 'text-purple-400' : 'text-gray-400'} />\r\n                                        <span className={`font-bold ${paymentMethod === 'cod' ? 'text-white' : 'text-gray-400'}`}>COD</span>\r\n                                    </button>\r\n                                </div>\r\n                            </section>\r\n\r\n                            {/* Bank Selection & Details */}\r\n                            <AnimatePresence mode=\"wait\">\r\n                                {paymentMethod === 'bank' && (\r\n                                    <motion.div\r\n                                        key=\"bank-details\"\r\n                                        initial={{ opacity: 0, height: 0 }}\r\n                                        animate={{ opacity: 1, height: 'auto' }}\r\n                                        exit={{ opacity: 0, height: 0 }}\r\n                                        className=\"space-y-6 overflow-hidden\"\r\n                                    >\r\n                                        <div>\r\n                                            <label className=\"block text-xs font-medium text-gray-300 mb-3 uppercase tracking-wider\">Choose Bank</label>\r\n                                            <div className=\"space-y-2\">\r\n                                                {banks.map((bank) => (\r\n                                                    <div\r\n                                                        key={bank.id}\r\n                                                        onClick={() => setSelectedBank(bank.id)}\r\n                                                        className={`flex items-center justify-between p-4 rounded-xl cursor-pointer border transition-all ${selectedBank === bank.id\r\n                                                            ? 'bg-white border-white'\r\n                                                            : 'bg-[#1a1a2e] border-white/10 hover:border-gray-500'\r\n                                                            }`}\r\n                                                    >\r\n                                                        <div className=\"flex items-center gap-4\">\r\n                                                            <div className={`w-4 h-4 rounded-full border border-gray-400 flex items-center justify-center`}>\r\n                                                                {selectedBank === bank.id && <div className=\"w-2.5 h-2.5 bg-black rounded-full\"></div>}\r\n                                                            </div>\r\n                                                            <span className={`font-bold ${selectedBank === bank.id ? 'text-black' : 'text-white'}`}>{bank.name}</span>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                ))}\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        {/* Bank Account Display */}\r\n                                        {currentBank && (\r\n                                            <div className=\"bg-gradient-to-r from-gray-800 to-gray-900 rounded-xl p-6 border border-white/10 relative overflow-hidden\">\r\n                                                <div className=\"absolute top-0 right-0 p-4 opacity-10\">\r\n                                                    <CreditCard size={100} />\r\n                                                </div>\r\n                                                <p className=\"text-gray-400 text-xs uppercase tracking-widest mb-1\">Transfer Destination</p>\r\n                                                <h4 className=\"text-white font-bold text-lg mb-4\">{currentBank.name} Virtual Account</h4>\r\n\r\n                                                <div className=\"bg-black/50 rounded-lg p-4 flex items-center justify-between border border-white/10\">\r\n                                                    <div>\r\n                                                        <p className=\"text-2xl font-mono text-cyan-400 tracking-wider font-bold\">{currentBank.number}</p>\r\n                                                        <p className=\"text-xs text-gray-400 mt-1\">a.n {currentBank.holder}</p>\r\n                                                    </div>\r\n                                                    <button className=\"text-gray-400 hover:text-white transition-colors\" title=\"Copy\">\r\n                                                        <Copy size={20} />\r\n                                                    </button>\r\n                                                </div>\r\n\r\n                                                <div className=\"mt-4 flex gap-2 text-xs text-orange-400 items-center bg-orange-900/20 p-2 rounded\">\r\n                                                    <Tag size={12} />\r\n                                                    <span>Important: Transfer exact amount to verify automatically.</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        )}\r\n\r\n                                        {/* Payment Proof Upload */}\r\n                                        <div>\r\n                                            <label className=\"block text-xs font-medium text-gray-300 mb-3 uppercase tracking-wider\">Bukti Pembayaran</label>\r\n                                            <div\r\n                                                onClick={() => fileInputRef.current?.click()}\r\n                                                className=\"border-2 border-dashed border-gray-600 rounded-xl p-8 flex flex-col items-center justify-center cursor-pointer hover:border-cyan-400 hover:bg-cyan-900/10 transition-all group\"\r\n                                            >\r\n                                                <input\r\n                                                    type=\"file\"\r\n                                                    ref={fileInputRef}\r\n                                                    onChange={handleFileUpload}\r\n                                                    className=\"hidden\"\r\n                                                    accept=\"image/*\"\r\n                                                />\r\n                                                {paymentProofFile ? (\r\n                                                    <div className=\"flex items-center gap-3 text-cyan-400\">\r\n                                                        <CheckCircle size={24} />\r\n                                                        <span className=\"font-bold\">{paymentProofFile.name}</span>\r\n                                                    </div>\r\n                                                ) : (\r\n                                                    <>\r\n                                                        <Upload size={32} className=\"text-gray-400 group-hover:text-cyan-400 mb-2 transition-colors\" />\r\n                                                        <p className=\"text-gray-400 text-sm font-medium\">Click to upload image</p>\r\n                                                        <p className=\"text-gray-600 text-xs mt-1\">JPG, PNG, PDF (Max 5MB)</p>\r\n                                                    </>\r\n                                                )}\r\n                                            </div>\r\n                                        </div>\r\n                                    </motion.div>\r\n                                )}\r\n\r\n                                {paymentMethod === 'cod' && (\r\n                                    <motion.div\r\n                                        key=\"cod-info\"\r\n                                        initial={{ opacity: 0 }}\r\n                                        animate={{ opacity: 1 }}\r\n                                        exit={{ opacity: 0 }}\r\n                                        className=\"bg-gray-800/50 p-4 rounded-xl border border-white/10\"\r\n                                    >\r\n                                        <p className=\"text-sm text-gray-300\">\r\n                                            Pay securely with Cash on Delivery. Prepare the exact amount for the courier upon arrival.\r\n                                        </p>\r\n                                    </motion.div>\r\n                                )}\r\n                            </AnimatePresence>\r\n\r\n                            <button\r\n                                onClick={handlePlaceOrder}\r\n                                disabled={isProcessing}\r\n                                className={`w-full py-4 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white font-bold rounded-xl shadow-[0_0_20px_rgba(16,185,129,0.4)] transition-all mt-6 uppercase tracking-wider text-lg flex items-center justify-center gap-2 ${isProcessing ? 'opacity-70 cursor-wait' : ''}`}\r\n                            >\r\n                                {isProcessing ? (\r\n                                    <>\r\n                                        <Loader className=\"animate-spin\" size={24} /> Processing...\r\n                                    </>\r\n                                ) : (\r\n                                    'Place Order'\r\n                                )}\r\n                            </button>\r\n\r\n                            <button\r\n                                onClick={() => setStep(1)}\r\n                                className=\"w-full py-2 text-gray-400 text-sm hover:text-white underline\"\r\n                            >\r\n                                Back to Information\r\n                            </button>\r\n                        </motion.div>\r\n                    )}\r\n\r\n                </div>\r\n\r\n                {/* Right Column: Order Summary (Sticky) */}\r\n                <div className=\"w-full lg:w-2/5\">\r\n                    <div className=\"bg-[#1a1a2e]/60 backdrop-blur-xl border border-white/5 rounded-2xl p-6 lg:p-8 sticky top-32\">\r\n                        <h3 className=\"text-xl font-bold mb-6\">Ringkasan Pesanan</h3>\r\n\r\n                        <div className=\"flex items-center gap-2 mb-6\">\r\n                            <Plus size={16} className=\"text-blue-500\" />\r\n                            <span className=\"text-xs text-blue-300 underline cursor-pointer\">Apply Coupon or Discount Code</span>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-3 mb-6 border-b border-white/10 pb-6\">\r\n                            <div className=\"flex justify-between text-sm\">\r\n                                <span className=\"text-gray-300\">Subtotal ({selectedItems.length} Item)</span>\r\n                                <span className=\"font-mono\">Rp. {grossSubtotal.toLocaleString()}</span>\r\n                            </div>\r\n                            <div className=\"flex justify-between text-sm\">\r\n                                <span className=\"text-gray-300\">Shipping ({shippingMethod})</span>\r\n                                <span className=\"font-mono\">Rp. {shippingCost.toLocaleString()}</span>\r\n                            </div>\r\n                            <div className=\"flex justify-between text-sm\">\r\n                                <span className=\"text-gray-300\">Estimated Tax</span>\r\n                                <span className=\"font-mono\">Rp. {tax.toLocaleString()}</span>\r\n                            </div>\r\n\r\n                            {/* Only show discount row if there are actual savings */}\r\n                            {totalSavings > 0 && (\r\n                                <div className=\"flex justify-between text-sm\">\r\n                                    <span className=\"text-gray-300\">Diskon</span>\r\n                                    <span className=\"font-mono text-green-400\">- Rp. {totalSavings.toLocaleString()}</span>\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Coupon Discount */}\r\n                            {appliedCoupon && (\r\n                                <div className=\"flex justify-between text-sm\">\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <Tag size={14} className=\"text-green-400\" />\r\n                                        <span className=\"text-green-400 font-bold\">Coupon ({appliedCoupon.code})</span>\r\n                                    </div>\r\n                                    <span className=\"font-mono text-green-400\">- Rp. {couponDiscount.toLocaleString()}</span>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        <div className=\"flex justify-between text-lg font-bold mb-8\">\r\n                            <span>Total</span>\r\n                            <span className=\"text-cyan-400\">Rp. {Math.max(0, total).toLocaleString()}</span>\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center gap-2 mb-4\">\r\n                            <ShoppingCart size={16} className=\"text-gray-400\" />\r\n                            <span className=\"text-xs text-gray-400\">Cart ({selectedItems.length} Item)</span>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-4 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar\">\r\n                            {selectedItems.map((item) => (\r\n                                <div key={item.id} className=\"flex gap-4 bg-white rounded-xl p-3\">\r\n                                    <div className=\"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0\">\r\n                                        <img src={item.imageUrl} alt={item.title} className=\"w-12 h-12 object-contain\" />\r\n                                    </div>\r\n                                    <div className=\"flex-1\">\r\n                                        <p className=\"text-gray-900 font-bold text-xs line-clamp-2 leading-tight mb-1\">{item.title}</p>\r\n                                        <div className=\"text-[10px] text-gray-500 space-y-0.5\">\r\n                                            <p>‚Ä¢ Size: {item.details.size || 'N/A'}</p>\r\n                                            <p>‚Ä¢ Color: {item.details.color || 'N/A'}</p>\r\n                                            <p className=\"font-bold text-gray-900 mt-1\">{item.quantity} x Rp. {item.price.toLocaleString()}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CheckoutPage;\r\n"],"names":[],"mappings":"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"}}]
}