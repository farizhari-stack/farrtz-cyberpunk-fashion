module.exports=[64377,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(62036),f=a.i(70106);let g=(0,f.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var h=a.i(78987),i=a.i(83497),j=a.i(20005);let k=(0,f.default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),l=(0,f.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var m=a.i(15618);let n=(0,f.default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),o=(0,f.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var p=a.i(33508),q=a.i(73320),r=a.i(1027);let s=(0,f.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var t=a.i(63588);let u=(0,f.default)("ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),v=(0,f.default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var w=a.i(70579),x=a.i(75155),y=a.i(21374),z=a.i(92e3),A=a.i(45222),B=a.i(92759);let C=d.motion,D=({feedback:a,onUpdateStatus:c})=>(0,b.jsxs)(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-cyan-900/20 to-blue-900/20 border border-cyan-500/30 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h4",{className:"text-white font-bold",children:a.userName}),(0,b.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-cyan-500/20 text-cyan-400",children:"Feedback"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:a.userEmail}),(0,b.jsx)("div",{className:"flex gap-1 mt-2",children:Array.from({length:5}).map((c,d)=>(0,b.jsx)(y.Star,{size:16,className:d<a.rating?"fill-yellow-400 text-yellow-400":"text-gray-600"},d))})]}),(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsxs)("select",{value:a.status,onChange:b=>c(a.id,b.target.value),className:"bg-black/40 border border-purple-500/30 text-white rounded px-3 py-1 text-sm",children:[(0,b.jsx)("option",{value:"pending",children:"Pending"}),(0,b.jsx)("option",{value:"reviewed",children:"Reviewed"}),(0,b.jsx)("option",{value:"resolved",children:"Resolved"})]})})]}),(0,b.jsx)("p",{className:"text-white mb-3",children:a.message}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:new Date(a.date).toLocaleString()})]}),E=({complaint:a,onUpdateStatus:c,onChatWithUser:d})=>(0,b.jsxs)(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-orange-900/20 to-red-900/20 border border-orange-500/30 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h4",{className:"text-white font-bold",children:a.userName}),(0,b.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-orange-500/20 text-orange-400",children:"Complaint"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:a.userEmail}),(0,b.jsx)("div",{className:"flex gap-1 mt-2",children:Array.from({length:5}).map((c,d)=>(0,b.jsx)(y.Star,{size:16,className:d<a.rating?"fill-yellow-400 text-yellow-400":"text-gray-600"},d))})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("select",{value:a.status,onChange:b=>c(a.id,b.target.value),className:"bg-black/40 border border-orange-500/30 text-white rounded px-3 py-1 text-sm",children:[(0,b.jsx)("option",{value:"pending",children:"Pending"}),(0,b.jsx)("option",{value:"reviewed",children:"Reviewed"}),(0,b.jsx)("option",{value:"resolved",children:"Resolved"})]}),(0,b.jsxs)("button",{onClick:d,className:"bg-gradient-to-r from-purple-500 to-cyan-500 text-white px-4 py-1 rounded text-sm font-bold flex items-center gap-2 hover:from-purple-600 hover:to-cyan-600 transition-all",children:[(0,b.jsx)(A.MessageCircle,{size:16}),"Chat"]})]})]}),(0,b.jsx)("p",{className:"text-white mb-3",children:a.message}),a.photoUrl&&(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-orange-400 mb-2",children:[(0,b.jsx)(s,{size:16}),(0,b.jsx)("span",{className:"text-sm font-bold",children:"Attached Photo:"})]}),(0,b.jsx)("img",{src:a.photoUrl,alt:"Complaint photo",className:"max-w-md max-h-64 rounded-lg border-2 border-orange-500/30 cursor-pointer hover:border-orange-500/60 transition-colors",onClick:()=>window.open(a.photoUrl,"_blank")})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:new Date(a.date).toLocaleString()})]}),F=({feedbacks:a,conversations:d,onUpdateFeedbackStatus:e,onSendMessage:f})=>{let[g,h]=(0,c.useState)("feedback"),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(""),m=a.filter(a=>"feedback"===a.type),n=a.filter(a=>"complaint"===a.type),o=a=>{let b={5:0,4:0,3:0,2:0,1:0};return a.forEach(a=>{b[a.rating]++}),b},p=a=>{k.trim()&&(f(a,k.trim()),l(""))},q=d.find(a=>a.userId===i);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br  from-cyan-900/40 to-cyan-800/40 border border-cyan-500/30 rounded-lg p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,b.jsx)(t.MessageSquare,{className:"text-cyan-400",size:24})}),(0,b.jsx)("h3",{className:"text-3xl font-bold text-white",children:m.length}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Total Feedbacks"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-orange-900/40 to-orange-800/40 border border-orange-500/30 rounded-lg p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,b.jsx)(z.AlertCircle,{className:"text-orange-400",size:24})}),(0,b.jsx)("h3",{className:"text-3xl font-bold text-white",children:n.length}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Total Complaints"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-900/40 to-purple-800/40 border border-purple-500/30 rounded-lg p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,b.jsx)(y.Star,{className:"text-yellow-400",size:24})}),(0,b.jsx)("h3",{className:"text-3xl font-bold text-white",children:0===a.length?0:(a.reduce((a,b)=>a+b.rating,0)/a.length).toFixed(1)}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Average Rating"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-900/40 to-green-800/40 border border-green-500/30 rounded-lg p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,b.jsx)(A.MessageCircle,{className:"text-green-400",size:24})}),(0,b.jsx)("h3",{className:"text-3xl font-bold text-white",children:d.length}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Active Chats"})]})]}),(0,b.jsxs)("div",{className:"flex gap-4 border-b border-purple-500/30",children:[(0,b.jsxs)("button",{onClick:()=>h("feedback"),className:`px-6 py-3 font-bold transition-all ${"feedback"===g?"text-cyan-400 border-b-2 border-cyan-400":"text-gray-400 hover:text-white"}`,children:[(0,b.jsx)(t.MessageSquare,{className:"inline mr-2",size:18}),"Feedbacks (",m.length,")"]}),(0,b.jsxs)("button",{onClick:()=>h("complaint"),className:`px-6 py-3 font-bold transition-all relative ${"complaint"===g?"text-orange-400 border-b-2 border-orange-400":"text-gray-400 hover:text-white"}`,children:[(0,b.jsx)(z.AlertCircle,{className:"inline mr-2",size:18}),"Complaints (",n.length,")",n.filter(a=>"pending"===a.status).length>0&&(0,b.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-xs flex items-center justify-center text-white",children:n.filter(a=>"pending"===a.status).length})]}),(0,b.jsxs)("button",{onClick:()=>h("chat"),className:`px-6 py-3 font-bold transition-all relative ${"chat"===g?"text-cyan-400 border-b-2 border-cyan-400":"text-gray-400 hover:text-white"}`,children:[(0,b.jsx)(A.MessageCircle,{className:"inline mr-2",size:18}),"User Chats",d.filter(a=>a.unreadCount>0).length>0&&(0,b.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-xs flex items-center justify-center text-white",children:d.filter(a=>a.unreadCount>0).length})]})]}),"feedback"===g&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-900/20 to-cyan-900/20 border border-purple-500/30 rounded-lg p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Feedback Rating Distribution"}),Object.entries(o(m)).reverse().map(([a,c])=>{let d=m.length>0?c/m.length*100:0;return(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1 w-20",children:[(0,b.jsx)("span",{className:"text-white font-bold",children:a}),(0,b.jsx)(y.Star,{size:16,className:"fill-yellow-400 text-yellow-400"})]}),(0,b.jsx)("div",{className:"flex-1 h-3 bg-gray-800 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-gradient-to-r from-cyan-500 to-blue-500",style:{width:`${d}%`}})}),(0,b.jsx)("span",{className:"text-gray-400 w-16 text-right",children:c})]},a)})]}),(0,b.jsx)("div",{className:"space-y-4",children:0===m.length?(0,b.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,b.jsx)(t.MessageSquare,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,b.jsx)("p",{children:"No feedbacks yet"})]}):m.map(a=>(0,b.jsx)(D,{feedback:a,onUpdateStatus:e},a.id))})]}),"complaint"===g&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-orange-900/20 to-red-900/20 border border-orange-500/30 rounded-lg p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Complaint Rating Distribution"}),Object.entries(o(n)).reverse().map(([a,c])=>{let d=n.length>0?c/n.length*100:0;return(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1 w-20",children:[(0,b.jsx)("span",{className:"text-white font-bold",children:a}),(0,b.jsx)(y.Star,{size:16,className:"fill-yellow-400 text-yellow-400"})]}),(0,b.jsx)("div",{className:"flex-1 h-3 bg-gray-800 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-gradient-to-r from-orange-500 to-red-500",style:{width:`${d}%`}})}),(0,b.jsx)("span",{className:"text-gray-400 w-16 text-right",children:c})]},a)})]}),(0,b.jsx)("div",{className:"space-y-4",children:0===n.length?(0,b.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,b.jsx)(z.AlertCircle,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,b.jsx)("p",{children:"No complaints yet"})]}):n.map(a=>(0,b.jsx)(E,{complaint:a,onUpdateStatus:e,onChatWithUser:()=>{h("chat"),j(a.userId)}},a.id))})]}),"chat"===g&&(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 h-[600px]",children:[(0,b.jsxs)("div",{className:"col-span-1 bg-gradient-to-br from-purple-900/20 to-cyan-900/20 border border-purple-500/30 rounded-lg overflow-hidden",children:[(0,b.jsx)("div",{className:"p-4 border-b border-purple-500/30",children:(0,b.jsx)("h3",{className:"text-white font-bold",children:"Conversations"})}),(0,b.jsx)("div",{className:"overflow-y-auto h-[calc(100%-60px)]",children:0===d.length?(0,b.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,b.jsx)(A.MessageCircle,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,b.jsx)("p",{className:"text-sm",children:"No conversations yet"})]}):d.map(a=>(0,b.jsxs)("button",{onClick:()=>j(a.userId),className:`w-full p-4 border-b border-purple-500/20 hover:bg-white/5 transition-colors text-left ${i===a.userId?"bg-white/10":""}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,b.jsx)("h4",{className:"text-white font-bold text-sm",children:a.userName}),a.unreadCount>0&&(0,b.jsx)("span",{className:"w-5 h-5 bg-red-500 rounded-full text-xs flex items-center justify-center text-white",children:a.unreadCount})]}),(0,b.jsx)("p",{className:"text-xs text-gray-400 truncate",children:a.messages[a.messages.length-1]?.message||"No messages"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:new Date(a.lastMessageTime).toLocaleTimeString()})]},a.userId))})]}),(0,b.jsx)("div",{className:"col-span-2 bg-gradient-to-br from-purple-900/20 to-cyan-900/20 border border-purple-500/30 rounded-lg flex flex-col overflow-hidden",children:q?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"p-4 border-b border-purple-500/30",children:[(0,b.jsx)("h3",{className:"text-white font-bold",children:q.userName}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:q.userEmail})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:q.messages.map(a=>(0,b.jsx)("div",{className:`flex ${"admin"===a.sender?"justify-end":"justify-start"}`,children:(0,b.jsxs)("div",{className:`max-w-[75%] rounded-lg p-3 ${"admin"===a.sender?"bg-gradient-to-br from-purple-500 to-cyan-500 text-white":"bg-white/10 text-white border border-purple-500/30"}`,children:[(0,b.jsx)("p",{className:"text-sm break-words",children:a.message}),(0,b.jsx)("p",{className:"text-xs opacity-70 mt-1",children:new Date(a.timestamp).toLocaleTimeString()})]})},a.id))}),(0,b.jsx)("div",{className:"p-4 border-t border-purple-500/30",children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"text",value:k,onChange:a=>l(a.target.value),onKeyPress:a=>"Enter"===a.key&&p(q.userId),placeholder:"Type a reply...",className:"flex-1 bg-black/40 border border-purple-500/30 rounded-lg px-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500"}),(0,b.jsx)("button",{onClick:()=>p(q.userId),disabled:!k.trim(),className:"bg-gradient-to-r from-purple-500 to-cyan-500 text-white px-6 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:(0,b.jsx)(B.Send,{size:20})})]})})]}):(0,b.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(A.MessageCircle,{size:64,className:"mx-auto mb-4 opacity-50"}),(0,b.jsx)("p",{children:"Select a conversation to start chatting"})]})})})]})]})},G=(0,f.default)("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),H=(0,f.default)("toggle-right",[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),I=(0,f.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),J=(0,f.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),K=(0,f.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var L=a.i(88473);let M=d.motion,N=({coupon:a,onToggleStatus:c,onDelete:d})=>{let e=a.expiryDate&&new Date(a.expiryDate)<new Date,f=a.maxUsage?a.usageCount/a.maxUsage*100:0;return(0,b.jsxs)(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`bg-gradient-to-br ${a.isActive?"from-green-900/20 to-cyan-900/20 border-green-500/30":"from-gray-900/20 to-gray-800/20 border-gray-500/30"} border rounded-lg p-4 flex items-center gap-4`,children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("div",{className:"bg-black/40 border-2 border-purple-500/50 rounded-lg px-4 py-2",children:(0,b.jsx)("p",{className:"text-2xl font-mono font-bold text-cyan-400",children:a.code})})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,b.jsxs)("span",{className:"text-3xl font-bold text-white",children:[a.discountPercent,"%"]}),(0,b.jsx)("span",{className:"text-sm text-gray-400",children:"discount"}),e&&(0,b.jsx)("span",{className:"px-2 py-1 bg-red-500/20 text-red-400 text-xs font-bold rounded",children:"EXPIRED"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[(0,b.jsxs)("span",{children:["Used: ",a.usageCount,a.maxUsage&&` / ${a.maxUsage}`]}),a.expiryDate&&(0,b.jsxs)("span",{children:["Expires: ",new Date(a.expiryDate).toLocaleDateString()]})]}),a.maxUsage&&(0,b.jsx)("div",{className:"mt-2 h-2 bg-gray-800 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-gradient-to-r from-purple-500 to-cyan-500",style:{width:`${Math.min(f,100)}%`}})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>c(a.id),className:`p-2 rounded-lg transition-all ${a.isActive?"bg-green-500/20 text-green-400 hover:bg-green-500/30":"bg-gray-500/20 text-gray-400 hover:bg-gray-500/30"}`,title:a.isActive?"Deactivate":"Activate",children:a.isActive?(0,b.jsx)(H,{size:20}):(0,b.jsx)(G,{size:20})}),(0,b.jsx)("button",{onClick:()=>{confirm(`Delete coupon "${a.code}"?`)&&d(a.id)},className:"p-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-all",title:"Delete",children:(0,b.jsx)(o,{size:20})})]})]})},O=({coupons:a,onCreateCoupon:d,onToggleStatus:e,onDeleteCoupon:f,adminId:g})=>{let[h,i]=(0,c.useState)(10),[j,k]=(0,c.useState)(""),[l,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),q=a.filter(a=>a.isActive);return a.filter(a=>!a.isActive),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-900/40 to-purple-800/40 border border-purple-500/30 rounded-lg p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,b.jsx)(u,{className:"text-purple-400",size:24})}),(0,b.jsx)("h3",{className:"text-3xl font-bold text-white",children:a.length}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Total Coupons"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-900/40 to-green-800/40 border border-green-500/30 rounded-lg p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,b.jsx)(H,{className:"text-green-400",size:24})}),(0,b.jsx)("h3",{className:"text-3xl font-bold text-white",children:q.length}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Active Coupons"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-cyan-900/40 to-cyan-800/40 border border-cyan-500/30 rounded-lg p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,b.jsx)(K,{className:"text-cyan-400",size:24})}),(0,b.jsx)("h3",{className:"text-3xl font-bold text-white",children:a.reduce((a,b)=>a+b.usageCount,0)}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Total Usage"})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-900/20 to-cyan-900/20 border border-purple-500/30 rounded-lg p-6",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[(0,b.jsx)(m.Plus,{size:24,className:"text-cyan-400"}),"Generate New Coupon"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-bold mb-2",children:"Discount Percentage"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("input",{type:"range",min:"1",max:"100",value:h,onChange:a=>i(parseInt(a.target.value)),className:"flex-1"}),(0,b.jsxs)("span",{className:"text-3xl font-bold text-cyan-400 w-20 text-center",children:[h,"%"]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-bold mb-2",children:"Coupon Code"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"text",value:j,readOnly:!0,placeholder:"Click generate",className:"flex-1 bg-black/40 border border-purple-500/30 rounded-lg px-4 py-2 text-white placeholder-gray-500 font-mono text-lg"}),(0,b.jsx)("button",{onClick:()=>{k((0,L.generateUniqueCouponCode)(a))},className:"bg-gradient-to-r from-purple-500 to-cyan-500 text-white px-4 py-2 rounded-lg hover:from-purple-600 hover:to-cyan-600 transition-all",children:(0,b.jsx)(I,{size:20})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-white font-bold mb-2",children:[(0,b.jsx)(J,{className:"inline mr-2",size:16}),"Expiry Date (Optional)"]}),(0,b.jsx)("input",{type:"date",value:l,onChange:a=>n(a.target.value),className:"w-full bg-black/40 border border-purple-500/30 rounded-lg px-4 py-2 text-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-white font-bold mb-2",children:[(0,b.jsx)(K,{className:"inline mr-2",size:16}),"Max Usage (Optional)"]}),(0,b.jsx)("input",{type:"number",value:o,onChange:a=>p(a.target.value),placeholder:"Unlimited",min:"1",className:"w-full bg-black/40 border border-purple-500/30 rounded-lg px-4 py-2 text-white placeholder-gray-500"})]})]}),(0,b.jsxs)(M.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{j?h<1||h>100?alert("Discount must be between 1% and 100%"):(d({code:j,discountPercent:h,expiryDate:l||void 0,isActive:!0,maxUsage:o?parseInt(o):void 0,createdBy:g,usedBy:[]}),k(""),i(10),n(""),p("")):alert("Please generate a coupon code first")},className:"mt-6 w-full bg-gradient-to-r from-purple-500 to-cyan-500 text-white font-bold py-4 px-8 rounded-lg flex items-center justify-center gap-3 hover:from-purple-600 hover:to-cyan-600 transition-all shadow-lg shadow-purple-500/50",children:[(0,b.jsx)(m.Plus,{size:20}),"Generate Coupon"]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-900/20 to-cyan-900/20 border border-purple-500/30 rounded-lg p-6",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[(0,b.jsx)(u,{size:24,className:"text-cyan-400"}),"All Coupons (",a.length,")"]}),0===a.length?(0,b.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,b.jsx)(u,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,b.jsx)("p",{children:"No coupons created yet"})]}):(0,b.jsx)("div",{className:"space-y-3",children:a.map(a=>(0,b.jsx)(N,{coupon:a,onToggleStatus:e,onDelete:f},a.id))})]})]})},P=d.motion,Q=({products:a,refreshData:d})=>{let[e,f]=(0,c.useState)(""),[g,h]=(0,c.useState)(20),[i,j]=(0,c.useState)(""),[k,m]=(0,c.useState)("23:59"),n=a.filter(a=>!a.discountEndTime),o=a.filter(a=>a.isSale&&a.discountEndTime);return(0,b.jsxs)(P.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"bg-[#121212] border border-white/5 rounded-2xl p-6",children:[(0,b.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,b.jsx)(r.Zap,{className:"text-yellow-400"})," Create Flash Sale"]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-1",children:"Select Product"}),(0,b.jsxs)("select",{value:e,onChange:a=>f(Number(a.target.value)),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none",children:[(0,b.jsx)("option",{value:"",children:"-- Choose Product --"}),n.map(a=>(0,b.jsx)("option",{value:a.id,children:a.title},a.id))]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-1",children:"Discount (%)"}),(0,b.jsx)("input",{type:"number",min:"1",max:"99",value:g,onChange:a=>h(Number(a.target.value)),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-1",children:"End Date"}),(0,b.jsx)("input",{type:"date",value:i,onChange:a=>j(a.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-1",children:"End Time"}),(0,b.jsx)("input",{type:"time",value:k,onChange:a=>m(a.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none"})]})]}),(0,b.jsx)("button",{onClick:()=>{if(!e||!i||!k)return void alert("Please fill all fields");let b=a.find(a=>a.id===Number(e));if(!b)return;let c=new Date(`${i}T${k}`).toISOString(),h=b.originalPrice||b.price,l={...b,price:h-g/100*h,originalPrice:h,discountPercentage:g,discountEndTime:c,isSale:!0};x.productService.saveProduct(l),d(),f(""),j("")},className:"w-full bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-500 hover:to-orange-500 text-white font-bold py-3 rounded-lg mt-2",children:"Launch Sale"})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-900/20 to-blue-900/20 border border-white/5 rounded-2xl p-6 flex flex-col justify-center text-center",children:[(0,b.jsx)(l,{size:48,className:"mx-auto text-cyan-400 mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Automated Timer"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:'Products added here will automatically appear in the "Flash Sale" section on the homepage with a countdown timer. When the timer expires, the discount is automatically removed.'})]})]}),(0,b.jsxs)("div",{className:"bg-[#121212] border border-white/5 rounded-2xl overflow-hidden",children:[(0,b.jsx)("div",{className:"p-6 border-b border-white/5",children:(0,b.jsx)("h3",{className:"text-lg font-bold",children:"Active Flash Sales"})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{className:"bg-white/5 text-xs uppercase text-gray-400",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-4",children:"Product"}),(0,b.jsx)("th",{className:"p-4",children:"Discount"}),(0,b.jsx)("th",{className:"p-4",children:"Price Info"}),(0,b.jsx)("th",{className:"p-4",children:"Ends In"}),(0,b.jsx)("th",{className:"p-4 text-right",children:"Action"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-white/5",children:o.length>0?o.map(a=>{let c=new Date(a.discountEndTime),e=new Date>c;return(0,b.jsxs)("tr",{className:"hover:bg-white/5",children:[(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("img",{src:a.imageUrl,alt:"",className:"w-10 h-10 rounded-md bg-gray-800 object-cover"}),(0,b.jsx)("span",{className:"font-bold text-sm",children:a.title})]})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("span",{className:"bg-red-500/20 text-red-400 px-2 py-1 rounded text-xs font-bold",children:["-",a.discountPercentage,"%"]})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex flex-col text-xs",children:[(0,b.jsxs)("span",{className:"line-through text-gray-500",children:["Rp ",a.originalPrice?.toLocaleString()]}),(0,b.jsxs)("span",{className:"text-green-400 font-bold",children:["Rp ",a.price.toLocaleString()]})]})}),(0,b.jsx)("td",{className:"p-4 text-sm text-gray-300",children:e?(0,b.jsx)("span",{className:"text-red-500 font-bold",children:"Expired"}):(0,b.jsx)("span",{children:c.toLocaleString()})}),(0,b.jsx)("td",{className:"p-4 text-right",children:(0,b.jsx)("button",{onClick:()=>{let b;return b={...a,price:a.originalPrice||a.price,originalPrice:a.originalPrice,discountPercentage:0,discountEndTime:void 0,isSale:!1},void(x.productService.saveProduct(b),d())},className:"px-3 py-1 bg-gray-800 hover:bg-gray-700 text-white rounded text-xs font-bold",children:"Stop Sale"})})]},a.id)}):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:5,className:"p-8 text-center text-gray-500",children:"No active flash sales."})})})]})})]})]})},R=({orders:a})=>{let[d,e]=(0,c.useState)("today"),f=a.filter(a=>{let b=new Date(a.date),c=new Date,e=new Date(c.getFullYear(),c.getMonth(),c.getDate()).getTime(),f=new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime();return"today"===d?f===e:"week"===d?f>=e-6048e5:"month"!==d||f>=e-2592e6}),g=f.reduce((a,b)=>a+b.totalAmount,0),h=f.length>0?g/f.length:0;return(0,b.jsxs)(P.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold",children:"Laporan Keuangan"}),(0,b.jsx)("div",{className:"bg-[#121212] border border-white/10 rounded-lg p-1 flex gap-1",children:[{id:"today",label:"Hari Ini"},{id:"week",label:"7 Hari"},{id:"month",label:"30 Hari"},{id:"all",label:"Semua"}].map(a=>(0,b.jsx)("button",{onClick:()=>e(a.id),className:`px-4 py-2 rounded-md text-xs font-bold transition-all ${d===a.id?"bg-purple-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:a.label},a.id))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"bg-[#121212] border border-white/5 p-6 rounded-2xl relative overflow-hidden group",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:(0,b.jsx)(k,{size:80})}),(0,b.jsx)("p",{className:"text-gray-400 text-xs font-bold uppercase mb-2",children:"Total Pendapatan"}),(0,b.jsxs)("h3",{className:"text-3xl font-black text-green-400 font-mono",children:["Rp ",g.toLocaleString()]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"today"===d?"Pendapatan hari ini":"all"===d?"Total seluruh waktu":`${d} terakhir`})]}),(0,b.jsxs)("div",{className:"bg-[#121212] border border-white/5 p-6 rounded-2xl relative overflow-hidden",children:[(0,b.jsx)("p",{className:"text-gray-400 text-xs font-bold uppercase mb-2",children:"Total Transaksi"}),(0,b.jsx)("h3",{className:"text-3xl font-black text-white",children:f.length}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Pesanan berhasil"})]}),(0,b.jsxs)("div",{className:"bg-[#121212] border border-white/5 p-6 rounded-2xl relative overflow-hidden",children:[(0,b.jsx)("p",{className:"text-gray-400 text-xs font-bold uppercase mb-2",children:"Rata-rata Order"}),(0,b.jsxs)("h3",{className:"text-3xl font-black text-cyan-400 font-mono",children:["Rp ",h.toLocaleString(void 0,{maximumFractionDigits:0})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Per transaksi"})]})]}),(0,b.jsxs)("div",{className:"bg-[#121212] border border-white/5 rounded-2xl overflow-hidden mt-8",children:[(0,b.jsx)("div",{className:"p-6 border-b border-white/5",children:(0,b.jsx)("h4",{className:"font-bold text-lg",children:"Riwayat Transaksi"})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{className:"bg-white/5 text-xs uppercase text-gray-400",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-4",children:"Waktu"}),(0,b.jsx)("th",{className:"p-4",children:"Order ID"}),(0,b.jsx)("th",{className:"p-4",children:"Pelanggan"}),(0,b.jsx)("th",{className:"p-4",children:"Status"}),(0,b.jsx)("th",{className:"p-4 text-right",children:"Jumlah"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-white/5",children:f.length>0?f.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,b.jsxs)("td",{className:"p-4 text-xs text-gray-400",children:[new Date(a.date).toLocaleDateString()," ",new Date(a.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),(0,b.jsx)("td",{className:"p-4 text-sm font-mono text-gray-300",children:a.id}),(0,b.jsx)("td",{className:"p-4 text-sm font-bold",children:a.shippingDetails.firstName}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("span",{className:"px-2 py-1 rounded-md bg-green-900/30 text-green-400 text-[10px] font-bold uppercase border border-green-500/20",children:a.status})}),(0,b.jsxs)("td",{className:"p-4 text-right font-mono text-green-400 font-bold",children:["+ Rp ",a.totalAmount.toLocaleString()]})]},a.id)):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:5,className:"p-8 text-center text-gray-500",children:"Tidak ada data transaksi pada periode ini."})})})]})})]})]})},S=({stats:a,orders:c})=>(0,b.jsxs)(P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsx)(V,{title:"Total Revenue",value:`Rp ${a.revenue.toLocaleString()}`,icon:k,color:"text-green-400"}),(0,b.jsx)(V,{title:"Total Orders",value:a.totalOrders,icon:h.ShoppingBag,color:"text-blue-400"}),(0,b.jsx)(V,{title:"Pending Process",value:a.pending,icon:l,color:"text-yellow-400"}),(0,b.jsx)(V,{title:"Total Products",value:a.totalProducts,icon:i.Package,color:"text-purple-400"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 bg-[#121212] border border-white/5 rounded-2xl p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold mb-6",children:"Sales Analytics (Yearly)"}),(0,b.jsx)("div",{className:"h-64 flex items-end justify-between gap-2",children:[40,65,30,80,55,90,45,70,60,85,50,95].map((a,c)=>(0,b.jsx)("div",{className:"w-full bg-white/5 rounded-t-lg hover:bg-purple-600/50 transition-colors relative group",style:{height:`${a}%`},children:(0,b.jsxs)("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[a,"%"]})},c))}),(0,b.jsxs)("div",{className:"flex justify-between mt-4 text-xs text-gray-500 font-mono",children:[(0,b.jsx)("span",{children:"JAN"}),(0,b.jsx)("span",{children:"FEB"}),(0,b.jsx)("span",{children:"MAR"}),(0,b.jsx)("span",{children:"APR"}),(0,b.jsx)("span",{children:"MAY"}),(0,b.jsx)("span",{children:"JUN"}),(0,b.jsx)("span",{children:"JUL"}),(0,b.jsx)("span",{children:"AUG"}),(0,b.jsx)("span",{children:"SEP"}),(0,b.jsx)("span",{children:"OCT"}),(0,b.jsx)("span",{children:"NOV"}),(0,b.jsx)("span",{children:"DEC"})]})]}),(0,b.jsxs)("div",{className:"bg-[#121212] border border-white/5 rounded-2xl p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Recent Activity"}),(0,b.jsx)("div",{className:"space-y-4",children:c.slice(0,5).map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-800 to-black flex items-center justify-center font-bold text-xs",children:a.shippingDetails.firstName.charAt(0)}),(0,b.jsxs)("div",{className:"flex-1 overflow-hidden",children:[(0,b.jsxs)("p",{className:"text-sm font-bold truncate",children:["New Order #",a.id]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 truncate",children:new Date(a.date).toLocaleDateString()})]}),(0,b.jsxs)("span",{className:"text-xs font-bold text-green-400",children:["+Rp ",(a.totalAmount/1e3).toFixed(0),"k"]})]},a.id))})]})]})]}),T=({orders:a,onStatusUpdate:c,onViewProof:d})=>(0,b.jsx)(P.div,{initial:{opacity:0},animate:{opacity:1},children:(0,b.jsxs)("div",{className:"bg-[#121212] border border-white/5 rounded-2xl overflow-hidden",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{className:"bg-white/5 text-xs uppercase text-gray-400",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-4 font-bold",children:"Order ID"}),(0,b.jsx)("th",{className:"p-4 font-bold",children:"Customer"}),(0,b.jsx)("th",{className:"p-4 font-bold",children:"Items"}),(0,b.jsx)("th",{className:"p-4 font-bold",children:"Total"}),(0,b.jsx)("th",{className:"p-4 font-bold",children:"Payment"}),(0,b.jsx)("th",{className:"p-4 font-bold",children:"Status"}),(0,b.jsx)("th",{className:"p-4 font-bold text-right",children:"Action"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-white/5",children:a.map(a=>{let e=(a=>{switch(a){case"pending":return"Terima Pesanan";case"confirmed":return"Mulai Kemas";case"packing":return"Kirim Pesanan";case"shipped":return"Pesanan Selesai";default:return null}})(a.status);return(0,b.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,b.jsx)("td",{className:"p-4 text-sm font-mono text-gray-300",children:a.id}),(0,b.jsxs)("td",{className:"p-4",children:[(0,b.jsxs)("div",{className:"font-bold text-sm",children:[a.shippingDetails.firstName," ",a.shippingDetails.lastName]}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:a.shippingDetails.email})]}),(0,b.jsxs)("td",{className:"p-4 text-sm text-gray-300",children:[a.items.length," items"]}),(0,b.jsxs)("td",{className:"p-4 font-mono text-cyan-400 font-bold",children:["Rp ",a.totalAmount.toLocaleString()]}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)("span",{className:`text-[10px] uppercase font-bold px-2 py-0.5 rounded w-max ${"cod"===a.paymentMethod?"bg-orange-500/20 text-orange-400":"bg-blue-500/20 text-blue-400"}`,children:"cod"===a.paymentMethod?"COD":"Bank Transfer"}),"bank"===a.paymentMethod&&a.paymentProofUrl&&(0,b.jsxs)("button",{onClick:()=>d(a.paymentProofUrl),className:"text-xs flex items-center gap-1 text-gray-400 hover:text-white transition-colors",children:[(0,b.jsx)(s,{size:12})," Check Proof"]})]})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${"delivered"===a.status?"bg-green-500/20 text-green-400":"shipped"===a.status?"bg-blue-500/20 text-blue-400":"packing"===a.status?"bg-orange-500/20 text-orange-400":"confirmed"===a.status?"bg-indigo-500/20 text-indigo-400":"bg-yellow-500/20 text-yellow-400"}`,children:a.status})}),(0,b.jsx)("td",{className:"p-4 text-right",children:e?(0,b.jsx)("button",{onClick:()=>c(a.id,a.status),className:`px-4 py-2 rounded-lg text-xs font-bold transition-colors shadow-lg ${"pending"===a.status?"bg-green-600 hover:bg-green-500 text-white":"confirmed"===a.status?"bg-indigo-600 hover:bg-indigo-500 text-white":"packing"===a.status?"bg-blue-600 hover:bg-blue-500 text-white":"shipped"===a.status?"bg-gray-700 hover:bg-gray-600 text-white":""}`,children:e}):(0,b.jsx)("span",{className:"text-xs text-gray-500 font-bold",children:"Completed"})})]},a.id)})})]})}),0===a.length&&(0,b.jsx)("div",{className:"p-8 text-center text-gray-500",children:"No orders found."})]})}),U=({products:a,onDelete:c,onEdit:d,onAdd:e})=>(0,b.jsxs)(P.div,{initial:{opacity:0},animate:{opacity:1},children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold",children:"Inventory Management"}),(0,b.jsxs)("button",{onClick:e,className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-500 px-4 py-2 rounded-lg font-bold text-sm transition-colors",children:[(0,b.jsx)(m.Plus,{size:16})," Add Product"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:a.map(a=>(0,b.jsxs)("div",{className:"bg-[#121212] border border-white/5 rounded-xl overflow-hidden group",children:[(0,b.jsxs)("div",{className:"aspect-square bg-gray-900 relative",children:[a.imageUrl?(0,b.jsx)("img",{src:a.imageUrl,alt:a.title,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-700 text-xs",children:"No Image"}),(0,b.jsxs)("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)("button",{onClick:()=>d(a),className:"p-1.5 bg-white text-black rounded-full hover:scale-110 transition-transform",children:(0,b.jsx)(n,{size:14})}),(0,b.jsx)("button",{onClick:()=>c(a.id),className:"p-1.5 bg-red-500 text-white rounded-full hover:scale-110 transition-transform",children:(0,b.jsx)(o,{size:14})})]})]}),(0,b.jsxs)("div",{className:"p-3",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 uppercase font-bold mb-1",children:a.category}),(0,b.jsx)("h4",{className:"font-bold text-sm truncate mb-1",children:a.title}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{className:"flex flex-col",children:[a.isSale&&(0,b.jsxs)("span",{className:"text-[10px] text-gray-500 line-through",children:["Rp ",a.originalPrice?.toLocaleString()]}),(0,b.jsxs)("span",{className:`font-mono text-sm ${a.isSale?"text-green-400 font-bold":"text-cyan-400"}`,children:["Rp ",a.price.toLocaleString()]})]}),a.isSale&&(0,b.jsxs)("span",{className:"text-[10px] bg-red-500 px-1.5 rounded text-white font-bold",children:["-",a.discountPercentage,"%"]})]})]})]},a.id))})]}),V=({title:a,value:c,icon:d,color:e})=>(0,b.jsxs)("div",{className:"bg-[#121212] border border-white/5 p-6 rounded-2xl flex items-center justify-between group hover:border-white/10 transition-colors",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider mb-2",children:a}),(0,b.jsx)("h3",{className:"text-2xl font-black font-mono text-white",children:c})]}),(0,b.jsx)("div",{className:`w-12 h-12 rounded-xl bg-white/5 flex items-center justify-center ${e} group-hover:scale-110 transition-transform`,children:(0,b.jsx)(d,{size:24})})]}),W=({user:a,onLogout:d,onNavigate:f,feedbacks:l=[],conversations:m=[],coupons:n=[],onUpdateFeedbackStatus:o=()=>{},onSendMessage:y=()=>{},onCreateCoupon:z=()=>{},onToggleCouponStatus:A=()=>{},onDeleteCoupon:B=()=>{}})=>{let[C,D]=(0,c.useState)("overview"),[E,G]=(0,c.useState)([]),[H,I]=(0,c.useState)([]),[J,K]=(0,c.useState)(!0),[L,M]=(0,c.useState)({revenue:0,totalOrders:0,pending:0,totalProducts:0}),[N,V]=(0,c.useState)(!1),[W,X]=(0,c.useState)(null),[Y,Z]=(0,c.useState)(!1),[$,_]=(0,c.useState)(""),[aa,ab]=(0,c.useState)(""),[ac,ad]=(0,c.useState)(!1),[ae,af]=(0,c.useState)(0),[ag,ah]=(0,c.useState)(0),[ai,aj]=(0,c.useState)("upload"),[ak,al]=(0,c.useState)("");(0,c.useEffect)(()=>{am()},[]);let am=async()=>{K(!0);try{let a=await w.authService.getAllOrdersAsync(),b=await x.productService.getAllProductsAsync();G(a.sort((a,b)=>new Date(b.date).getTime()-new Date(a.date).getTime())),I(b);let c=a.reduce((a,b)=>a+b.totalAmount,0),d=a.filter(a=>"pending"===a.status||"confirmed"===a.status||"packing"===a.status).length;M({revenue:c,totalOrders:a.length,pending:d,totalProducts:b.length})}catch(a){console.error("Failed to load dashboard data",a)}finally{K(!1)}},an=async(a,b)=>{let c=null;switch(b){case"pending":c="confirmed";break;case"confirmed":c="packing";break;case"packing":c="shipped";break;case"shipped":c="delivered";break;default:c=null}c&&(await w.authService.updateOrderStatus(a,c),am())},ao=a=>{a?(X(a),ab(a.imageUrl),af(a.originalPrice||a.price),ad(!!a.isSale),ah(a.discountPercentage||0),a.imageUrl&&!a.imageUrl.startsWith("data:")?(aj("url"),al(a.imageUrl)):(aj("upload"),al(""))):(X(null),ab(""),af(0),ad(!1),ah(0),aj("upload"),al("")),V(!0)},ap=async a=>{a.preventDefault();let b=new FormData(a.currentTarget),c=Number(b.get("originalPrice")),d=c,e=0;ac&&(d=c-(e=Number(b.get("discountPercentage")))/100*c);let f="url"===ai?ak:aa,g={id:W?W.id:0,title:b.get("title"),price:d,originalPrice:c,discountPercentage:ac?e:0,category:b.get("category"),imageUrl:f,description:b.get("description")||"",isSale:ac,isNew:"on"===b.get("isNew"),discountEndTime:W?.discountEndTime};(await x.productService.saveProduct(g)).success?(V(!1),X(null),await am()):alert("Failed to save product to database. Please try again.")};return(0,b.jsxs)("div",{className:"min-h-screen bg-[#050505] text-white font-sans flex overflow-hidden",children:[(0,b.jsxs)(P.aside,{initial:{x:-100},animate:{x:0},className:"w-64 bg-[#0a0a0a] border-r border-white/5 flex flex-col z-20",children:[(0,b.jsxs)("div",{className:"h-20 flex items-center gap-3 px-6 border-b border-white/5",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-cyan-500 to-purple-600 rounded-lg flex items-center justify-center text-black font-bold",children:"A"}),(0,b.jsx)("span",{className:"text-xl font-bold brand-font tracking-wider",children:"ADMIN"})]}),(0,b.jsx)("nav",{className:"flex-1 py-6 px-3 space-y-1",children:[{id:"overview",icon:g,label:"Overview"},{id:"finance",icon:k,label:"Keuangan"},{id:"orders",icon:h.ShoppingBag,label:"Orders"},{id:"products",icon:i.Package,label:"Products"},{id:"flash-sale",icon:r.Zap,label:"Flash Sale"},{id:"coupons",icon:u,label:"Coupons"},{id:"feedback-chat",icon:t.MessageSquare,label:"Feedback & Chat"}].map(a=>(0,b.jsxs)("button",{onClick:()=>D(a.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all font-medium text-sm ${C===a.id?"bg-purple-600/20 text-purple-400 border border-purple-500/20 shadow-[0_0_15px_rgba(147,51,234,0.15)]":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[(0,b.jsx)(a.icon,{size:18}),a.label]},a.id))}),(0,b.jsxs)("div",{className:"p-4 border-t border-white/5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("img",{src:a.avatar,alt:"Admin",className:"w-10 h-10 rounded-full bg-gray-800"}),(0,b.jsxs)("div",{className:"overflow-hidden",children:[(0,b.jsx)("p",{className:"text-sm font-bold text-white truncate",children:"System Admin"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 truncate",children:"admin@farrtz.com"})]})]}),(0,b.jsxs)("button",{onClick:d,className:"w-full py-2 flex items-center justify-center gap-2 text-red-400 bg-red-500/10 rounded-lg hover:bg-red-500/20 transition-colors text-xs font-bold uppercase tracking-wider",children:[(0,b.jsx)(j.LogOut,{size:14})," Logout"]})]})]}),(0,b.jsxs)("main",{className:"flex-1 flex flex-col relative overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-purple-900/10 rounded-full blur-[120px] pointer-events-none"}),(0,b.jsx)("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-cyan-900/10 rounded-full blur-[120px] pointer-events-none"}),(0,b.jsxs)("header",{className:"h-20 border-b border-white/5 flex items-center justify-between px-8 bg-[#050505]/80 backdrop-blur-md sticky top-0 z-10",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold brand-font capitalize",children:C.replace("-"," ")}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-full border border-white/5 text-xs text-green-400",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"System Online"]}),(0,b.jsx)("button",{onClick:()=>f("home"),className:"text-sm text-gray-400 hover:text-white transition-colors",children:"View Storefront"})]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:(0,b.jsxs)(e.AnimatePresence,{mode:"wait",children:["overview"===C&&(0,b.jsx)(S,{stats:L,orders:E}),"finance"===C&&(0,b.jsx)(R,{orders:E}),"orders"===C&&(0,b.jsx)(T,{orders:E,onStatusUpdate:an,onViewProof:a=>{_(a),Z(!0)}}),"products"===C&&(0,b.jsx)(U,{products:H,onDelete:a=>{window.confirm("Are you sure you want to delete this product?")&&(x.productService.deleteProduct(a),am())},onEdit:ao,onAdd:()=>ao()}),"flash-sale"===C&&(0,b.jsx)(Q,{products:H,refreshData:am}),"coupons"===C&&(0,b.jsx)(O,{coupons:n,onCreateCoupon:z,onToggleStatus:A,onDeleteCoupon:B,adminId:a.id}),"feedback-chat"===C&&(0,b.jsx)(F,{feedbacks:l,conversations:m,onUpdateFeedbackStatus:o,onSendMessage:y})]})})]}),(0,b.jsx)(e.AnimatePresence,{children:Y&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm p-4",children:(0,b.jsxs)(P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative max-w-2xl w-full",children:[(0,b.jsx)("button",{onClick:()=>Z(!1),className:"absolute -top-12 right-0 text-white hover:text-gray-300",children:(0,b.jsx)(p.X,{size:32})}),(0,b.jsx)("img",{src:$,alt:"Payment Proof",className:"w-full h-auto rounded-lg shadow-2xl border border-white/20"})]})})}),(0,b.jsx)(e.AnimatePresence,{children:N&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 overflow-y-auto",children:(0,b.jsxs)(P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-[#121212] border border-white/10 rounded-2xl w-full max-w-lg p-6 shadow-2xl my-auto",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold",children:W?"Edit Product":"Add New Product"}),(0,b.jsx)("button",{onClick:()=>V(!1),className:"p-2 hover:bg-white/10 rounded-full",children:(0,b.jsx)(p.X,{size:20})})]}),(0,b.jsxs)("form",{onSubmit:ap,className:"space-y-4 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("div",{className:"flex justify-center gap-2 mb-4",children:[(0,b.jsxs)("button",{type:"button",onClick:()=>aj("upload"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${"upload"===ai?"bg-purple-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10 hover:text-white"}`,children:[(0,b.jsx)(q.Upload,{size:16}),"Upload File"]}),(0,b.jsxs)("button",{type:"button",onClick:()=>aj("url"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${"url"===ai?"bg-purple-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10 hover:text-white"}`,children:[(0,b.jsx)(v,{size:16}),"Image URL"]})]}),"upload"===ai&&(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsxs)("label",{className:"cursor-pointer group relative",children:[(0,b.jsx)("div",{className:"w-32 h-32 rounded-xl bg-gray-800 border-2 border-dashed border-gray-600 flex items-center justify-center overflow-hidden",children:aa?(0,b.jsx)("img",{src:aa,alt:"Preview",className:"w-full h-full object-cover"}):(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(q.Upload,{className:"mx-auto text-gray-400 mb-1",size:24}),(0,b.jsx)("span",{className:"text-[10px] text-gray-400",children:"Upload Image"})]})}),(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-xl",children:(0,b.jsx)("span",{className:"text-xs font-bold",children:"Change"})}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>{let b=a.target.files?.[0];if(b){let a=new FileReader;a.onloadend=()=>{ab(a.result)},a.readAsDataURL(b)}},className:"hidden"})]})}),"url"===ai&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-1",children:"Image URL"}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(v,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,b.jsx)("input",{type:"url",value:ak,onChange:a=>al(a.target.value),placeholder:"https://example.com/image.jpg",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 pl-10 text-white focus:border-purple-500 outline-none text-sm"})]})})]}),ak&&(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsxs)("div",{className:"w-32 h-32 rounded-xl bg-gray-800 border-2 border-gray-600 flex items-center justify-center overflow-hidden",children:[(0,b.jsx)("img",{src:ak,alt:"URL Preview",className:"w-full h-full object-cover",onError:a=>{a.target.style.display="none",a.target.nextElementSibling?.classList.remove("hidden")}}),(0,b.jsxs)("div",{className:"hidden text-center p-2",children:[(0,b.jsx)(s,{className:"mx-auto text-red-400 mb-1",size:24}),(0,b.jsx)("span",{className:"text-[10px] text-red-400",children:"Invalid URL"})]})]})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-1",children:"Product Title"}),(0,b.jsx)("input",{name:"title",defaultValue:W?.title,required:!0,className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white focus:border-purple-500 outline-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-1",children:"Product Description"}),(0,b.jsx)("textarea",{name:"description",defaultValue:W?.description||"",rows:4,placeholder:"Enter product description, features, specifications...",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white focus:border-purple-500 outline-none resize-none"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-1",children:"Category"}),(0,b.jsxs)("select",{name:"category",defaultValue:W?.category||"T-shirt",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white focus:border-purple-500 outline-none",children:[(0,b.jsx)("option",{value:"T-shirt",children:"T-shirt"}),(0,b.jsx)("option",{value:"Hoodies",children:"Hoodies"}),(0,b.jsx)("option",{value:"Hats",children:"Hats"}),(0,b.jsx)("option",{value:"Bags",children:"Bags"}),(0,b.jsx)("option",{value:"Tank Tops",children:"Tank Tops"}),(0,b.jsx)("option",{value:"Shorts",children:"Shorts"}),(0,b.jsx)("option",{value:"Kids",children:"Kids"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-1",children:"Base Price (Rp)"}),(0,b.jsx)("input",{name:"originalPrice",type:"number",value:ae,onChange:a=>af(Number(a.target.value)),required:!0,className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white focus:border-purple-500 outline-none"})]})]}),!W?.discountEndTime&&(0,b.jsxs)("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer mb-3",children:[(0,b.jsx)("input",{name:"isSale",type:"checkbox",checked:ac,onChange:a=>ad(a.target.checked),className:"w-4 h-4 accent-purple-500"}),(0,b.jsx)("span",{className:"text-sm font-bold text-white",children:"Activate Discount"})]}),ac&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-1",children:"Discount Percentage (%)"}),(0,b.jsx)("input",{name:"discountPercentage",type:"number",min:"1",max:"99",value:ag,onChange:a=>ah(Number(a.target.value)),className:"w-full bg-black/30 border border-white/10 rounded-lg p-3 text-white focus:border-purple-500 outline-none"})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center text-sm p-2 bg-green-500/10 rounded border border-green-500/20",children:[(0,b.jsx)("span",{className:"text-gray-300",children:"Final Price:"}),(0,b.jsxs)("span",{className:"font-bold text-green-400 font-mono",children:["Rp. ",(ae-ag/100*ae).toLocaleString()]})]})]})]}),(0,b.jsx)("div",{className:"pt-2",children:(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{name:"isNew",type:"checkbox",defaultChecked:W?.isNew,className:"w-4 h-4 accent-purple-500"}),(0,b.jsx)("span",{className:"text-sm",children:"Mark as New Arrival"})]})}),(0,b.jsx)("button",{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 rounded-lg mt-4 transition-colors",children:W?"Update Product":"Create Product"})]})]})})})]})},X=d.motion,Y=({onLoginSuccess:a})=>{let[d,e]=(0,c.useState)(""),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(!1),l=async b=>{b.preventDefault(),i(""),k(!0);try{let b=await w.authService.adminLogin(d,f);b.success&&b.user?a(b.user):i(b.message||"Invalid credentials")}catch(a){i(a.message||"Invalid credentials or unauthorized access")}finally{k(!1)}};return(0,b.jsxs)("div",{className:"min-h-screen w-full flex bg-gradient-to-br from-red-950 via-purple-950 to-gray-900",children:[(0,b.jsxs)("div",{className:"hidden lg:block w-1/2 relative overflow-hidden bg-black",children:[(0,b.jsx)(X.img,{initial:{scale:1.1,opacity:0},animate:{scale:1,opacity:1},transition:{duration:1.5},src:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=2070&auto=format&fit=crop",alt:"Admin Dashboard",className:"object-cover w-full h-full opacity-70"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-purple-950"}),(0,b.jsxs)("div",{className:"absolute bottom-10 left-10 text-white z-10",children:[(0,b.jsx)("div",{className:"h-1 w-20 bg-red-500 mb-4"}),(0,b.jsx)("h2",{className:"text-4xl font-bold brand-font mb-2",children:"ADMIN ACCESS"}),(0,b.jsx)("p",{className:"tech-font text-gray-300",children:"Management & Control Center"})]})]}),(0,b.jsxs)("div",{className:"w-full lg:w-1/2 flex flex-col justify-center items-center p-8 lg:p-16 relative",children:[(0,b.jsxs)(X.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"w-full max-w-md space-y-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-8",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-red-600 to-purple-700 rounded-lg flex items-center justify-center text-white font-bold",children:(0,b.jsx)("span",{role:"img","aria-label":"shield",className:"text-sm",children:""})}),(0,b.jsx)("span",{className:"text-xl font-black brand-font text-white italic",children:"FARRTZ ADMIN"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-white brand-font tracking-wide",children:"Admin Login"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-gray-400 tech-font",children:"Enter admin credentials to access dashboard."})]}),(0,b.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:l,children:[h&&(0,b.jsx)("div",{className:"bg-red-500/20 border border-red-500 text-red-200 text-sm px-4 py-2 rounded",children:h}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"admin-email",className:"block text-xs font-medium text-gray-300 uppercase tracking-wider tech-font mb-1",children:"Admin Email *"}),(0,b.jsx)("input",{id:"admin-email",name:"email",type:"email",required:!0,value:d,onChange:a=>e(a.target.value),className:"appearance-none block w-full px-4 py-3 bg-white border border-red-700 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all",placeholder:"admin@gmail.com"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"admin-password",className:"block text-xs font-medium text-gray-300 uppercase tracking-wider tech-font mb-1",children:"Admin Password *"}),(0,b.jsx)("input",{id:"admin-password",name:"password",type:"password",required:!0,value:f,onChange:a=>g(a.target.value),className:"appearance-none block w-full px-4 py-3 bg-white border border-red-700 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all",placeholder:""})]})]}),(0,b.jsx)("button",{type:"submit",disabled:j,className:`group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-lg text-white bg-gradient-to-r from-red-600 to-purple-700 hover:from-red-700 hover:to-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all uppercase tracking-widest shadow-[0_0_15px_rgba(220,38,38,0.5)] ${j?"opacity-70 cursor-wait":""}`,children:j?"Authenticating...":"Access Dashboard"}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 tech-font",children:" Secure admin-only access"}),(0,b.jsx)("p",{className:"text-xs text-gray-600 tech-font mt-2",children:"Default: admin@gmail.com / admin123"})]})]})]}),(0,b.jsx)("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-80 h-80 rounded-full bg-red-600/20 blur-[100px] pointer-events-none"}),(0,b.jsx)("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 w-80 h-80 rounded-full bg-purple-600/10 blur-[100px] pointer-events-none"})]})]})};var Z=a.i(40116);function $(){let[a,d]=(0,c.useState)(null),[e,f]=(0,c.useState)(!0),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)([]),m=async()=>{let[a,b,c]=await Promise.all([Z.feedbackService.getAllFeedback(),Z.messagesService.getAllMessages(),Z.couponsService.getAllCoupons()]);h(a||[]),j(b||[]),l(c||[])};(0,c.useEffect)(()=>{let a=w.authService.getCurrentUser();a?.isAdmin&&d(a),m(),f(!1)},[]);let n=async()=>{await w.authService.logout(),d(null)},o=async(a,b)=>{try{await Z.feedbackService.updateFeedbackStatus(a,b)&&h(c=>c.map(c=>c.id===a?{...c,status:b}:c))}catch(a){console.error(a)}},p=async(a,b)=>{try{if(await Z.messagesService.sendMessage({userId:a,message:b,sender:"admin"})){let a=await Z.messagesService.getAllMessages();a&&j(a)}}catch(a){console.error(a)}},q=async a=>{try{let b=await Z.couponsService.createCoupon(a);b&&(l(a=>[b,...a]),console.log(" Coupon created via API:",b))}catch(a){console.error(a)}},r=async a=>{try{await Z.couponsService.toggleCouponStatus(a)&&l(b=>b.map(b=>b.id===a?{...b,isActive:!b.isActive}:b))}catch(a){console.error(a)}},s=async a=>{try{confirm("Delete this coupon?")&&(await Z.couponsService.deleteCoupon(a),l(b=>b.filter(b=>b.id!==a)))}catch(a){console.error(a)}};return e?(0,b.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center text-red-400 brand-font",children:"LOADING ADMIN PANEL..."}):(0,b.jsx)(b.Fragment,{children:a?(0,b.jsx)(W,{user:a,onNavigate:()=>{},onLogout:n,feedbacks:g,conversations:i,coupons:k,onUpdateFeedbackStatus:o,onSendMessage:p,onCreateCoupon:q,onToggleCouponStatus:r,onDeleteCoupon:s}):(0,b.jsx)(Y,{onLoginSuccess:a=>{d(a),m()}})})}a.s(["default",()=>$],64377)}];

//# sourceMappingURL=components_AdminSPA_tsx_ee9ebd2e._.js.map