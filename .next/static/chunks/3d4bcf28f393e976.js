(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,19475,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(46932),l=e.i(88653),r=e.i(75254);let i=(0,r.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var n=e.i(50965),d=e.i(88844),c=e.i(92270);let o=(0,r.default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),x=(0,r.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var h=e.i(7233);let m=(0,r.default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),p=(0,r.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var u=e.i(37727),g=e.i(69074),b=e.i(39312);let j=(0,r.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var f=e.i(86311);let y=(0,r.default)("ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),N=(0,r.default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var v=e.i(65615),w=e.i(51822),k=e.i(70273),S=e.i(63209),C=e.i(94983),P=e.i(14764);let A=a.motion,D=({feedback:e,onUpdateStatus:s})=>(0,t.jsxs)(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-cyan-900/20 to-blue-900/20 border border-cyan-500/30 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h4",{className:"text-white font-bold",children:e.userName}),(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-cyan-500/20 text-cyan-400",children:"Feedback"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:e.userEmail}),(0,t.jsx)("div",{className:"flex gap-1 mt-2",children:Array.from({length:5}).map((s,a)=>(0,t.jsx)(k.Star,{size:16,className:a<e.rating?"fill-yellow-400 text-yellow-400":"text-gray-600"},a))})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)("select",{value:e.status,onChange:t=>s(e.id,t.target.value),className:"bg-black/40 border border-purple-500/30 text-white rounded px-3 py-1 text-sm",children:[(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"reviewed",children:"Reviewed"}),(0,t.jsx)("option",{value:"resolved",children:"Resolved"})]})})]}),(0,t.jsx)("p",{className:"text-white mb-3",children:e.message}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.date).toLocaleString()})]}),z=({complaint:e,onUpdateStatus:s,onChatWithUser:a})=>(0,t.jsxs)(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-orange-900/20 to-red-900/20 border border-orange-500/30 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h4",{className:"text-white font-bold",children:e.userName}),(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-orange-500/20 text-orange-400",children:"Complaint"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:e.userEmail}),(0,t.jsx)("div",{className:"flex gap-1 mt-2",children:Array.from({length:5}).map((s,a)=>(0,t.jsx)(k.Star,{size:16,className:a<e.rating?"fill-yellow-400 text-yellow-400":"text-gray-600"},a))})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("select",{value:e.status,onChange:t=>s(e.id,t.target.value),className:"bg-black/40 border border-orange-500/30 text-white rounded px-3 py-1 text-sm",children:[(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"reviewed",children:"Reviewed"}),(0,t.jsx)("option",{value:"resolved",children:"Resolved"})]}),(0,t.jsxs)("button",{onClick:a,className:"bg-gradient-to-r from-purple-500 to-cyan-500 text-white px-4 py-1 rounded text-sm font-bold flex items-center gap-2 hover:from-purple-600 hover:to-cyan-600 transition-all",children:[(0,t.jsx)(C.MessageCircle,{size:16}),"Chat"]})]})]}),(0,t.jsx)("p",{className:"text-white mb-3",children:e.message}),e.photoUrl&&(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-orange-400 mb-2",children:[(0,t.jsx)(j,{size:16}),(0,t.jsx)("span",{className:"text-sm font-bold",children:"Attached Photo:"})]}),(0,t.jsx)("img",{src:e.photoUrl,alt:"Complaint photo",className:"max-w-md max-h-64 rounded-lg border-2 border-orange-500/30 cursor-pointer hover:border-orange-500/60 transition-colors",onClick:()=>window.open(e.photoUrl,"_blank")})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.date).toLocaleString()})]}),M=({feedbacks:e,conversations:a,onUpdateFeedbackStatus:l,onSendMessage:r})=>{let[i,n]=(0,s.useState)("feedback"),[d,c]=(0,s.useState)(null),[o,x]=(0,s.useState)(""),h=e.filter(e=>"feedback"===e.type),m=e.filter(e=>"complaint"===e.type),p=e=>{let t={5:0,4:0,3:0,2:0,1:0};return e.forEach(e=>{t[e.rating]++}),t},u=e=>{o.trim()&&(r(e,o.trim()),x(""))},g=a.find(e=>e.userId===d);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br  from-cyan-900/40 to-cyan-800/40 border border-cyan-500/30 rounded-lg p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,t.jsx)(f.MessageSquare,{className:"text-cyan-400",size:24})}),(0,t.jsx)("h3",{className:"text-3xl font-bold text-white",children:h.length}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Total Feedbacks"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-orange-900/40 to-orange-800/40 border border-orange-500/30 rounded-lg p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,t.jsx)(S.AlertCircle,{className:"text-orange-400",size:24})}),(0,t.jsx)("h3",{className:"text-3xl font-bold text-white",children:m.length}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Total Complaints"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-900/40 to-purple-800/40 border border-purple-500/30 rounded-lg p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,t.jsx)(k.Star,{className:"text-yellow-400",size:24})}),(0,t.jsx)("h3",{className:"text-3xl font-bold text-white",children:0===e.length?0:(e.reduce((e,t)=>e+t.rating,0)/e.length).toFixed(1)}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Average Rating"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-900/40 to-green-800/40 border border-green-500/30 rounded-lg p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,t.jsx)(C.MessageCircle,{className:"text-green-400",size:24})}),(0,t.jsx)("h3",{className:"text-3xl font-bold text-white",children:a.length}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Active Chats"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 border-b border-purple-500/30",children:[(0,t.jsxs)("button",{onClick:()=>n("feedback"),className:`px-6 py-3 font-bold transition-all ${"feedback"===i?"text-cyan-400 border-b-2 border-cyan-400":"text-gray-400 hover:text-white"}`,children:[(0,t.jsx)(f.MessageSquare,{className:"inline mr-2",size:18}),"Feedbacks (",h.length,")"]}),(0,t.jsxs)("button",{onClick:()=>n("complaint"),className:`px-6 py-3 font-bold transition-all relative ${"complaint"===i?"text-orange-400 border-b-2 border-orange-400":"text-gray-400 hover:text-white"}`,children:[(0,t.jsx)(S.AlertCircle,{className:"inline mr-2",size:18}),"Complaints (",m.length,")",m.filter(e=>"pending"===e.status).length>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-xs flex items-center justify-center text-white",children:m.filter(e=>"pending"===e.status).length})]}),(0,t.jsxs)("button",{onClick:()=>n("chat"),className:`px-6 py-3 font-bold transition-all relative ${"chat"===i?"text-cyan-400 border-b-2 border-cyan-400":"text-gray-400 hover:text-white"}`,children:[(0,t.jsx)(C.MessageCircle,{className:"inline mr-2",size:18}),"User Chats",a.filter(e=>e.unreadCount>0).length>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-xs flex items-center justify-center text-white",children:a.filter(e=>e.unreadCount>0).length})]})]}),"feedback"===i&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-900/20 to-cyan-900/20 border border-purple-500/30 rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Feedback Rating Distribution"}),Object.entries(p(h)).reverse().map(([e,s])=>{let a=h.length>0?s/h.length*100:0;return(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 w-20",children:[(0,t.jsx)("span",{className:"text-white font-bold",children:e}),(0,t.jsx)(k.Star,{size:16,className:"fill-yellow-400 text-yellow-400"})]}),(0,t.jsx)("div",{className:"flex-1 h-3 bg-gray-800 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-cyan-500 to-blue-500",style:{width:`${a}%`}})}),(0,t.jsx)("span",{className:"text-gray-400 w-16 text-right",children:s})]},e)})]}),(0,t.jsx)("div",{className:"space-y-4",children:0===h.length?(0,t.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,t.jsx)(f.MessageSquare,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"No feedbacks yet"})]}):h.map(e=>(0,t.jsx)(D,{feedback:e,onUpdateStatus:l},e.id))})]}),"complaint"===i&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-orange-900/20 to-red-900/20 border border-orange-500/30 rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Complaint Rating Distribution"}),Object.entries(p(m)).reverse().map(([e,s])=>{let a=m.length>0?s/m.length*100:0;return(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 w-20",children:[(0,t.jsx)("span",{className:"text-white font-bold",children:e}),(0,t.jsx)(k.Star,{size:16,className:"fill-yellow-400 text-yellow-400"})]}),(0,t.jsx)("div",{className:"flex-1 h-3 bg-gray-800 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-orange-500 to-red-500",style:{width:`${a}%`}})}),(0,t.jsx)("span",{className:"text-gray-400 w-16 text-right",children:s})]},e)})]}),(0,t.jsx)("div",{className:"space-y-4",children:0===m.length?(0,t.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,t.jsx)(S.AlertCircle,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"No complaints yet"})]}):m.map(e=>(0,t.jsx)(z,{complaint:e,onUpdateStatus:l,onChatWithUser:()=>{n("chat"),c(e.userId)}},e.id))})]}),"chat"===i&&(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 h-[600px]",children:[(0,t.jsxs)("div",{className:"col-span-1 bg-gradient-to-br from-purple-900/20 to-cyan-900/20 border border-purple-500/30 rounded-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"p-4 border-b border-purple-500/30",children:(0,t.jsx)("h3",{className:"text-white font-bold",children:"Conversations"})}),(0,t.jsx)("div",{className:"overflow-y-auto h-[calc(100%-60px)]",children:0===a.length?(0,t.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,t.jsx)(C.MessageCircle,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{className:"text-sm",children:"No conversations yet"})]}):a.map(e=>(0,t.jsxs)("button",{onClick:()=>c(e.userId),className:`w-full p-4 border-b border-purple-500/20 hover:bg-white/5 transition-colors text-left ${d===e.userId?"bg-white/10":""}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("h4",{className:"text-white font-bold text-sm",children:e.userName}),e.unreadCount>0&&(0,t.jsx)("span",{className:"w-5 h-5 bg-red-500 rounded-full text-xs flex items-center justify-center text-white",children:e.unreadCount})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400 truncate",children:e.messages[e.messages.length-1]?.message||"No messages"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.lastMessageTime).toLocaleTimeString()})]},e.userId))})]}),(0,t.jsx)("div",{className:"col-span-2 bg-gradient-to-br from-purple-900/20 to-cyan-900/20 border border-purple-500/30 rounded-lg flex flex-col overflow-hidden",children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"p-4 border-b border-purple-500/30",children:[(0,t.jsx)("h3",{className:"text-white font-bold",children:g.userName}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:g.userEmail})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:g.messages.map(e=>(0,t.jsx)("div",{className:`flex ${"admin"===e.sender?"justify-end":"justify-start"}`,children:(0,t.jsxs)("div",{className:`max-w-[75%] rounded-lg p-3 ${"admin"===e.sender?"bg-gradient-to-br from-purple-500 to-cyan-500 text-white":"bg-white/10 text-white border border-purple-500/30"}`,children:[(0,t.jsx)("p",{className:"text-sm break-words",children:e.message}),(0,t.jsx)("p",{className:"text-xs opacity-70 mt-1",children:new Date(e.timestamp).toLocaleTimeString()})]})},e.id))}),(0,t.jsx)("div",{className:"p-4 border-t border-purple-500/30",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:o,onChange:e=>x(e.target.value),onKeyPress:e=>"Enter"===e.key&&u(g.userId),placeholder:"Type a reply...",className:"flex-1 bg-black/40 border border-purple-500/30 rounded-lg px-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500"}),(0,t.jsx)("button",{onClick:()=>u(g.userId),disabled:!o.trim(),className:"bg-gradient-to-r from-purple-500 to-cyan-500 text-white px-6 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:(0,t.jsx)(P.Send,{size:20})})]})})]}):(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(C.MessageCircle,{size:64,className:"mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"Select a conversation to start chatting"})]})})})]})]})},T=(0,r.default)("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),U=(0,r.default)("toggle-right",[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),L=(0,r.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),R=(0,r.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),E=(0,r.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var I=e.i(548);let F=a.motion,$=({coupon:e,onToggleStatus:s,onDelete:a})=>{let l=e.expiryDate&&new Date(e.expiryDate)<new Date,r=e.maxUsage?e.usageCount/e.maxUsage*100:0;return(0,t.jsxs)(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`bg-gradient-to-br ${e.isActive?"from-green-900/20 to-cyan-900/20 border-green-500/30":"from-gray-900/20 to-gray-800/20 border-gray-500/30"} border rounded-lg p-4 flex items-center gap-4`,children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"bg-black/40 border-2 border-purple-500/50 rounded-lg px-4 py-2",children:(0,t.jsx)("p",{className:"text-2xl font-mono font-bold text-cyan-400",children:e.code})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,t.jsxs)("span",{className:"text-3xl font-bold text-white",children:[e.discountPercent,"%"]}),(0,t.jsx)("span",{className:"text-sm text-gray-400",children:"discount"}),l&&(0,t.jsx)("span",{className:"px-2 py-1 bg-red-500/20 text-red-400 text-xs font-bold rounded",children:"EXPIRED"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[(0,t.jsxs)("span",{children:["Used: ",e.usageCount,e.maxUsage&&` / ${e.maxUsage}`]}),e.expiryDate&&(0,t.jsxs)("span",{children:["Expires: ",new Date(e.expiryDate).toLocaleDateString()]})]}),e.maxUsage&&(0,t.jsx)("div",{className:"mt-2 h-2 bg-gray-800 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-purple-500 to-cyan-500",style:{width:`${Math.min(r,100)}%`}})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>s(e.id),className:`p-2 rounded-lg transition-all ${e.isActive?"bg-green-500/20 text-green-400 hover:bg-green-500/30":"bg-gray-500/20 text-gray-400 hover:bg-gray-500/30"}`,title:e.isActive?"Deactivate":"Activate",children:e.isActive?(0,t.jsx)(U,{size:20}):(0,t.jsx)(T,{size:20})}),(0,t.jsx)("button",{onClick:()=>{confirm(`Delete coupon "${e.code}"?`)&&a(e.id)},className:"p-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-all",title:"Delete",children:(0,t.jsx)(p,{size:20})})]})]})},O=({coupons:e,onCreateCoupon:a,onToggleStatus:l,onDeleteCoupon:r,adminId:i})=>{let[n,d]=(0,s.useState)(10),[c,o]=(0,s.useState)(""),[x,m]=(0,s.useState)(""),[p,u]=(0,s.useState)(""),g=e.filter(e=>e.isActive);return e.filter(e=>!e.isActive),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-900/40 to-purple-800/40 border border-purple-500/30 rounded-lg p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,t.jsx)(y,{className:"text-purple-400",size:24})}),(0,t.jsx)("h3",{className:"text-3xl font-bold text-white",children:e.length}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Total Coupons"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-900/40 to-green-800/40 border border-green-500/30 rounded-lg p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,t.jsx)(U,{className:"text-green-400",size:24})}),(0,t.jsx)("h3",{className:"text-3xl font-bold text-white",children:g.length}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Active Coupons"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-cyan-900/40 to-cyan-800/40 border border-cyan-500/30 rounded-lg p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,t.jsx)(E,{className:"text-cyan-400",size:24})}),(0,t.jsx)("h3",{className:"text-3xl font-bold text-white",children:e.reduce((e,t)=>e+t.usageCount,0)}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Total Usage"})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-900/20 to-cyan-900/20 border border-purple-500/30 rounded-lg p-6",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[(0,t.jsx)(h.Plus,{size:24,className:"text-cyan-400"}),"Generate New Coupon"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-bold mb-2",children:"Discount Percentage"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("input",{type:"range",min:"1",max:"100",value:n,onChange:e=>d(parseInt(e.target.value)),className:"flex-1"}),(0,t.jsxs)("span",{className:"text-3xl font-bold text-cyan-400 w-20 text-center",children:[n,"%"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-bold mb-2",children:"Coupon Code"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:c,readOnly:!0,placeholder:"Click generate",className:"flex-1 bg-black/40 border border-purple-500/30 rounded-lg px-4 py-2 text-white placeholder-gray-500 font-mono text-lg"}),(0,t.jsx)("button",{onClick:()=>{o((0,I.generateUniqueCouponCode)(e))},className:"bg-gradient-to-r from-purple-500 to-cyan-500 text-white px-4 py-2 rounded-lg hover:from-purple-600 hover:to-cyan-600 transition-all",children:(0,t.jsx)(L,{size:20})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-white font-bold mb-2",children:[(0,t.jsx)(R,{className:"inline mr-2",size:16}),"Expiry Date (Optional)"]}),(0,t.jsx)("input",{type:"date",value:x,onChange:e=>m(e.target.value),className:"w-full bg-black/40 border border-purple-500/30 rounded-lg px-4 py-2 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-white font-bold mb-2",children:[(0,t.jsx)(E,{className:"inline mr-2",size:16}),"Max Usage (Optional)"]}),(0,t.jsx)("input",{type:"number",value:p,onChange:e=>u(e.target.value),placeholder:"Unlimited",min:"1",className:"w-full bg-black/40 border border-purple-500/30 rounded-lg px-4 py-2 text-white placeholder-gray-500"})]})]}),(0,t.jsxs)(F.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{c?n<1||n>100?alert("Discount must be between 1% and 100%"):(a({code:c,discountPercent:n,expiryDate:x||void 0,isActive:!0,maxUsage:p?parseInt(p):void 0,createdBy:i,usedBy:[]}),o(""),d(10),m(""),u("")):alert("Please generate a coupon code first")},className:"mt-6 w-full bg-gradient-to-r from-purple-500 to-cyan-500 text-white font-bold py-4 px-8 rounded-lg flex items-center justify-center gap-3 hover:from-purple-600 hover:to-cyan-600 transition-all shadow-lg shadow-purple-500/50",children:[(0,t.jsx)(h.Plus,{size:20}),"Generate Coupon"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-900/20 to-cyan-900/20 border border-purple-500/30 rounded-lg p-6",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[(0,t.jsx)(y,{size:24,className:"text-cyan-400"}),"All Coupons (",e.length,")"]}),0===e.length?(0,t.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,t.jsx)(y,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"No coupons created yet"})]}):(0,t.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,t.jsx)($,{coupon:e,onToggleStatus:l,onDelete:r},e.id))})]})]})},q=a.motion,H=({products:e,refreshData:a})=>{let[l,r]=(0,s.useState)(""),[i,n]=(0,s.useState)(20),[d,c]=(0,s.useState)(""),[o,h]=(0,s.useState)("23:59"),m=e.filter(e=>!e.discountEndTime),p=e.filter(e=>e.isSale&&e.discountEndTime);return(0,t.jsxs)(q.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"bg-[#121212] border border-white/5 rounded-2xl p-6",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,t.jsx)(b.Zap,{className:"text-yellow-400"})," Create Flash Sale"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-1",children:"Select Product"}),(0,t.jsxs)("select",{value:l,onChange:e=>r(Number(e.target.value)),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none",children:[(0,t.jsx)("option",{value:"",children:"-- Choose Product --"}),m.map(e=>(0,t.jsx)("option",{value:e.id,children:e.title},e.id))]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-1",children:"Discount (%)"}),(0,t.jsx)("input",{type:"number",min:"1",max:"99",value:i,onChange:e=>n(Number(e.target.value)),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-1",children:"End Date"}),(0,t.jsx)("input",{type:"date",value:d,onChange:e=>c(e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-1",children:"End Time"}),(0,t.jsx)("input",{type:"time",value:o,onChange:e=>h(e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none"})]})]}),(0,t.jsx)("button",{onClick:()=>{if(!l||!d||!o)return void alert("Please fill all fields");let t=e.find(e=>e.id===Number(l));if(!t)return;let s=new Date(`${d}T${o}`).toISOString(),n=t.originalPrice||t.price,x={...t,price:n-i/100*n,originalPrice:n,discountPercentage:i,discountEndTime:s,isSale:!0};w.productService.saveProduct(x),a(),r(""),c("")},className:"w-full bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-500 hover:to-orange-500 text-white font-bold py-3 rounded-lg mt-2",children:"Launch Sale"})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-900/20 to-blue-900/20 border border-white/5 rounded-2xl p-6 flex flex-col justify-center text-center",children:[(0,t.jsx)(x,{size:48,className:"mx-auto text-cyan-400 mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Automated Timer"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:'Products added here will automatically appear in the "Flash Sale" section on the homepage with a countdown timer. When the timer expires, the discount is automatically removed.'})]})]}),(0,t.jsxs)("div",{className:"bg-[#121212] border border-white/5 rounded-2xl overflow-hidden",children:[(0,t.jsx)("div",{className:"p-6 border-b border-white/5",children:(0,t.jsx)("h3",{className:"text-lg font-bold",children:"Active Flash Sales"})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{className:"bg-white/5 text-xs uppercase text-gray-400",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"p-4",children:"Product"}),(0,t.jsx)("th",{className:"p-4",children:"Discount"}),(0,t.jsx)("th",{className:"p-4",children:"Price Info"}),(0,t.jsx)("th",{className:"p-4",children:"Ends In"}),(0,t.jsx)("th",{className:"p-4 text-right",children:"Action"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-white/5",children:p.length>0?p.map(e=>{let s=new Date(e.discountEndTime),l=new Date>s;return(0,t.jsxs)("tr",{className:"hover:bg-white/5",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("img",{src:e.imageUrl,alt:"",className:"w-10 h-10 rounded-md bg-gray-800 object-cover"}),(0,t.jsx)("span",{className:"font-bold text-sm",children:e.title})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("span",{className:"bg-red-500/20 text-red-400 px-2 py-1 rounded text-xs font-bold",children:["-",e.discountPercentage,"%"]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex flex-col text-xs",children:[(0,t.jsxs)("span",{className:"line-through text-gray-500",children:["Rp ",e.originalPrice?.toLocaleString()]}),(0,t.jsxs)("span",{className:"text-green-400 font-bold",children:["Rp ",e.price.toLocaleString()]})]})}),(0,t.jsx)("td",{className:"p-4 text-sm text-gray-300",children:l?(0,t.jsx)("span",{className:"text-red-500 font-bold",children:"Expired"}):(0,t.jsx)("span",{children:s.toLocaleString()})}),(0,t.jsx)("td",{className:"p-4 text-right",children:(0,t.jsx)("button",{onClick:()=>{let t;return t={...e,price:e.originalPrice||e.price,originalPrice:e.originalPrice,discountPercentage:0,discountEndTime:void 0,isSale:!1},void(w.productService.saveProduct(t),a())},className:"px-3 py-1 bg-gray-800 hover:bg-gray-700 text-white rounded text-xs font-bold",children:"Stop Sale"})})]},e.id)}):(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"p-8 text-center text-gray-500",children:"No active flash sales."})})})]})})]})]})},B=({orders:e})=>{let[a,l]=(0,s.useState)("today"),r=e.filter(e=>{let t=new Date(e.date),s=new Date,l=new Date(s.getFullYear(),s.getMonth(),s.getDate()).getTime(),r=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();return"today"===a?r===l:"week"===a?r>=l-6048e5:"month"!==a||r>=l-2592e6}),i=r.reduce((e,t)=>e+t.totalAmount,0),n=r.length>0?i/r.length:0;return(0,t.jsxs)(q.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold",children:"Laporan Keuangan"}),(0,t.jsx)("div",{className:"bg-[#121212] border border-white/10 rounded-lg p-1 flex gap-1",children:[{id:"today",label:"Hari Ini"},{id:"week",label:"7 Hari"},{id:"month",label:"30 Hari"},{id:"all",label:"Semua"}].map(e=>(0,t.jsx)("button",{onClick:()=>l(e.id),className:`px-4 py-2 rounded-md text-xs font-bold transition-all ${a===e.id?"bg-purple-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:e.label},e.id))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-[#121212] border border-white/5 p-6 rounded-2xl relative overflow-hidden group",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:(0,t.jsx)(o,{size:80})}),(0,t.jsx)("p",{className:"text-gray-400 text-xs font-bold uppercase mb-2",children:"Total Pendapatan"}),(0,t.jsxs)("h3",{className:"text-3xl font-black text-green-400 font-mono",children:["Rp ",i.toLocaleString()]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"today"===a?"Pendapatan hari ini":"all"===a?"Total seluruh waktu":`${a} terakhir`})]}),(0,t.jsxs)("div",{className:"bg-[#121212] border border-white/5 p-6 rounded-2xl relative overflow-hidden",children:[(0,t.jsx)("p",{className:"text-gray-400 text-xs font-bold uppercase mb-2",children:"Total Transaksi"}),(0,t.jsx)("h3",{className:"text-3xl font-black text-white",children:r.length}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Pesanan berhasil"})]}),(0,t.jsxs)("div",{className:"bg-[#121212] border border-white/5 p-6 rounded-2xl relative overflow-hidden",children:[(0,t.jsx)("p",{className:"text-gray-400 text-xs font-bold uppercase mb-2",children:"Rata-rata Order"}),(0,t.jsxs)("h3",{className:"text-3xl font-black text-cyan-400 font-mono",children:["Rp ",n.toLocaleString(void 0,{maximumFractionDigits:0})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Per transaksi"})]})]}),(0,t.jsxs)("div",{className:"bg-[#121212] border border-white/5 rounded-2xl overflow-hidden mt-8",children:[(0,t.jsx)("div",{className:"p-6 border-b border-white/5",children:(0,t.jsx)("h4",{className:"font-bold text-lg",children:"Riwayat Transaksi"})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{className:"bg-white/5 text-xs uppercase text-gray-400",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"p-4",children:"Waktu"}),(0,t.jsx)("th",{className:"p-4",children:"Order ID"}),(0,t.jsx)("th",{className:"p-4",children:"Pelanggan"}),(0,t.jsx)("th",{className:"p-4",children:"Status"}),(0,t.jsx)("th",{className:"p-4 text-right",children:"Jumlah"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-white/5",children:r.length>0?r.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,t.jsxs)("td",{className:"p-4 text-xs text-gray-400",children:[new Date(e.date).toLocaleDateString()," ",new Date(e.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),(0,t.jsx)("td",{className:"p-4 text-sm font-mono text-gray-300",children:e.id}),(0,t.jsx)("td",{className:"p-4 text-sm font-bold",children:e.shippingDetails.firstName}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:"px-2 py-1 rounded-md bg-green-900/30 text-green-400 text-[10px] font-bold uppercase border border-green-500/20",children:e.status})}),(0,t.jsxs)("td",{className:"p-4 text-right font-mono text-green-400 font-bold",children:["+ Rp ",e.totalAmount.toLocaleString()]})]},e.id)):(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"p-8 text-center text-gray-500",children:"Tidak ada data transaksi pada periode ini."})})})]})})]})]})},K=({stats:e,orders:s})=>(0,t.jsxs)(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)(G,{title:"Total Revenue",value:`Rp ${e.revenue.toLocaleString()}`,icon:o,color:"text-green-400"}),(0,t.jsx)(G,{title:"Total Orders",value:e.totalOrders,icon:n.ShoppingBag,color:"text-blue-400"}),(0,t.jsx)(G,{title:"Pending Process",value:e.pending,icon:x,color:"text-yellow-400"}),(0,t.jsx)(G,{title:"Total Products",value:e.totalProducts,icon:d.Package,color:"text-purple-400"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 bg-[#121212] border border-white/5 rounded-2xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold mb-6",children:"Sales Analytics (Yearly)"}),(0,t.jsx)("div",{className:"h-64 flex items-end justify-between gap-2",children:[40,65,30,80,55,90,45,70,60,85,50,95].map((e,s)=>(0,t.jsx)("div",{className:"w-full bg-white/5 rounded-t-lg hover:bg-purple-600/50 transition-colors relative group",style:{height:`${e}%`},children:(0,t.jsxs)("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[e,"%"]})},s))}),(0,t.jsxs)("div",{className:"flex justify-between mt-4 text-xs text-gray-500 font-mono",children:[(0,t.jsx)("span",{children:"JAN"}),(0,t.jsx)("span",{children:"FEB"}),(0,t.jsx)("span",{children:"MAR"}),(0,t.jsx)("span",{children:"APR"}),(0,t.jsx)("span",{children:"MAY"}),(0,t.jsx)("span",{children:"JUN"}),(0,t.jsx)("span",{children:"JUL"}),(0,t.jsx)("span",{children:"AUG"}),(0,t.jsx)("span",{children:"SEP"}),(0,t.jsx)("span",{children:"OCT"}),(0,t.jsx)("span",{children:"NOV"}),(0,t.jsx)("span",{children:"DEC"})]})]}),(0,t.jsxs)("div",{className:"bg-[#121212] border border-white/5 rounded-2xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Recent Activity"}),(0,t.jsx)("div",{className:"space-y-4",children:s.slice(0,5).map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-800 to-black flex items-center justify-center font-bold text-xs",children:e.shippingDetails.firstName.charAt(0)}),(0,t.jsxs)("div",{className:"flex-1 overflow-hidden",children:[(0,t.jsxs)("p",{className:"text-sm font-bold truncate",children:["New Order #",e.id]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 truncate",children:new Date(e.date).toLocaleDateString()})]}),(0,t.jsxs)("span",{className:"text-xs font-bold text-green-400",children:["+Rp ",(e.totalAmount/1e3).toFixed(0),"k"]})]},e.id))})]})]})]}),V=({orders:e,onStatusUpdate:s,onViewProof:a})=>(0,t.jsx)(q.div,{initial:{opacity:0},animate:{opacity:1},children:(0,t.jsxs)("div",{className:"bg-[#121212] border border-white/5 rounded-2xl overflow-hidden",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{className:"bg-white/5 text-xs uppercase text-gray-400",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"p-4 font-bold",children:"Order ID"}),(0,t.jsx)("th",{className:"p-4 font-bold",children:"Customer"}),(0,t.jsx)("th",{className:"p-4 font-bold",children:"Items"}),(0,t.jsx)("th",{className:"p-4 font-bold",children:"Total"}),(0,t.jsx)("th",{className:"p-4 font-bold",children:"Payment"}),(0,t.jsx)("th",{className:"p-4 font-bold",children:"Status"}),(0,t.jsx)("th",{className:"p-4 font-bold text-right",children:"Action"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-white/5",children:e.map(e=>{let l=(e=>{switch(e){case"pending":return"Terima Pesanan";case"confirmed":return"Mulai Kemas";case"packing":return"Kirim Pesanan";case"shipped":return"Pesanan Selesai";default:return null}})(e.status);return(0,t.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,t.jsx)("td",{className:"p-4 text-sm font-mono text-gray-300",children:e.id}),(0,t.jsxs)("td",{className:"p-4",children:[(0,t.jsxs)("div",{className:"font-bold text-sm",children:[e.shippingDetails.firstName," ",e.shippingDetails.lastName]}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:e.shippingDetails.email})]}),(0,t.jsxs)("td",{className:"p-4 text-sm text-gray-300",children:[e.items.length," items"]}),(0,t.jsxs)("td",{className:"p-4 font-mono text-cyan-400 font-bold",children:["Rp ",e.totalAmount.toLocaleString()]}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("span",{className:`text-[10px] uppercase font-bold px-2 py-0.5 rounded w-max ${"cod"===e.paymentMethod?"bg-orange-500/20 text-orange-400":"bg-blue-500/20 text-blue-400"}`,children:"cod"===e.paymentMethod?"COD":"Bank Transfer"}),"bank"===e.paymentMethod&&e.paymentProofUrl&&(0,t.jsxs)("button",{onClick:()=>a(e.paymentProofUrl),className:"text-xs flex items-center gap-1 text-gray-400 hover:text-white transition-colors",children:[(0,t.jsx)(j,{size:12})," Check Proof"]})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${"delivered"===e.status?"bg-green-500/20 text-green-400":"shipped"===e.status?"bg-blue-500/20 text-blue-400":"packing"===e.status?"bg-orange-500/20 text-orange-400":"confirmed"===e.status?"bg-indigo-500/20 text-indigo-400":"bg-yellow-500/20 text-yellow-400"}`,children:e.status})}),(0,t.jsx)("td",{className:"p-4 text-right",children:l?(0,t.jsx)("button",{onClick:()=>s(e.id,e.status),className:`px-4 py-2 rounded-lg text-xs font-bold transition-colors shadow-lg ${"pending"===e.status?"bg-green-600 hover:bg-green-500 text-white":"confirmed"===e.status?"bg-indigo-600 hover:bg-indigo-500 text-white":"packing"===e.status?"bg-blue-600 hover:bg-blue-500 text-white":"shipped"===e.status?"bg-gray-700 hover:bg-gray-600 text-white":""}`,children:l}):(0,t.jsx)("span",{className:"text-xs text-gray-500 font-bold",children:"Completed"})})]},e.id)})})]})}),0===e.length&&(0,t.jsx)("div",{className:"p-8 text-center text-gray-500",children:"No orders found."})]})}),_=({products:e,onDelete:s,onEdit:a,onAdd:l})=>(0,t.jsxs)(q.div,{initial:{opacity:0},animate:{opacity:1},children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold",children:"Inventory Management"}),(0,t.jsxs)("button",{onClick:l,className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-500 px-4 py-2 rounded-lg font-bold text-sm transition-colors",children:[(0,t.jsx)(h.Plus,{size:16})," Add Product"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:e.map(e=>(0,t.jsxs)("div",{className:"bg-[#121212] border border-white/5 rounded-xl overflow-hidden group",children:[(0,t.jsxs)("div",{className:"aspect-square bg-gray-900 relative",children:[e.imageUrl?(0,t.jsx)("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-700 text-xs",children:"No Image"}),(0,t.jsxs)("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("button",{onClick:()=>a(e),className:"p-1.5 bg-white text-black rounded-full hover:scale-110 transition-transform",children:(0,t.jsx)(m,{size:14})}),(0,t.jsx)("button",{onClick:()=>s(e.id),className:"p-1.5 bg-red-500 text-white rounded-full hover:scale-110 transition-transform",children:(0,t.jsx)(p,{size:14})})]})]}),(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500 uppercase font-bold mb-1",children:e.category}),(0,t.jsx)("h4",{className:"font-bold text-sm truncate mb-1",children:e.title}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[e.isSale&&(0,t.jsxs)("span",{className:"text-[10px] text-gray-500 line-through",children:["Rp ",e.originalPrice?.toLocaleString()]}),(0,t.jsxs)("span",{className:`font-mono text-sm ${e.isSale?"text-green-400 font-bold":"text-cyan-400"}`,children:["Rp ",e.price.toLocaleString()]})]}),e.isSale&&(0,t.jsxs)("span",{className:"text-[10px] bg-red-500 px-1.5 rounded text-white font-bold",children:["-",e.discountPercentage,"%"]})]})]})]},e.id))})]}),G=({title:e,value:s,icon:a,color:l})=>(0,t.jsxs)("div",{className:"bg-[#121212] border border-white/5 p-6 rounded-2xl flex items-center justify-between group hover:border-white/10 transition-colors",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider mb-2",children:e}),(0,t.jsx)("h3",{className:"text-2xl font-black font-mono text-white",children:s})]}),(0,t.jsx)("div",{className:`w-12 h-12 rounded-xl bg-white/5 flex items-center justify-center ${l} group-hover:scale-110 transition-transform`,children:(0,t.jsx)(a,{size:24})})]}),J=({user:e,onLogout:a,onNavigate:r,feedbacks:x=[],conversations:h=[],coupons:m=[],onUpdateFeedbackStatus:p=()=>{},onSendMessage:k=()=>{},onCreateCoupon:S=()=>{},onToggleCouponStatus:C=()=>{},onDeleteCoupon:P=()=>{}})=>{let[A,D]=(0,s.useState)("overview"),[z,T]=(0,s.useState)([]),[U,L]=(0,s.useState)([]),[R,E]=(0,s.useState)(!0),[I,F]=(0,s.useState)({revenue:0,totalOrders:0,pending:0,totalProducts:0}),[$,G]=(0,s.useState)(!1),[J,W]=(0,s.useState)(null),[Y,Z]=(0,s.useState)(!1),[X,Q]=(0,s.useState)(""),[ee,et]=(0,s.useState)(""),[es,ea]=(0,s.useState)(!1),[el,er]=(0,s.useState)(0),[ei,en]=(0,s.useState)(0),[ed,ec]=(0,s.useState)("upload"),[eo,ex]=(0,s.useState)("");(0,s.useEffect)(()=>{eh()},[]);let eh=async()=>{E(!0);try{let e=await v.authService.getAllOrdersAsync(),t=await w.productService.getAllProductsAsync();T(e.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())),L(t);let s=e.reduce((e,t)=>e+t.totalAmount,0),a=e.filter(e=>"pending"===e.status||"confirmed"===e.status||"packing"===e.status).length;F({revenue:s,totalOrders:e.length,pending:a,totalProducts:t.length})}catch(e){console.error("Failed to load dashboard data",e)}finally{E(!1)}},em=async(e,t)=>{let s=null;switch(t){case"pending":s="confirmed";break;case"confirmed":s="packing";break;case"packing":s="shipped";break;case"shipped":s="delivered";break;default:s=null}s&&(await v.authService.updateOrderStatus(e,s),eh())},ep=e=>{e?(W(e),et(e.imageUrl),er(e.originalPrice||e.price),ea(!!e.isSale),en(e.discountPercentage||0),e.imageUrl&&!e.imageUrl.startsWith("data:")?(ec("url"),ex(e.imageUrl)):(ec("upload"),ex(""))):(W(null),et(""),er(0),ea(!1),en(0),ec("upload"),ex("")),G(!0)},eu=async e=>{e.preventDefault();let t=new FormData(e.currentTarget),s=Number(t.get("originalPrice")),a=s,l=0;es&&(a=s-(l=Number(t.get("discountPercentage")))/100*s);let r="url"===ed?eo:ee,i={id:J?J.id:0,title:t.get("title"),price:a,originalPrice:s,discountPercentage:es?l:0,category:t.get("category"),imageUrl:r,description:t.get("description")||"",isSale:es,isNew:"on"===t.get("isNew"),discountEndTime:J?.discountEndTime};(await w.productService.saveProduct(i)).success?(G(!1),W(null),await eh()):alert("Failed to save product to database. Please try again.")};return(0,t.jsxs)("div",{className:"min-h-screen bg-[#050505] text-white font-sans flex overflow-hidden",children:[(0,t.jsxs)(q.aside,{initial:{x:-100},animate:{x:0},className:"w-64 bg-[#0a0a0a] border-r border-white/5 flex flex-col z-20",children:[(0,t.jsxs)("div",{className:"h-20 flex items-center gap-3 px-6 border-b border-white/5",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-cyan-500 to-purple-600 rounded-lg flex items-center justify-center text-black font-bold",children:"A"}),(0,t.jsx)("span",{className:"text-xl font-bold brand-font tracking-wider",children:"ADMIN"})]}),(0,t.jsx)("nav",{className:"flex-1 py-6 px-3 space-y-1",children:[{id:"overview",icon:i,label:"Overview"},{id:"finance",icon:o,label:"Keuangan"},{id:"orders",icon:n.ShoppingBag,label:"Orders"},{id:"products",icon:d.Package,label:"Products"},{id:"flash-sale",icon:b.Zap,label:"Flash Sale"},{id:"coupons",icon:y,label:"Coupons"},{id:"feedback-chat",icon:f.MessageSquare,label:"Feedback & Chat"}].map(e=>(0,t.jsxs)("button",{onClick:()=>D(e.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all font-medium text-sm ${A===e.id?"bg-purple-600/20 text-purple-400 border border-purple-500/20 shadow-[0_0_15px_rgba(147,51,234,0.15)]":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[(0,t.jsx)(e.icon,{size:18}),e.label]},e.id))}),(0,t.jsxs)("div",{className:"p-4 border-t border-white/5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("img",{src:e.avatar,alt:"Admin",className:"w-10 h-10 rounded-full bg-gray-800"}),(0,t.jsxs)("div",{className:"overflow-hidden",children:[(0,t.jsx)("p",{className:"text-sm font-bold text-white truncate",children:"System Admin"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 truncate",children:"admin@farrtz.com"})]})]}),(0,t.jsxs)("button",{onClick:a,className:"w-full py-2 flex items-center justify-center gap-2 text-red-400 bg-red-500/10 rounded-lg hover:bg-red-500/20 transition-colors text-xs font-bold uppercase tracking-wider",children:[(0,t.jsx)(c.LogOut,{size:14})," Logout"]})]})]}),(0,t.jsxs)("main",{className:"flex-1 flex flex-col relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-purple-900/10 rounded-full blur-[120px] pointer-events-none"}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-cyan-900/10 rounded-full blur-[120px] pointer-events-none"}),(0,t.jsxs)("header",{className:"h-20 border-b border-white/5 flex items-center justify-between px-8 bg-[#050505]/80 backdrop-blur-md sticky top-0 z-10",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold brand-font capitalize",children:A.replace("-"," ")}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-full border border-white/5 text-xs text-green-400",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"System Online"]}),(0,t.jsx)("button",{onClick:()=>r("home"),className:"text-sm text-gray-400 hover:text-white transition-colors",children:"View Storefront"})]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:(0,t.jsxs)(l.AnimatePresence,{mode:"wait",children:["overview"===A&&(0,t.jsx)(K,{stats:I,orders:z}),"finance"===A&&(0,t.jsx)(B,{orders:z}),"orders"===A&&(0,t.jsx)(V,{orders:z,onStatusUpdate:em,onViewProof:e=>{Q(e),Z(!0)}}),"products"===A&&(0,t.jsx)(_,{products:U,onDelete:e=>{window.confirm("Are you sure you want to delete this product?")&&(w.productService.deleteProduct(e),eh())},onEdit:ep,onAdd:()=>ep()}),"flash-sale"===A&&(0,t.jsx)(H,{products:U,refreshData:eh}),"coupons"===A&&(0,t.jsx)(O,{coupons:m,onCreateCoupon:S,onToggleStatus:C,onDeleteCoupon:P,adminId:e.id}),"feedback-chat"===A&&(0,t.jsx)(M,{feedbacks:x,conversations:h,onUpdateFeedbackStatus:p,onSendMessage:k})]})})]}),(0,t.jsx)(l.AnimatePresence,{children:Y&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm p-4",children:(0,t.jsxs)(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative max-w-2xl w-full",children:[(0,t.jsx)("button",{onClick:()=>Z(!1),className:"absolute -top-12 right-0 text-white hover:text-gray-300",children:(0,t.jsx)(u.X,{size:32})}),(0,t.jsx)("img",{src:X,alt:"Payment Proof",className:"w-full h-auto rounded-lg shadow-2xl border border-white/20"})]})})}),(0,t.jsx)(l.AnimatePresence,{children:$&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 overflow-y-auto",children:(0,t.jsxs)(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-[#121212] border border-white/10 rounded-2xl w-full max-w-lg p-6 shadow-2xl my-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold",children:J?"Edit Product":"Add New Product"}),(0,t.jsx)("button",{onClick:()=>G(!1),className:"p-2 hover:bg-white/10 rounded-full",children:(0,t.jsx)(u.X,{size:20})})]}),(0,t.jsxs)("form",{onSubmit:eu,className:"space-y-4 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-center gap-2 mb-4",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>ec("upload"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${"upload"===ed?"bg-purple-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10 hover:text-white"}`,children:[(0,t.jsx)(g.Upload,{size:16}),"Upload File"]}),(0,t.jsxs)("button",{type:"button",onClick:()=>ec("url"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-all ${"url"===ed?"bg-purple-600 text-white":"bg-white/5 text-gray-400 hover:bg-white/10 hover:text-white"}`,children:[(0,t.jsx)(N,{size:16}),"Image URL"]})]}),"upload"===ed&&(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsxs)("label",{className:"cursor-pointer group relative",children:[(0,t.jsx)("div",{className:"w-32 h-32 rounded-xl bg-gray-800 border-2 border-dashed border-gray-600 flex items-center justify-center overflow-hidden",children:ee?(0,t.jsx)("img",{src:ee,alt:"Preview",className:"w-full h-full object-cover"}):(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(g.Upload,{className:"mx-auto text-gray-400 mb-1",size:24}),(0,t.jsx)("span",{className:"text-[10px] text-gray-400",children:"Upload Image"})]})}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-xl",children:(0,t.jsx)("span",{className:"text-xs font-bold",children:"Change"})}),(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onloadend=()=>{et(e.result)},e.readAsDataURL(t)}},className:"hidden"})]})}),"url"===ed&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-1",children:"Image URL"}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(N,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,t.jsx)("input",{type:"url",value:eo,onChange:e=>ex(e.target.value),placeholder:"https://example.com/image.jpg",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 pl-10 text-white focus:border-purple-500 outline-none text-sm"})]})})]}),eo&&(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsxs)("div",{className:"w-32 h-32 rounded-xl bg-gray-800 border-2 border-gray-600 flex items-center justify-center overflow-hidden",children:[(0,t.jsx)("img",{src:eo,alt:"URL Preview",className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextElementSibling?.classList.remove("hidden")}}),(0,t.jsxs)("div",{className:"hidden text-center p-2",children:[(0,t.jsx)(j,{className:"mx-auto text-red-400 mb-1",size:24}),(0,t.jsx)("span",{className:"text-[10px] text-red-400",children:"Invalid URL"})]})]})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-1",children:"Product Title"}),(0,t.jsx)("input",{name:"title",defaultValue:J?.title,required:!0,className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white focus:border-purple-500 outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-1",children:"Product Description"}),(0,t.jsx)("textarea",{name:"description",defaultValue:J?.description||"",rows:4,placeholder:"Enter product description, features, specifications...",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white focus:border-purple-500 outline-none resize-none"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-1",children:"Category"}),(0,t.jsxs)("select",{name:"category",defaultValue:J?.category||"T-shirt",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white focus:border-purple-500 outline-none",children:[(0,t.jsx)("option",{value:"T-shirt",children:"T-shirt"}),(0,t.jsx)("option",{value:"Hoodies",children:"Hoodies"}),(0,t.jsx)("option",{value:"Hats",children:"Hats"}),(0,t.jsx)("option",{value:"Bags",children:"Bags"}),(0,t.jsx)("option",{value:"Tank Tops",children:"Tank Tops"}),(0,t.jsx)("option",{value:"Shorts",children:"Shorts"}),(0,t.jsx)("option",{value:"Kids",children:"Kids"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-1",children:"Base Price (Rp)"}),(0,t.jsx)("input",{name:"originalPrice",type:"number",value:el,onChange:e=>er(Number(e.target.value)),required:!0,className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white focus:border-purple-500 outline-none"})]})]}),!J?.discountEndTime&&(0,t.jsxs)("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer mb-3",children:[(0,t.jsx)("input",{name:"isSale",type:"checkbox",checked:es,onChange:e=>ea(e.target.checked),className:"w-4 h-4 accent-purple-500"}),(0,t.jsx)("span",{className:"text-sm font-bold text-white",children:"Activate Discount"})]}),es&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-400 uppercase font-bold mb-1",children:"Discount Percentage (%)"}),(0,t.jsx)("input",{name:"discountPercentage",type:"number",min:"1",max:"99",value:ei,onChange:e=>en(Number(e.target.value)),className:"w-full bg-black/30 border border-white/10 rounded-lg p-3 text-white focus:border-purple-500 outline-none"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm p-2 bg-green-500/10 rounded border border-green-500/20",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Final Price:"}),(0,t.jsxs)("span",{className:"font-bold text-green-400 font-mono",children:["Rp. ",(el-ei/100*el).toLocaleString()]})]})]})]}),(0,t.jsx)("div",{className:"pt-2",children:(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{name:"isNew",type:"checkbox",defaultChecked:J?.isNew,className:"w-4 h-4 accent-purple-500"}),(0,t.jsx)("span",{className:"text-sm",children:"Mark as New Arrival"})]})}),(0,t.jsx)("button",{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 rounded-lg mt-4 transition-colors",children:J?"Update Product":"Create Product"})]})]})})})]})},W=a.motion,Y=({onLoginSuccess:e})=>{let[a,l]=(0,s.useState)(""),[r,i]=(0,s.useState)(""),[n,d]=(0,s.useState)(""),[c,o]=(0,s.useState)(!1),x=async t=>{t.preventDefault(),d(""),o(!0);try{let t=await v.authService.adminLogin(a,r);t.success&&t.user?e(t.user):d(t.message||"Invalid credentials")}catch(e){d(e.message||"Invalid credentials or unauthorized access")}finally{o(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen w-full flex bg-gradient-to-br from-red-950 via-purple-950 to-gray-900",children:[(0,t.jsxs)("div",{className:"hidden lg:block w-1/2 relative overflow-hidden bg-black",children:[(0,t.jsx)(W.img,{initial:{scale:1.1,opacity:0},animate:{scale:1,opacity:1},transition:{duration:1.5},src:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=2070&auto=format&fit=crop",alt:"Admin Dashboard",className:"object-cover w-full h-full opacity-70"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-purple-950"}),(0,t.jsxs)("div",{className:"absolute bottom-10 left-10 text-white z-10",children:[(0,t.jsx)("div",{className:"h-1 w-20 bg-red-500 mb-4"}),(0,t.jsx)("h2",{className:"text-4xl font-bold brand-font mb-2",children:"ADMIN ACCESS"}),(0,t.jsx)("p",{className:"tech-font text-gray-300",children:"Management & Control Center"})]})]}),(0,t.jsxs)("div",{className:"w-full lg:w-1/2 flex flex-col justify-center items-center p-8 lg:p-16 relative",children:[(0,t.jsxs)(W.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"w-full max-w-md space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-8",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-red-600 to-purple-700 rounded-lg flex items-center justify-center text-white font-bold",children:(0,t.jsx)("span",{role:"img","aria-label":"shield",className:"text-sm",children:""})}),(0,t.jsx)("span",{className:"text-xl font-black brand-font text-white italic",children:"FARRTZ ADMIN"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-white brand-font tracking-wide",children:"Admin Login"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-400 tech-font",children:"Enter admin credentials to access dashboard."})]}),(0,t.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:x,children:[n&&(0,t.jsx)("div",{className:"bg-red-500/20 border border-red-500 text-red-200 text-sm px-4 py-2 rounded",children:n}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"admin-email",className:"block text-xs font-medium text-gray-300 uppercase tracking-wider tech-font mb-1",children:"Admin Email *"}),(0,t.jsx)("input",{id:"admin-email",name:"email",type:"email",required:!0,value:a,onChange:e=>l(e.target.value),className:"appearance-none block w-full px-4 py-3 bg-white border border-red-700 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all",placeholder:"admin@gmail.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"admin-password",className:"block text-xs font-medium text-gray-300 uppercase tracking-wider tech-font mb-1",children:"Admin Password *"}),(0,t.jsx)("input",{id:"admin-password",name:"password",type:"password",required:!0,value:r,onChange:e=>i(e.target.value),className:"appearance-none block w-full px-4 py-3 bg-white border border-red-700 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all",placeholder:""})]})]}),(0,t.jsx)("button",{type:"submit",disabled:c,className:`group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-lg text-white bg-gradient-to-r from-red-600 to-purple-700 hover:from-red-700 hover:to-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all uppercase tracking-widest shadow-[0_0_15px_rgba(220,38,38,0.5)] ${c?"opacity-70 cursor-wait":""}`,children:c?"Authenticating...":"Access Dashboard"}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500 tech-font",children:" Secure admin-only access"}),(0,t.jsx)("p",{className:"text-xs text-gray-600 tech-font mt-2",children:"Default: admin@gmail.com / admin123"})]})]})]}),(0,t.jsx)("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-80 h-80 rounded-full bg-red-600/20 blur-[100px] pointer-events-none"}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 w-80 h-80 rounded-full bg-purple-600/10 blur-[100px] pointer-events-none"})]})]})};var Z=e.i(96584);function X(){let[e,a]=(0,s.useState)(null),[l,r]=(0,s.useState)(!0),[i,n]=(0,s.useState)([]),[d,c]=(0,s.useState)([]),[o,x]=(0,s.useState)([]),h=async()=>{let[e,t,s]=await Promise.all([Z.feedbackService.getAllFeedback(),Z.messagesService.getAllMessages(),Z.couponsService.getAllCoupons()]);n(e||[]),c(t||[]),x(s||[])};(0,s.useEffect)(()=>{let e=v.authService.getCurrentUser();e?.isAdmin&&a(e),h(),r(!1)},[]);let m=async()=>{await v.authService.logout(),a(null)},p=async(e,t)=>{try{await Z.feedbackService.updateFeedbackStatus(e,t)&&n(s=>s.map(s=>s.id===e?{...s,status:t}:s))}catch(e){console.error(e)}},u=async(e,t)=>{try{if(await Z.messagesService.sendMessage({userId:e,message:t,sender:"admin"})){let e=await Z.messagesService.getAllMessages();e&&c(e)}}catch(e){console.error(e)}},g=async e=>{try{let t=await Z.couponsService.createCoupon(e);t&&(x(e=>[t,...e]),console.log(" Coupon created via API:",t))}catch(e){console.error(e)}},b=async e=>{try{await Z.couponsService.toggleCouponStatus(e)&&x(t=>t.map(t=>t.id===e?{...t,isActive:!t.isActive}:t))}catch(e){console.error(e)}},j=async e=>{try{confirm("Delete this coupon?")&&(await Z.couponsService.deleteCoupon(e),x(t=>t.filter(t=>t.id!==e)))}catch(e){console.error(e)}};return l?(0,t.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center text-red-400 brand-font",children:"LOADING ADMIN PANEL..."}):(0,t.jsx)(t.Fragment,{children:e?(0,t.jsx)(J,{user:e,onNavigate:()=>{},onLogout:m,feedbacks:i,conversations:d,coupons:o,onUpdateFeedbackStatus:p,onSendMessage:u,onCreateCoupon:g,onToggleCouponStatus:b,onDeleteCoupon:j}):(0,t.jsx)(Y,{onLoginSuccess:e=>{a(e),h()}})})}e.s(["default",()=>X],19475)}]);